(this["webpackJsonphusker-scope"]=this["webpackJsonphusker-scope"]||[]).push([[1],{100:function(e,t,n){},101:function(e,t,n){},102:function(e,t,n){},113:function(e,t,n){},114:function(e,t,n){},115:function(e,t,n){"use strict";n.r(t);var i,s=n(1),a=n.n(s),o=n(34),c=n.n(o),r=n(2),l=n(66),u=n(28),d=n(69),h=n(17),b=(n(89),n(0)),j=[{title:"Function Generator",url:"/page/FunctionGenerator",iosIcon:h.h,mdIcon:h.i},{title:"Oscilloscope",url:"/page/OScope",iosIcon:h.l,mdIcon:h.m},{title:"AM/FM",url:"/page/AMFM",iosIcon:h.l,mdIcon:h.l},{title:"Tutorial",url:"/page/Tutorial",iosIcon:h.l,mdIcon:h.l},{title:"About",url:"/page/About",iosIcon:h.l,mdIcon:h.l}],p=function(){var e=Object(u.f)();return Object(b.jsx)(r.m,{contentId:"main",type:"overlay","data-testid":"menu-toggle",children:Object(b.jsx)(r.d,{children:Object(b.jsxs)(r.k,{id:"inbox-list",mode:"ios",children:[Object(b.jsx)(r.l,{children:"Husker Scope"}),j.map((function(t,n){return Object(b.jsx)(r.o,{autoHide:!1,children:Object(b.jsx)(r.i,{className:e.pathname===t.url?"selected":"",routerLink:t.url,routerDirection:"none",lines:"none",detail:!1,children:Object(b.jsx)(r.j,{children:t.title})})},n)})),Object(b.jsx)("div",{className:"the-logo",children:Object(b.jsx)(r.g,{class:"logo-menu",src:"/~jfalkinburg/husker-scope/app/assets/Husker_Scope_Logo_rounded_corners.png"})})]})})})},f=n(8),v=n(15),m=n(19);var O={frequency:440,carrierFrequency:550,messageFrequency:20,amplitude:100,waveform:"sine",phase:180,outputting:!1,modulation:!0},g={channelOne:O,channelTwo:O,currChannel:0,earWarning:!0},x=Object(s.createContext)({}),w=JSON.parse(null!==(i=window.localStorage.persistedState)&&void 0!==i?i:"{}"),y=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.currChannel,i=Object(f.a)({},e),s=0===n?"channelOne":"channelTwo",a=Object(f.a)(Object(f.a)({},e[s]),t);return Object(f.a)(Object(f.a)({},i),{},Object(m.a)({},s,a))},k=function(e,t){switch(t.type){case"acceptWarning":return Object(f.a)(Object(f.a)({},e),{},{earWarning:!1});case"setFrequency":return y(e,{frequency:t.payload});case"setCarrierFrequency":return y(e,{carrierFrequency:t.payload});case"setMessageFrequency":return y(e,{messageFrequency:t.payload});case"setAmplitude":return y(e,{amplitude:t.payload});case"setWaveform":return y(e,{waveform:t.payload});case"setPhase":return y(e,{phase:(n=t.payload,i=0,s=360,Math.min(Math.max(n,i),s))});case"setChannelOutputting":return y(e,{outputting:t.payload},t.channel);case"setCurrChannel":return Object(f.a)(Object(f.a)({},e),{},{currChannel:t.payload});case"setModulationMode":return y(e,{modulation:t.payload})}var n,i,s;return e};function C(e){var t=Object(f.a)(Object(f.a)(Object(f.a)({},g),w),{},{channelOne:Object(f.a)(Object(f.a)({},g.channelOne),w.channelOne),channelTwo:Object(f.a)(Object(f.a)({},g.channelTwo),w.channelTwo)}),n=a.a.useReducer(k,t),i=Object(v.a)(n,2),o=i[0],c=i[1];Object(s.useEffect)((function(){var e=Object(f.a)(Object(f.a)({},o),{},{channelOne:Object(f.a)(Object(f.a)({},o.channelOne),{},{outputting:!1}),channelTwo:Object(f.a)(Object(f.a)({},o.channelTwo),{},{outputting:!1}),currChannel:0});window.localStorage.persistedState=JSON.stringify(e)}),[o]);var r={state:o,dispatch:c};return Object(b.jsx)(x.Provider,{value:r,children:e.children})}x.Consumer;var M=function(e){return{type:"setAmplitude",payload:e}},F=function(e){return{type:"setCurrChannel",payload:e}},P=function(e,t){return{type:"setChannelOutputting",payload:t,channel:e}},q=function(e){return{type:"setModulationMode",payload:e}},N=function(e){return A(e,e.currChannel)},A=function(e,t){return 0===t?e.channelOne:e.channelTwo},T=function(e){return e.frequency},S=function(e){return e.carrierFrequency},D=function(e){return e.messageFrequency},_=function(e){return e.amplitude},I=function(e){return e.waveform},H=function(e){return e.phase},W=function(e){return e.outputting},R=function(e){return e.modulation},z=function(e,t){return 1/e*(t/360+.5)},E=function(e){var t=Object(s.useRef)(null),i=Object(s.useRef)(null),a=Object(s.useRef)(null),o=Object(s.useRef)(null),c=Object(s.useRef)(440),r=Object(s.useRef)(40),l=Object(s.useRef)(100),u=Object(s.useRef)(180),d=Object(s.useRef)(!1),h=48e3,b=2048,j=2048,p=n(91).fft;return Object(s.useEffect)((function(){if(e.audioCtx&&e.active){var n=e.audioCtx.createOscillator();"custom"!=e.waveform&&(n.frequency.value=c.current,n.type=e.waveform);var s=e.audioCtx.createGain();s.gain.value=l.current;var r=e.audioCtx.createStereoPanner(),d=0;switch(e.channel){case"left":d=-1;break;case"right":d=1;break;default:d=0}r.pan.value=d;var h=e.audioCtx.createDelay();return h.delayTime.value=z(c.current,u.current),t.current=n,a.current=s,i.current=r,o.current=h,n.connect(s),s.connect(r),r.connect(h),h.connect(e.audioCtx.destination),e.analyser&&h.connect(e.analyser),e.syncMultiplier?n.start(Math.ceil(e.audioCtx.currentTime+.05)):n.start(),function(){n.stop(),n.disconnect(),s.disconnect(),r.disconnect(),h.disconnect(),e.analyser&&e.analyser.disconnect()}}}),[e.audioCtx,e.waveform,e.channel,e.active,e.analyser,e.syncMultiplier]),Object(s.useEffect)((function(){if(c.current=e.frequency,r.current=e.messageFrequency,l.current=e.amplitude,u.current=e.phase,d.current=e.modulation,e.audioCtx&&e.active)if("custom"==e.waveform){var n=new Float32Array(b),i=new Float32Array(j/2),s=new Float32Array(j/2);if(d.current){t.current.frequency.value=r.current;for(var f=25*c.current/r.current*.94,v=0;v<b;v++)n[v]=Math.sin(2*Math.PI*f*v/h)*Math.sin(2*Math.PI*23.4375*v/h)}else{t.current.frequency.value=r.current;for(var m=25*c.current/r.current*.94,O=.5*c.current/r.current,g=0;g<b;g++)n[g]=Math.sin(2*Math.PI*m*g/h+O*Math.sin(2*Math.PI*23.4375*g/h))}for(var x=p(n),w=0;w<j/2;w++)i[w]=-2*x[w][0]*Math.PI/j,s[w]=-2*x[w][1]*Math.PI/j;var y=e.audioCtx.createPeriodicWave(i,s,{disableNormalization:!0});t.current.setPeriodicWave(y),o.current.delayTime.value=0,a.current.gain.value=.2*l.current}else t.current.frequency.value=c.current,o.current.delayTime.value=z(c.current,u.current),a.current.gain.value=l.current}),[e.audioCtx,e.active,e.frequency,e.messageFrequency,e.amplitude,e.phase,e.modulation]),null};var L=n(56),B=function(e){return Object(s.useEffect)((function(){if(e.enabled)return L.a.keepAwake(),function(){L.a.allowSleepAgain()}}),[e.enabled]),null},U=function(e){var t=Object(s.useRef)(null);Object(s.useEffect)((function(){return t.current=new AudioContext,function(){t.current.close()}}),[]);var n,i,a=(n=e.chOne.frequency,i=e.chTwo.frequency,0!==Math.max(n,i)%Math.min(n,i)?0:Math.max(n,i)/Math.min(n,i));return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(B,{enabled:e.chOne.active||e.chTwo.active}),Object(b.jsx)(E,Object(f.a)({channel:"left",syncMultiplier:a,audioCtx:t.current},e.chOne)),Object(b.jsx)(E,Object(f.a)({channel:"right",syncMultiplier:a,audioCtx:t.current},e.chTwo))]})},V=(n(95),n(6)),G=function(){var e=Object(s.useContext)(x),t=e.state,n=e.dispatch,i=Object(r.G)(),a=Object(v.a)(i,1)[0];Object(s.useEffect)((function(){t.earWarning&&a({cssClass:"alert",header:"Warning",message:"This app can produce loud sounds that can damage sensitive parts of the ear resulting in hearing loss.<br /><br />Use with caution and avoid wearing headphones.",buttons:[{text:"I understand",handler:function(){n({type:"acceptWarning"})}}]})}),[n,a,t.earWarning]),Object(s.useEffect)((function(){return function(){n(P(0,!1)),n(P(1,!1))}}),[n]);var o=N(t),c=A(t,0),l=A(t,1),u=T(o),d=Object(s.useCallback)((function(e){n(function(e){return{type:"setFrequency",payload:e}}(e))}),[n]),h=T(c),j=T(l),p=_(o),m=Object(s.useCallback)((function(e){n(M(Math.max(0,e)))}),[n]),O=_(c),g=_(l),w=I(o),y=Object(s.useCallback)((function(e){n(function(e){return{type:"setWaveform",payload:e}}(e))}),[n]),k=I(c),C=I(l),q=H(o),S=Object(s.useCallback)((function(e){n(function(e){return{type:"setPhase",payload:e}}(e))}),[n]),D=H(c),R=H(l),z=t.currChannel,E=Object(s.useCallback)((function(e){n(F(e))}),[n]),L=W(c),B=W(l),G=Object(s.useCallback)((function(){n(P(0,!L))}),[L,n]),K=Object(s.useCallback)((function(){n(P(1,!B))}),[B,n]);var Q=Object(s.useState)({showPopover:!1,frequency:440}),Y=Object(v.a)(Q,2),J=Y[0],X=Y[1],$=Object(s.useState)({showPopover:!1,amplitude:100}),Z=Object(v.a)($,2),ee=Z[0],te=Z[1],ne=Object(s.useState)({showPopover:!1,phase:180}),ie=Object(v.a)(ne,2),se=ie[0],ae=ie[1];function oe(){d(J.frequency),X({showPopover:!1,frequency:u})}function ce(){m(ee.amplitude),te({showPopover:!1,amplitude:p})}function re(){S(se.phase),ae({showPopover:!1,phase:q})}function le(e,t){if("Enter"===e.key)switch(t){case"frequency":oe();break;case"amplitude":ce();break;case"phase":re()}}var ue=Object(s.useRef)(null),de=Object(s.useRef)(null),he=Object(s.useRef)(null);var be={active:L,frequency:h,messageFrequency:0,amplitude:O/100,phase:D,waveform:k,modulation:!1},je={active:B,frequency:j,messageFrequency:0,amplitude:g/100,phase:R,waveform:C,modulation:!1};return Object(b.jsxs)(r.p,{children:[Object(b.jsx)(r.e,{children:Object(b.jsxs)(r.w,{mode:"ios",color:"primary",children:[Object(b.jsx)(r.c,{slot:"start",children:Object(b.jsx)(r.n,{})}),Object(b.jsxs)(r.v,{children:[Object(b.jsx)("b",{style:{fontWeight:"bolder"},children:"Husker Scope"}),": Function Generator"]}),Object(b.jsx)(r.g,{slot:"end",class:"logo",src:"/~jfalkinburg/husker-scope/app/assets/Husker_Scope_Logo_circle.png"})]})}),Object(b.jsxs)(r.d,{fullscreen:!0,scrollY:!1,color:"secondary",children:[Object(b.jsx)(U,{chOne:be,chTwo:je}),Object(b.jsxs)("div",{className:"frequency-waveform-channels",children:[Object(b.jsx)("div",{className:"channel-div",children:Object(b.jsx)(r.b,{class:"edit-button-L",mode:"ios",onClick:function(){E(0)},color:0===z?"primary":"light","data-testid":"left-edit",children:Object(b.jsxs)("div",{className:"edit-button-contents",children:["CH1 ",Object(b.jsx)("br",{}),"FQ: ",Math.round(h)," Hz ",Object(b.jsx)("br",{}),"AMP: ",O,"% ",Object(b.jsx)("br",{}),"PH: ",D,"\xb0",Object(b.jsx)("img",{className:"edit-img",src:"/~jfalkinburg/husker-scope/app"+"/assets/".concat(k,"-wave.png"),alt:""})]})})}),Object(b.jsxs)("div",{className:"frequency-and-waveform",children:[Object(b.jsx)("div",{className:"frequency-button-div",children:Object(b.jsxs)(r.b,{class:"frequency-button",mode:"ios",color:"light",onClick:function(){return X({showPopover:!0,frequency:u})},"data-testid":"frequency-button",children:["Frequency: ",Math.round(u)," Hz"]})}),Object(b.jsx)("div",{children:Object(b.jsx)(r.r,{class:"range-frequency",mode:"ios",value:Math.log(u-19),min:0,max:Math.log(19981),step:1e-10,onIonChange:function(e){return function(e){var t=Math.exp(e)+19;d(t)}(e.detail.value)},"data-testid":"frequency-range"})}),Object(b.jsxs)("div",{className:"waveform-buttons",children:[Object(b.jsx)(r.b,{class:"waveform-button",color:"sine"===w?"primary":"light",onClick:function(){y("sine")},mode:"ios","data-testid":"sine-button",children:Object(b.jsx)(r.f,{class:"waveform-icon-1",slot:"icon-only",src:"/~jfalkinburg/husker-scope/app/assets/icon/sine-wave2.svg"})}),Object(b.jsx)(r.b,{class:"waveform-button",color:"triangle"===w?"primary":"light",onClick:function(){y("triangle")},mode:"ios","data-testid":"triangle-button",children:Object(b.jsx)(r.f,{class:"waveform-icon-1",slot:"icon-only",src:"/~jfalkinburg/husker-scope/app/assets/icon/triangle-wave2.svg"})}),Object(b.jsx)(r.b,{class:"waveform-button",color:"square"===w?"primary":"light",onClick:function(){y("square")},mode:"ios","data-testid":"square-button",children:Object(b.jsx)(r.f,{class:"waveform-icon-2",slot:"icon-only",src:"/~jfalkinburg/husker-scope/app/assets/icon/square-wave2.svg"})}),Object(b.jsx)(r.b,{class:"waveform-button",color:"sawtooth"===w?"primary":"light",onClick:function(){y("sawtooth")},mode:"ios","data-testid":"sawtooth-button",children:Object(b.jsx)(r.f,{class:"waveform-icon-2",slot:"icon-only",src:"/~jfalkinburg/husker-scope/app/assets/icon/sawtooth-wave2.svg"})})]})]}),Object(b.jsx)("div",{className:"channel-div",children:Object(b.jsx)(r.b,{class:"edit-button-R",mode:"ios",onClick:function(){E(1)},color:1===z?"primary":"light","data-testid":"right-edit",children:Object(b.jsxs)("div",{className:"edit-button-contents",children:["CH2 ",Object(b.jsx)("br",{}),"FQ: ",Math.round(j)," Hz ",Object(b.jsx)("br",{}),"AMP: ",g,"% ",Object(b.jsx)("br",{}),"PH: ",R,"\xb0",Object(b.jsx)("img",{className:"edit-img",src:"/~jfalkinburg/husker-scope/app"+"/assets/".concat(C,"-wave.png"),alt:""})]})})})]}),Object(b.jsxs)("div",{className:"amplitude-start-phase",children:[Object(b.jsxs)("div",{className:"amplitude-components",children:[Object(b.jsxs)(r.b,{class:"amplitude-button",mode:"ios",color:"light",onClick:function(){return te({showPopover:!0,amplitude:p})},"data-testid":"amplitude-button",children:["Amplitude: ",p,"%"]}),Object(b.jsx)(r.r,{class:"range-amplitude",mode:"ios",value:p,min:0,max:100,step:1,onIonChange:function(e){return m(e.detail.value)},"data-testid":"amplitude-range"})]}),Object(b.jsxs)("div",{className:"start-buttons",children:[Object(b.jsx)(r.b,{class:"hold-button",mode:"ios",onClick:function(){G()},color:L?"primary":"light","data-testid":"left-play",children:Object(b.jsxs)("div",{className:"edit-button-contents",children:["CH1",Object(b.jsx)("img",{className:"play-pause-img",src:"/~jfalkinburg/husker-scope/app"+(L?"/assets/pause.png":"/assets/play.png"),alt:""})]})}),Object(b.jsx)(r.b,{class:"hold-button",mode:"ios",onClick:function(){K()},color:B?"primary":"light","data-testid":"right-play",children:Object(b.jsxs)("div",{className:"edit-button-contents",children:["CH2",Object(b.jsx)("img",{className:"play-pause-img",src:"/~jfalkinburg/husker-scope/app"+(B?"/assets/pause.png":"/assets/play.png"),alt:""})]})})]}),Object(b.jsxs)("div",{className:"phase-components",children:[Object(b.jsxs)(r.b,{class:"phase-button",mode:"ios",color:"light",onClick:function(){return ae({showPopover:!0,phase:q})},"data-testid":"phase-button",children:["Phase: ",q,"\xb0"]}),Object(b.jsx)(r.r,{class:"range-phase",mode:"ios",value:q,min:0,max:360,step:1,onIonChange:function(e){return S(e.detail.value)},"data-testid":"phase-range"})]})]}),Object(b.jsx)(r.q,{isOpen:J.showPopover,cssClass:Object(V.e)("ios")||Object(V.e)("android")?"input-popover":"input-popover-web",mode:"ios",showBackdrop:!0,onDidPresent:function(){ue.current.setFocus()},onDidDismiss:function(){return X({showPopover:!1,frequency:u})},"data-testid":"frequency-popup",children:Object(b.jsxs)("div",{className:"popover-content",children:[Object(b.jsx)(r.h,{ref:ue,class:"input-popover-text",type:"number",inputmode:"numeric",placeholder:"20 to 20000 Hz",onIonChange:function(e){return X((function(t){return Object(f.a)(Object(f.a)({},t),{},{frequency:parseInt(e.detail.value,10)})}))},onKeyUp:function(e){return le(e,"frequency")}}),Object(b.jsx)(r.b,{onClick:function(e){return oe()},"data-testid":"frequency-confirm",children:"CONFIRM"})]})}),Object(b.jsx)(r.q,{isOpen:ee.showPopover,cssClass:Object(V.e)("ios")||Object(V.e)("android")?"input-popover":"input-popover-web",mode:"ios",showBackdrop:!0,onDidPresent:function(){de.current.setFocus()},onDidDismiss:function(){return te({showPopover:!1,amplitude:u})},"data-testid":"amplitude-popup",children:Object(b.jsxs)("div",{className:"popover-content",children:[Object(b.jsx)(r.h,{ref:de,class:"input-popover-text",type:"number",inputmode:"numeric",placeholder:"0 to 100",onIonChange:function(e){return te((function(t){return Object(f.a)(Object(f.a)({},t),{},{amplitude:parseInt(e.detail.value,10)})}))},onKeyUp:function(e){return le(e,"amplitude")}}),Object(b.jsx)(r.b,{onClick:function(e){return ce()},"data-testid":"amplitude-confirm",children:"CONFIRM"})]})}),Object(b.jsx)(r.q,{isOpen:se.showPopover,cssClass:Object(V.e)("ios")||Object(V.e)("android")?"input-popover":"input-popover-web",mode:"ios",showBackdrop:!0,onDidPresent:function(){he.current.setFocus()},onDidDismiss:function(){return ae({showPopover:!1,phase:q})},"data-testid":"phase-popup",children:Object(b.jsxs)("div",{className:"popover-content",children:[Object(b.jsx)(r.h,{ref:he,class:"input-popover-text",type:"number",inputmode:"numeric",placeholder:"0\xb0 to 360\xb0",onIonChange:function(e){return ae((function(t){return Object(f.a)(Object(f.a)({},t),{},{phase:parseInt(e.detail.value,10)})}))},onKeyUp:function(e){return le(e,"phase")}}),Object(b.jsx)(r.b,{onClick:function(){return re()},"data-testid":"phase-confirm",children:"CONFIRM"})]})})]})]})},K=(n(96),n(4)),Q=n.n(K),Y=function(){var e=new Q.a.Layer,t=function(e,t,n){for(var i=n.width/e,s=n.height/t,a=0;a<=e;a++){var o=n.left+a*i,c=new Q.a.Point(o,n.top),r=new Q.a.Point(o,n.bottom),l=new Q.a.Path.Line(c,r);if(l.strokeColor="black",l.strokeWidth=.6,0===a&&(l.strokeWidth=2),a===e&&(l.strokeWidth=2.5),5===a){l.strokeWidth=1.5;for(var u=n.top,d=u,h=o,b=0;b<40;b++){o=h;var j=n.height*b/40;o*=.988;var p=new Q.a.Point(o,j);o*=1.024;var f=new Q.a.Point(o,j),v=new Q.a.Path.Line(p,f);v.strokeColor="black",v.strokeWidth=.8}}}for(a=0;a<=t;a++){u=n.top+a*s;var m=new Q.a.Point(n.left,u),O=new Q.a.Point(n.right,u);if((l=new Q.a.Path.Line(m,O)).strokeColor="black",l.strokeWidth=.6,0===a&&(l.strokeWidth=2.5),a===t&&(l.strokeWidth=2.5),4===a){l.strokeWidth=1.5;var g=n.width/40;for(d=u,h=o=n.left,b=1;b<=40;b++)o=h,u=d,o+=b*g,u*=.988,p=new Q.a.Point(o,u),u*=1.024,f=new Q.a.Point(o,u),(v=new Q.a.Path.Line(p,f)).strokeColor="black",v.strokeWidth=.8}}};t(10,8,Q.a.view.bounds),Q.a.view.on("resize",(function(n){e.activate(),e.removeChildren(),t(10,8,Q.a.view.bounds)}))},J=n(10),X=n(11),$=function(e,t,n){return Math.min(Math.max(e,t),n)},Z=function(){function e(t){Object(J.a)(this,e);this.axis=t,this.basePath=new Q.a.Path({segments:[[0,0],[10,10],[20,0]],fillColor:"black",selected:!1,closed:!0,rotation:0===this.axis?0:-90}),this.selecting=!1,this.pos=.5,0===this.axis?(this.basePath.position.x=Q.a.view.bounds.width*this.pos,this.basePath.position.y=5):(this.basePath.position.x=5,this.basePath.position.y=Q.a.view.bounds.height*(1-this.pos))}return Object(X.a)(e,[{key:"mousedown",value:function(e){var t=this.basePath.hitTest(e.point,{stroke:!0,fill:!0,tolerance:50});this.selecting=t&&t.item}},{key:"mousedrag",value:function(e){if(this.selecting)return 0===this.axis?(this.pos=$(e.point.x/Q.a.view.bounds.width,.01,.99),this.basePath.position.x=Q.a.view.bounds.width*this.pos):(this.pos=1-$(e.point.y/Q.a.view.bounds.height,.01,.99),this.basePath.position.y=Q.a.view.bounds.height*(1-this.pos)),this.pos}},{key:"mouseup",value:function(e){this.selecting=null}},{key:"resize",value:function(e){0===this.axis?this.basePath.position.x=Q.a.view.bounds.width*this.pos:this.basePath.position.y=Q.a.view.bounds.height*(1-this.pos)}}]),e}(),ee=function(e){var t=new Q.a.Layer,n=.5,i=.5,s=new Z(0),a=new Z(1);Q.a.view.onMouseDown=function(e){s.mousedown(e),a.mousedown(e)},Q.a.view.onMouseDrag=function(t){var o,c;n=null!==(o=s.mousedrag(t))&&void 0!==o?o:n,i=null!==(c=a.mousedrag(t))&&void 0!==c?c:i,e(n,2*i-1)},Q.a.view.onMouseUp=function(e){s.mouseup(e),a.mouseup(e)},Q.a.view.on("resize",(function(e){t.activate(),s.resize(e),a.resize(e)}))},te=!1,ne=function(e){var t=new Q.a.Layer,n=.25,i=.75,s=.25,a=.75,o=Math.abs(n-i),c=Math.abs(s-a),r=new Q.a.Path({segments:[[Q.a.view.bounds.width*n,0],[Q.a.view.bounds.width*n,Q.a.view.bounds.height]],selected:!1});r.strokeColor="Black",r.strokeWidth=3,r.strokeCap="round",r.dashArray=[10,12];var l=new Q.a.Path.Circle({center:Q.a.view.center,radius:15,fillColor:"red"}),u=new Q.a.Path({segments:[[Q.a.view.bounds.width*i,0],[Q.a.view.bounds.width*i,Q.a.view.bounds.height]],selected:!1});u.strokeColor="Black",u.strokeWidth=3,u.strokeCap="round",u.dashArray=[10,12];var d=new Q.a.Path.Circle({center:Q.a.view.center,radius:15,fillColor:"red"}),h=new Q.a.Path({segments:[[0,Q.a.view.bounds.height*(1-s)],[Q.a.view.bounds.width,Q.a.view.bounds.height*(1-s)]],selected:!1});h.strokeColor="Black",h.strokeWidth=3,h.strokeCap="round",h.dashArray=[10,12];var b=new Q.a.Path.Circle({center:Q.a.view.center,radius:15,fillColor:"red"}),j=new Q.a.Path({segments:[[0,Q.a.view.bounds.height*(1-a)],[Q.a.view.bounds.width,Q.a.view.bounds.height*(1-a)]],selected:!1});j.strokeColor="Black",j.strokeWidth=3,j.strokeCap="round",j.dashArray=[10,12];var p=new Q.a.Path.Circle({center:Q.a.view.center,radius:15,fillColor:"red"});l.position.x=Q.a.view.bounds.width*n,l.position.y=Q.a.view.bounds.height,b.position.x=Q.a.view.bounds.width,b.position.y=Q.a.view.bounds.height*(1-s),d.position.x=Q.a.view.bounds.width*i,d.position.y=Q.a.view.bounds.height,p.position.x=Q.a.view.bounds.width,p.position.y=Q.a.view.bounds.height*(1-a),l.visible=te,d.visible=te,b.visible=te,p.visible=te,r.visible=te,u.visible=te,h.visible=te,j.visible=te,e(o,c);var f,v,m,O,g={stroke:!0,fill:!0,tolerance:50};Q.a.view.on("mousedown",(function(e){var t=l.hitTest(e.point,g);f=t&&t.item;var n=b.hitTest(e.point,g);v=n&&n.item;var i=d.hitTest(e.point,g);m=i&&i.item;var s=p.hitTest(e.point,g);O=s&&s.item})),Q.a.view.on("mousedrag",(function(t){f?(f.position.x=t.point.x,r.position.x=t.point.x,n=t.point.x/Q.a.view.bounds.width):v?(v.position.y=t.point.y,h.position.y=t.point.y,s=1-t.point.y/Q.a.view.bounds.height):m?(m.position.x=t.point.x,u.position.x=t.point.x,i=t.point.x/Q.a.view.bounds.width):O&&(O.position.y=t.point.y,j.position.y=t.point.y,a=1-t.point.y/Q.a.view.bounds.height),o=Math.abs(n-i),c=Math.abs(s-a),e(o,c)})),Q.a.view.on("mouseup",(function(e){f=null,v=null,m=null,O=null})),Q.a.view.on("resize",(function(e){t.activate(),r.remove(),u.remove(),h.remove(),j.remove(),l.remove(),d.remove(),b.remove(),p.remove(),(r=new Q.a.Path({segments:[[n*Q.a.view.bounds.width,0],[n*Q.a.view.bounds.width,Q.a.view.bounds.height]],selected:!1})).strokeColor="Black",r.strokeWidth=3,r.strokeCap="round",r.dashArray=[10,12],l=new Q.a.Path.Circle({center:Q.a.view.center,radius:15,fillColor:"red"}),(u=new Q.a.Path({segments:[[i*Q.a.view.bounds.width,0],[i*Q.a.view.bounds.width,Q.a.view.bounds.height]],selected:!1})).strokeColor="Black",u.strokeWidth=3,u.strokeCap="round",u.dashArray=[10,12],d=new Q.a.Path.Circle({center:Q.a.view.center,radius:15,fillColor:"red"}),(h=new Q.a.Path({segments:[[0,(1-s)*Q.a.view.bounds.height],[Q.a.view.bounds.width,(1-s)*Q.a.view.bounds.height]],selected:!1})).strokeColor="Black",h.strokeWidth=3,h.strokeCap="round",h.dashArray=[10,12],b=new Q.a.Path.Circle({center:Q.a.view.center,radius:15,fillColor:"red"}),(j=new Q.a.Path({segments:[[0,(1-a)*Q.a.view.bounds.height],[Q.a.view.bounds.width,(1-a)*Q.a.view.bounds.height]],selected:!1})).strokeColor="Black",j.strokeWidth=3,j.strokeCap="round",j.dashArray=[10,12],p=new Q.a.Path.Circle({center:Q.a.view.center,radius:15,fillColor:"red"}),l.position.x=Q.a.view.bounds.width*n,l.position.y=Q.a.view.bounds.height,b.position.x=Q.a.view.bounds.width,b.position.y=Q.a.view.bounds.height*(1-s),d.position.x=Q.a.view.bounds.width*i,d.position.y=Q.a.view.bounds.height,p.position.x=Q.a.view.bounds.width,p.position.y=Q.a.view.bounds.height*(1-a),l.visible=te,d.visible=te,b.visible=te,p.visible=te,r.visible=te,u.visible=te,h.visible=te,j.visible=te})),Q.a.view.on("frame",(function(e){l.visible=te,d.visible=te,b.visible=te,p.visible=te,r.visible=te,u.visible=te,h.visible=te,j.visible=te}))},ie=function(e){for(var t="Point,Value\n",n=0;n<e.length;n++)t+=n+","+e[n],t+="\n";var i=new Blob([t],{type:"text/csv"}),s=URL.createObjectURL(i),a=document.createElement("a");a.href=s;var o=new Date,c="export data - "+(o.getFullYear()+"-"+(o.getMonth()+1)+"-"+o.getDate())+" at "+(o.getHours()+"_"+o.getMinutes()+"_"+o.getSeconds())+".csv",r=(new File([i],"export.csv",{type:"text/csv"}),{text:t,title:"Wave"});if(Object(V.e)("android")){var l=function(){alert("Save Failed!")};window.resolveLocalFileSystemURL("file:///storage/emulated/0/",(function(e){e.getDirectory("Download",{create:!0,exclusive:!1},(function(e){e.getFile(c,{create:!0,exclusive:!1},(function(e){e.createWriter((function(e){e.onwriteend=function(){alert("File saved to downloads")},e.seek(0),e.write(t)}),l)}),l)}),l)}),l)}else if(Object(V.e)("ios")){navigator.canShare&&navigator.canShare(r)?navigator.share(r).then((function(){return alert("Share was successful.")})).catch((function(e){e&&"AbortError"===(null===e||void 0===e?void 0:e.name)||alert("Sharing failed")})):alert("Sharing unsupported")}else a.download=c,a.click()},se=!1,ae=.5,oe=1,ce=.5,re=0,le=!1,ue=0,de=0,he=8192,be=44100,je=.45,pe=null,fe=null,ve=!1,me=function(e,t,n,i,s){var a=new Q.a.Layer,o=new Float32Array(he),c=0,r=function(){pe=null;for(var e=Math.floor(o.length/2);e<o.length-1;e++){var t=o[e],n=o[e+1];if(!0===fe){if(t<=re*ae/je&&n>re*ae/je){pe=e;break}}else if(t>=re*ae/je&&n<re*ae/je){pe=e;break}}},l=function(){ue=.01;for(var e=0;e<o.length;e++){var t=Math.abs(o[e]);t>ue&&(ue=t)}},u=function(){for(var t=0,n=-1,i=-1,s=0;s<o.length-1;s++){var a=o[s],c=o[s+1];(0===a||a<0&&c>0||a>0&&c<0)&&(0===t&&(n=s),i=s,t++)}de=-1===n?0:.5*be*(t-1)/(i-n),e(Math.round(de))};if(window.audioinput){var d=function(){window.audioinput.start({streamToWebAudio:!1,bufferSize:he})};window.addEventListener("audioinput",(function(e){se&&(c=0,o=e.data),r(),l(),u()})),window.audioinput.checkMicrophonePermission((function(e){e?d():window.audioinput.getMicrophonePermission((function(e,t){e?d():console.log("Failed to obtain capture permission")}))}))}else{navigator.mediaDevices.getUserMedia({audio:{autoGainControl:!1,echoCancellation:!1,noiseSuppression:!1}}).then((function(e){var t=new AudioContext({sampleRate:44100});be=t.sampleRate;var n=t.createMediaStreamSource(e),i=t.createAnalyser();i.fftSize=he,i.getFloatTimeDomainData(o),n.connect(i);var s=t.createOscillator();s.type="sine",s.frequency.value=440,setInterval((function(){se&&(c=0,i.getFloatTimeDomainData(o)),r(),l(),u()}),20)})).catch((function(e){console.log(e.name+": "+e.message)}))}var h=new function(){this.amount=200,this.height=10,this.offsetX=0,this.waveSpeed=3,this.selected=!1,this._path=new Q.a.Path({fillColor:this.color}),this.init=function(){this._path.strokeColor=this.color,this._path.selected=this.selected,this._path.segments=[];for(var e=0;e<=this.amount;e++){var t=new Q.a.Point(e/this.amount*Q.a.view.size.width,.5*Q.a.view.size.height);this._path.add(t)}},this.update=function(e){var a=Q.a.view.size.height;if(le){var r=Math.min(Math.max(Math.round(5*ue)/10,.1),4.9),l=1;if(de<440){l=Math.round(400/de/.4536)}le=!1,n(l),i(r),t()}ve&&(ie(o,false),ve=!1,s());for(var u=0;u<=this.amount;u++){var d=this._path.segments[u],h=c,b=0;null!=pe&&(h=pe,b=-(ce*this.amount*oe|0));var j=o[b+h+u*oe];j=-j/ae*je,d.point.y=(j+1)*(a/2)}se&&(c+=this.amount+1,c%=o.length)}};h.color="blue",h.height=10,h.init(),Q.a.view.on("frame",(function(e){a.activate(),h.update(e)})),Q.a.view.on("resize",(function(e){a.activate(),h.init()}))},Oe=function(e){var t=Object(s.useRef)(null),n=Object(s.useRef)(null),i=function i(){if(null!==t.current&&0!==t.current.clientWidth){var s=t.current;Q.a.setup(s),Y(),ee((function(e,t){return function(e,t){ce=e,re=t}(e,t)})),me(e.frequencyChangeCallback,e.autosetFinishCallback,e.timeDivChangeCallback,e.voltageDivChangeCallback,e.saveFinishCallback),ne(e.cursorChangeCallback),Q.a.view.draw()}else n.current=requestAnimationFrame(i)};return Object(s.useEffect)((function(){return n.current=requestAnimationFrame(i),function(){cancelAnimationFrame(n.current)}}),[]),Object(s.useEffect)((function(){Q.a.view&&(Q.a.view.viewSize=Object(r.F)("ios")||Object(r.F)("android")?new Q.a.Size(t.current.clientWidth,t.current.clientHeight):new Q.a.Size(2*t.current.clientWidth,2*t.current.clientHeight),Q.a.view.emit("resize",{}))}),[e.isFullscreen]),Object(s.useEffect)((function(){var t;t=e.playPauseFlag,se=t}),[e.playPauseFlag]),Object(s.useEffect)((function(){var t;t=e.voltageDiv,ae=t}),[e.voltageDiv]),Object(s.useEffect)((function(){var t;t=e.timeDiv,oe=t}),[e.timeDiv]),Object(s.useEffect)((function(){var t;t=e.autoset,le=t}),[e.autoset]),Object(s.useEffect)((function(){var t;t=e.triggerFlag,fe=t}),[e.triggerFlag]),Object(s.useEffect)((function(){var t;t=e.cursorFlag,te=t}),[e.cursorFlag]),Object(s.useEffect)((function(){var t;t=e.saveFlag,ve=t}),[e.saveFlag]),Object(b.jsx)("canvas",{ref:t,className:e.className,resize:"true",id:"canvas"})},ge=function(){var e=.1,t=Object(s.useState)(!0),n=Object(v.a)(t,2),i=n[0],a=n[1],o=Object(s.useState)(!0),c=Object(v.a)(o,2),l=c[0],u=c[1],d=Object(s.useState)(!0),h=Object(v.a)(d,2),j=h[0],p=h[1],f=Object(s.useState)(.5),m=Object(v.a)(f,2),O=m[0],g=m[1],x=Object(s.useState)(1),w=Object(v.a)(x,2),y=w[0],k=w[1],C=Object(s.useState)(440),M=Object(v.a)(C,2),F=M[0],P=M[1],q=Object(s.useState)(!0),N=Object(v.a)(q,2),A=N[0],T=N[1],S=Object(s.useState)(!1),D=Object(v.a)(S,2),_=D[0],I=D[1],H=Object(s.useState)(!1),W=Object(v.a)(H,2),R=W[0],z=W[1],E=Object(s.useState)(0),L=Object(v.a)(E,2),U=L[0],V=L[1],G=Object(s.useState)(0),K=Object(v.a)(G,2),Q=K[0],Y=K[1],J=Object(s.useState)(!1),X=Object(v.a)(J,2),$=X[0],Z=X[1];function ee(){u(!l)}var te=Object(s.useState)({showPopover:!1}),ne=Object(v.a)(te,2),ie=ne[0],se=ne[1];function ae(e){se({showPopover:!1}),0===e?T(!0):1===e&&T(!1)}return Object(b.jsxs)(r.p,{children:[Object(b.jsxs)(r.e,{className:l?"header":"header-full",children:[Object(b.jsx)(r.b,{className:l?"flscrn-button-graph-small":"flscrn-button-hidden",mode:"ios",fill:"clear",onClick:function(){return ee()},children:Object(b.jsx)("img",{className:"fullscreen-img",src:"/~jfalkinburg/husker-scope/app/assets/fullscreenwhite.png",alt:""})}),Object(b.jsxs)(r.w,{mode:"ios",color:"primary",children:[Object(b.jsx)(r.c,{slot:"start",children:Object(b.jsx)(r.n,{})}),Object(b.jsxs)(r.v,{children:[" ",Object(b.jsx)("b",{style:{fontWeight:"bolder"},children:"Husker Scope"}),": Oscilloscope"]})]})]}),Object(b.jsxs)(r.d,{fullscreen:!0,scrollY:!1,color:"secondary",children:[Object(b.jsxs)("div",{className:"full-screen",children:[Object(b.jsx)(r.b,{className:l?"flscrn-button-hidden":"flscrn-button-graph-full",mode:"ios",onClick:function(){return ee()},fill:"clear",children:Object(b.jsx)("img",{className:"fullscreen-img",src:"/~jfalkinburg/husker-scope/app/assets/fullscreen2.png",alt:""})}),Object(b.jsx)(r.b,{className:l?"fullscreen-display-button-hidden":"fullscreen-display-button",onClick:function(){p(!j)},mode:"ios",fill:"clear",children:Object(b.jsx)("img",{className:"display-icon",src:"/~jfalkinburg/husker-scope/app/assets/displayoff.png",alt:""})}),Object(b.jsxs)("label",{className:Object(r.F)("ios")||Object(r.F)("android")?j||l?"display-data-hidden":"display-data-full":j||l?"display-data-hidden":"display-data-full-web",children:[Object(b.jsx)("b",{children:"Frequency"}),": ",F,"Hz ",Object(b.jsx)("br",{}),Object(b.jsx)("b",{children:" Time Division"}),": ",(.4536*y).toFixed(4),"ms ",Object(b.jsx)("br",{}),Object(b.jsx)("b",{children:" Voltage Division"}),": ",O.toFixed(1),"V ",Object(b.jsx)("br",{}),_?Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("b",{children:" Voltage"}),": ",(8*O*Q).toFixed(1),"V ",Object(b.jsx)("br",{}),Object(b.jsx)("b",{children:" Time"}),": ",(.4536*y*10*U).toFixed(4),"ms ",Object(b.jsx)("br",{})]}):null]}),Object(b.jsx)(B,{enabled:!0}),Object(b.jsx)("div",{className:Object(r.F)("ios")||Object(r.F)("android")?l?"oscilloscope-div":"oscilloscope-div-full":l?"oscilloscope-div-web":"oscilloscope-div-full-web",children:Object(b.jsx)(Oe,{className:"oscope-graph",isFullscreen:l,playPauseFlag:i,voltageDiv:O,timeDiv:y,cursorChangeCallback:function(e,t){V(e),Y(t)},frequencyChangeCallback:function(e){P(e)},timeDivChangeCallback:function(e){k(e)},voltageDivChangeCallback:function(e){g(e)},autoset:R,autosetFinishCallback:function(){z(!1)},triggerFlag:A,cursorFlag:_,saveFlag:$,saveFinishCallback:function(){Z(!1)}})}),Object(b.jsxs)("div",{className:Object(r.F)("ios")||Object(r.F)("android")?l?"side-data":"side-data-hidden":l?"side-data-web":"side-data-hidden",children:[Object(b.jsxs)("div",{className:"first-row-div",children:[" ",Object(b.jsx)(r.b,{class:"utility-buttons",mode:"ios",onClick:function(){z(!0)},color:R?"primary":"light","data-testid":"util-1-button",children:Object(b.jsx)("div",{children:"Auto"})}),Object(b.jsx)(r.b,{class:"voltage-time-division-button",mode:"ios",onClick:function(){O+e<=5&&g(Math.round(10*(O+e))/10)},color:"tertiary","data-testid":"volt-div-pos-button",children:Object(b.jsxs)("div",{children:["Volt/Div",Object(b.jsxs)("div",{children:["+",e,"V"]})]})}),Object(b.jsx)(r.b,{class:"utility-buttons",mode:"ios",onClick:function(){I(!_)},color:_?"primary":"light","data-testid":"util-2-button",children:Object(b.jsx)("div",{children:"Cursors"})})]}),Object(b.jsxs)("div",{className:"second-row-div",children:[" ",Object(b.jsx)(r.b,{class:"voltage-time-division-button",mode:"ios",onClick:function(){1!==y&&k((function(e){return e-1}))},color:"tertiary","data-testid":"time-div-neg-button",children:Object(b.jsxs)("div",{children:["Time/Div",Object(b.jsxs)("div",{children:["-",453.6,"us"]})]})}),Object(b.jsx)(r.b,{id:"pause-play-button",class:"pause-play-button",mode:"ios",onClick:function(){a(!i)},color:i?"primary":"tertiary","data-testid":"pause-play-button",children:Object(b.jsxs)("div",{children:[Object(b.jsx)("img",{className:"pause-play-img",src:"/~jfalkinburg/husker-scope/app"+(i?"/assets/pause.png":"/assets/playwhite.png"),alt:""}),Object(b.jsx)("div",{children:"Run/Pause"})]})}),Object(b.jsx)(r.b,{class:"voltage-time-division-button",mode:"ios",onClick:function(){80!==y&&k((function(e){return e+1}))},color:"tertiary","data-testid":"time-div-pos-button",children:Object(b.jsxs)("div",{children:["Time/Div",Object(b.jsxs)("div",{children:["+",453.6,"us"]})]})})]}),Object(b.jsxs)("div",{className:"third-row-div",children:[" ",Object(b.jsx)(r.b,{class:"utility-buttons",mode:"ios",onClick:function(){Z(!0)},color:$?"primary":"light","data-testid":"util-4-button",children:Object(b.jsx)("div",{children:"Save"})}),Object(b.jsx)(r.b,{class:"voltage-time-division-button",mode:"ios",onClick:function(){O-e>=.1&&g(Math.round(10*(O-e))/10)},color:"tertiary","data-testid":"volt-div-neg-button",children:Object(b.jsxs)("div",{children:["Volt/Div",Object(b.jsxs)("div",{children:["-",e,"V"]})]})}),Object(b.jsx)(r.b,{class:"utility-buttons",mode:"ios",color:"light",onClick:function(){return se({showPopover:!0})},"data-testid":"util-6-button",children:Object(b.jsxs)("div",{children:["Trigger",Object(b.jsx)("br",{}),"Menu"]})})]}),Object(b.jsxs)("div",{className:"display-div",children:[" ",Object(b.jsx)("span",{className:"helper"}),Object(b.jsxs)("label",{className:Object(r.F)("ios")||Object(r.F)("android")?l?"display-data-main":"display-data-hidden":l?"display-data-main-web":"display-data-hidden",children:[Object(b.jsx)("b",{children:"Frequency"}),": ",F,"Hz ",Object(b.jsx)("br",{}),Object(b.jsx)("b",{children:" Time Division"}),": ",(.4536*y).toFixed(4),"ms ",Object(b.jsx)("br",{}),Object(b.jsx)("b",{children:" Voltage Division"}),": ",O.toFixed(1),"V ",Object(b.jsx)("br",{}),_?Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("b",{children:" Voltage"}),": ",(8*O*Q).toFixed(1),"V ",Object(b.jsx)("br",{}),Object(b.jsx)("b",{children:" Time"}),": ",(.4536*y*10*U).toFixed(4),"ms ",Object(b.jsx)("br",{})]}):null]})]})]})]}),Object(b.jsx)(r.q,{isOpen:ie.showPopover,cssClass:Object(r.F)("ios")||Object(r.F)("android")?"input-popover2":"input-popover2-web",mode:"ios",showBackdrop:!0,onDidDismiss:function(){return se({showPopover:!1})},"data-testid":"triggerMenu-popup",children:Object(b.jsxs)("div",{className:"popover-content2",children:[Object(b.jsx)(r.b,{class:"trigger-popup-button",onClick:function(e){return ae(0)},"data-testid":"Rising-confirm",children:"Rising"}),Object(b.jsx)(r.b,{class:"trigger-popup-button",onClick:function(e){return ae(1)},"data-testid":"Falling-confirm",children:"Falling"}),Object(b.jsxs)(r.b,{class:"trigger-popup-button",onClick:function(e){return ae(2)},"data-testid":"Auto-confirm",children:["Single-",Object(b.jsx)("br",{}),"Trigger"]})]})})]})]})},xe=(n(100),function(){var e=Object(s.useContext)(x),t=e.state,n=e.dispatch;Object(s.useEffect)((function(){return function(){n(P(0,!1)),n(P(1,!1))}}),[n]);var i=N(t),a=A(t,0),o=A(t,1),c=S(i),l=Object(s.useCallback)((function(e){n(function(e){return{type:"setCarrierFrequency",payload:e}}(e))}),[n]),u=S(a),d=S(o),h=D(i),j=Object(s.useCallback)((function(e){n(function(e){return{type:"setMessageFrequency",payload:e}}(e))}),[n]),p=D(a),m=D(o),O=_(i),g=Object(s.useCallback)((function(e){n(M(Math.max(0,e)))}),[n]),w=_(a),y=_(o),k=t.currChannel,C=Object(s.useCallback)((function(e){n(F(e))}),[n]),T=W(a),I=W(o),H=Object(s.useCallback)((function(){n(P(0,!T))}),[T,n]),z=Object(s.useCallback)((function(){n(P(1,!I))}),[I,n]),E=R(a),L=R(o),B=Object(s.useCallback)((function(){n(q(!0))}),[n]),V=Object(s.useCallback)((function(){n(q(!1))}),[n]),G=Object(s.useCallback)((function(){n(q(!0))}),[n]),K=Object(s.useCallback)((function(){n(q(!1))}),[n]),Q=Object(s.useState)({showPopover:!1,frequency:440}),Y=Object(v.a)(Q,2),J=Y[0],X=Y[1],$=Object(s.useState)({showPopover:!1,messageFrequency:40}),Z=Object(v.a)($,2),ee=Z[0],te=Z[1],ne=Object(s.useState)({showPopover:!1,amplitude:100}),ie=Object(v.a)(ne,2),se=ie[0],ae=ie[1];function oe(){l(J.frequency),X({showPopover:!1,frequency:c})}function ce(){j(ee.messageFrequency),te({showPopover:!1,messageFrequency:h})}function re(){g(se.amplitude),ae({showPopover:!1,amplitude:O})}function le(e,t){if("Enter"===e.key)switch(t){case"cfrequency":oe();break;case"mfrequency":ce();break;case"amplitude":re()}}var ue=Object(s.useRef)(null),de=Object(s.useRef)(null),he=Object(s.useRef)(null);var be={active:T,frequency:u,messageFrequency:p,amplitude:w/100,phase:0,waveform:"custom",modulation:E},je={active:I,frequency:d,messageFrequency:m,amplitude:y/100,phase:0,waveform:"custom",modulation:L};return Object(b.jsxs)(r.p,{children:[Object(b.jsx)(r.e,{children:Object(b.jsxs)(r.w,{mode:"ios",color:"primary",children:[Object(b.jsx)(r.c,{slot:"start",children:Object(b.jsx)(r.n,{})}),Object(b.jsxs)(r.v,{children:[Object(b.jsx)("b",{style:{fontWeight:"bolder"},children:"Husker Scope"}),": Amplitude Modulation/Frequency Modulation"]}),Object(b.jsx)(r.g,{slot:"end",class:"logo",src:"/~jfalkinburg/husker-scope/app/assets/Husker_Scope_Logo_circle.png"})]})}),Object(b.jsxs)(r.d,{fullscreen:!0,scrollY:!1,color:"secondary",children:[Object(b.jsx)(U,{chOne:be,chTwo:je}),Object(b.jsxs)("div",{className:"frequency-waveform-channels-AMFM",children:[Object(b.jsx)("div",{className:"channel-div-AMFM",children:Object(b.jsx)(r.b,{class:"edit-button-L-AMFM",mode:"ios",onClick:function(){C(0)},color:0===k?"primary":"light","data-testid":"left-edit",children:Object(b.jsxs)("div",{className:"edit-button-contents-AMFM",children:["CH1 ",Object(b.jsx)("br",{}),"C-FQ: ",Math.round(u)," Hz ",Object(b.jsx)("br",{}),"M-FQ: ",Math.round(p)," Hz",Object(b.jsx)("br",{}),"AMP: ",w,"% ",Object(b.jsx)("br",{}),"MODE: ",E?"AM":"FM"," ",Object(b.jsx)("br",{})]})})}),Object(b.jsxs)("div",{className:"frequency-and-waveform-AMFM",children:[Object(b.jsx)("div",{className:"frequency-button-div-AMFM",children:Object(b.jsxs)(r.b,{class:"frequency-button-AMFM",mode:"ios",color:"light",onClick:function(){return X({showPopover:!0,frequency:c})},"data-testid":"frequency-button",children:["Carrier Frequency: ",Math.round(c)," Hz"]})}),Object(b.jsx)("div",{children:Object(b.jsx)(r.r,{class:"range-frequency-AMFM",mode:"ios",value:Math.log(c-549),min:0,max:Math.log(19451),step:1e-10,onIonChange:function(e){return l(Math.exp(e.detail.value)+549)},"data-testid":"frequency-range"})}),Object(b.jsx)("div",{className:"message-frequency-button-div-AMFM",children:Object(b.jsxs)(r.b,{class:"message-frequency-button-AMFM",mode:"ios",color:"light",onClick:function(){return te({showPopover:!0,messageFrequency:h})},"data-testid":"message-frequency-button",children:["Message Frequency: ",Math.round(h)," Hz"]})}),Object(b.jsx)("div",{children:Object(b.jsx)(r.r,{class:"range-message-frequency-AMFM",mode:"ios",value:h,min:1,max:c/10,step:1e-10,onIonChange:function(e){return j(e.detail.value)},"data-testid":"message-frequency-range"})})]}),Object(b.jsx)("div",{className:"channel-div-AMFM",children:Object(b.jsx)(r.b,{class:"edit-button-R-AMFM",mode:"ios",onClick:function(){C(1)},color:1===k?"primary":"light","data-testid":"right-edit",children:Object(b.jsxs)("div",{className:"edit-button-contents-AMFM",children:["CH2 ",Object(b.jsx)("br",{}),"C-FQ: ",Math.round(d)," Hz ",Object(b.jsx)("br",{}),"M-FQ: ",Math.round(m)," Hz",Object(b.jsx)("br",{}),"AMP: ",y,"% ",Object(b.jsx)("br",{}),"MODE: ",L?"AM":"FM"," ",Object(b.jsx)("br",{})]})})})]}),Object(b.jsxs)("div",{className:"amplitude-start-phase-AMFM",children:[Object(b.jsxs)("div",{className:"amplitude-components2-AMFM",children:[Object(b.jsxs)(r.b,{class:"amplitude-button-AMFM",mode:"ios",color:"light",onClick:function(){return ae({showPopover:!0,amplitude:O})},"data-testid":"amplitude-button",children:["Amplitude: ",O,"%"]}),Object(b.jsx)(r.r,{class:"range-amplitude-AMFM",mode:"ios",value:O,min:0,max:100,step:1,onIonChange:function(e){return g(e.detail.value)},"data-testid":"amplitude-range"})]}),Object(b.jsxs)("div",{className:"start-buttons-AMFM",children:[Object(b.jsx)(r.b,{class:"hold-button-AMFM",mode:"ios",onClick:function(){H()},color:T?"primary":"light","data-testid":"left-play",children:Object(b.jsxs)("div",{className:"edit-button-contents-AMFM",children:["CH1",Object(b.jsx)("img",{className:"play-pause-img-AMFM",src:"/~jfalkinburg/husker-scope/app"+(T?"/assets/pause.png":"/assets/play.png"),alt:""})]})}),Object(b.jsx)(r.b,{class:"hold-button-AMFM",mode:"ios",onClick:function(){z()},color:I?"primary":"light","data-testid":"right-play",children:Object(b.jsxs)("div",{className:"edit-button-contents-AMFM",children:["CH2",Object(b.jsx)("img",{className:"play-pause-img-AMFM",src:"/~jfalkinburg/husker-scope/app"+(I?"/assets/pause.png":"/assets/play.png"),alt:""})]})})]}),Object(b.jsxs)("div",{className:"AMFM-toggle-div",children:[Object(b.jsx)(r.b,{class:"modulation-button-AMFM",mode:"ios",onClick:function(){k?G():B()},color:k?L?"primary":"light":E?"primary":"light","data-testid":"modulation-button",children:Object(b.jsx)("div",{className:"edit-button-contents-AMFM",children:"AM"})}),Object(b.jsx)(r.b,{class:"modulation-button-AMFM",mode:"ios",onClick:function(){k?K():V()},color:k?L?"light":"primary":E?"light":"primary","data-testid":"modulation-button2",children:Object(b.jsx)("div",{className:"edit-button-contents-AMFM",children:"FM"})})]})]}),Object(b.jsx)(r.q,{isOpen:J.showPopover,cssClass:Object(r.F)("android")||Object(r.F)("ios")?"input-popover-AMFM":"input-popover-AMFM-web",mode:"ios",showBackdrop:!0,onDidPresent:function(){ue.current.setFocus()},onDidDismiss:function(){return X({showPopover:!1,frequency:c})},"data-testid":"frequency-popup",children:Object(b.jsxs)("div",{className:"popover-div-AMFM",children:[Object(b.jsx)(r.h,{ref:ue,class:"input-popover-text-AMFM",type:"number",inputmode:"numeric",placeholder:"550 to 20000 Hz",onIonChange:function(e){return X((function(t){return Object(f.a)(Object(f.a)({},t),{},{frequency:parseInt(e.detail.value,10)})}))},onKeyUp:function(e){return le(e,"cfrequency")}}),Object(b.jsx)(r.b,{onClick:function(e){return oe()},"data-testid":"frequency-confirm",children:"CONFIRM"})]})}),Object(b.jsx)(r.q,{isOpen:ee.showPopover,cssClass:Object(r.F)("android")||Object(r.F)("ios")?"input-popover-AMFM":"input-popover-AMFM-web",mode:"ios",showBackdrop:!0,onDidPresent:function(){de.current.setFocus()},onDidDismiss:function(){return te({showPopover:!1,messageFrequency:h})},"data-testid":"message-frequency-popup",children:Object(b.jsxs)("div",{className:"popover-div-AMFM",children:[Object(b.jsx)(r.h,{ref:de,class:"input-popover-text-AMFM",type:"number",inputmode:"numeric",placeholder:"1 to "+Math.round(c/10)+" Hz",onIonChange:function(e){return te((function(t){return Object(f.a)(Object(f.a)({},t),{},{messageFrequency:parseInt(e.detail.value,10)})}))},onKeyUp:function(e){return le(e,"mfrequency")}}),Object(b.jsx)(r.b,{onClick:function(e){return ce()},"data-testid":"message-frequency-confirm",children:"CONFIRM"})]})}),Object(b.jsx)(r.q,{isOpen:se.showPopover,cssClass:Object(r.F)("android")||Object(r.F)("ios")?"input-popover-AMFM":"input-popover-AMFM-web",mode:"ios",showBackdrop:!0,onDidPresent:function(){he.current.setFocus()},onDidDismiss:function(){return ae({showPopover:!1,amplitude:c})},"data-testid":"amplitude-popup",children:Object(b.jsxs)("div",{className:"popover-div-AMFM",children:[Object(b.jsx)(r.h,{ref:he,class:"input-popover-text-AMFM",type:"number",inputmode:"numeric",placeholder:"0 to 100",onIonChange:function(e){return ae((function(t){return Object(f.a)(Object(f.a)({},t),{},{amplitude:parseInt(e.detail.value,10)})}))},onKeyUp:function(e){return le(e,"amplitude")}}),Object(b.jsx)(r.b,{onClick:function(e){return re()},"data-testid":"amplitude-confirm",children:"CONFIRM"})]})})]})]})}),we=(n(101),function(){return Object(b.jsxs)(r.p,{children:[Object(b.jsx)(r.e,{children:Object(b.jsxs)(r.w,{mode:"ios",color:"primary",children:[Object(b.jsx)(r.c,{slot:"start",children:Object(b.jsx)(r.n,{})}),Object(b.jsxs)(r.v,{children:[" ",Object(b.jsx)("b",{style:{fontWeight:"bolder"},children:"Husker Scope"}),": Tutorial"]}),Object(b.jsx)(r.g,{slot:"end",class:"nebraska-n",src:"/~jfalkinburg/husker-scope/app/assets/Husker_Scope_Logo_circle.png"})]})}),Object(b.jsx)(r.d,{fullscreen:!0,scrollY:!0,color:"secondary",children:Object(b.jsx)("div",{className:"tutorial-page",children:Object(b.jsxs)("div",{className:"main-div",children:[Object(b.jsx)("div",{className:"intro-div",children:Object(b.jsx)("p",{children:" \u2003This page serves as a tutorial for what all the buttons on the Function Generator and Oscilloscope do. First will be an image of the Function Generator with what all the buttons on the UI do. Following that, there will be a picture of the Oscilloscope with information on what the buttons do. We hope it's of help!"})}),Object(b.jsxs)("div",{children:[Object(b.jsx)("div",{className:"fg-tutorial-img-div",children:Object(b.jsx)(r.g,{className:"fg-tutorial-img",src:"/~jfalkinburg/husker-scope/app/assets/function_generator_tutorial.png"})}),Object(b.jsxs)("ol",{children:[Object(b.jsx)("li",{children:"These buttons are to select which channel the user wants to edit."}),Object(b.jsx)("li",{children:"This button serves the purpose of displaying the frequency of the channel and if it is pressed, a popup is displayed that allows for an exact frequency to be entered using the keyboard."}),Object(b.jsx)("li",{children:"This button serves the purpose of displaying the amplitude of the channel and if it is pressed, a popup is displayed that allows for an exact amplitude to be entered using the keyboard."}),Object(b.jsxs)("li",{children:["This button serves the purpose of displaying the phase of the channel and if it is pressed, a popup is displayed that allows for an exact phase to be entered using the keyboard. ",Object(b.jsx)("br",{})," Note: The sliders underneath the previous 3 buttons are for changing the values of frequency, amplitude, and phase respectively."]}),Object(b.jsx)("li",{children:"The four waveform buttons are used for setting the waveform for the currently selected channel."}),Object(b.jsx)("li",{children:"These two buttons are for playing and pause the output on the respective channels."})]}),Object(b.jsx)("div",{className:"os-tutorial-img-div",children:Object(b.jsx)(r.g,{className:"os-tutorial-img",src:"/~jfalkinburg/husker-scope/app/assets/oscope_tutorial.png"})}),Object(b.jsxs)("ol",{children:[Object(b.jsx)("li",{children:"This is the oscilloscope graph, which is where the wave is displayed."}),Object(b.jsx)("li",{children:"The small triangles on the top and left of the graph are the oscilloscope's triggers."}),Object(b.jsx)("li",{children:"The red half-circles on the sides of the graph are the oscilloscope's cursors."}),Object(b.jsx)("li",{children:"This is a data display which is used for displaying the frequency, time division, volt division, and if the cursors are enabled it also displays the voltage and time measures."}),Object(b.jsx)("li",{children:"This button and the one below the run/pause button are used for increasing and decreasing the voltage division."}),Object(b.jsx)("li",{children:"This button and the one to the right of the run/pause button are used for decreasing and increasing the time division."}),Object(b.jsx)("li",{children:"This is the run/pause button. If the button is red, the graph will update. If it is white, the graph will be paused."}),Object(b.jsx)("li",{children:"This button is used for autosetting the graph."}),Object(b.jsx)("li",{children:"This button enables and disables the cursors on the graph. If the button is red, the cursors are enabled. If the button is white, the cursors are diabled."}),Object(b.jsx)("li",{children:"Save button: In progress"}),Object(b.jsx)("li",{children:"This button displays a Trigger Menu that has the options for changing between rising and falling edge and single trigger."}),Object(b.jsxs)("li",{children:["This button changes the graph to fullscreen. After the graph is in fullscreen, there is a button in the same location that disables the fullscreen. ",Object(b.jsx)("br",{}),"Note: When the graph is in fullscreen, the button below the fullscreen button enables and disables the data display."]})]}),Object(b.jsx)("div",{className:"os-tutorial-img-div",children:Object(b.jsx)(r.g,{className:"os-tutorial-img",src:"/~jfalkinburg/husker-scope/app/assets/am.png"})}),Object(b.jsxs)("ol",{children:[Object(b.jsx)("li",{children:"These buttons are to select which channel the user wants to edit."}),Object(b.jsx)("li",{children:"This button defines the carrier frequency for the current channel."})," ",Object(b.jsx)("li",{children:"This buttons defines the message frequency for the current channel."})," ",Object(b.jsx)("li",{children:"This button serves the purpose of displaying the amplitude of the channel and if it is pressed, a popup is displayed that allows for an exact amplitude to be entered using the keyboard."}),Object(b.jsx)("li",{children:"This button switches the modulation mode, from amplitude modulation to frequency modulation."})," ",Object(b.jsx)("li",{children:"These two buttons are for playing and pause the output on the respective channels."})]}),Object(b.jsx)("div",{className:"os-tutorial-img-div-vertical",children:Object(b.jsx)(r.g,{className:"os-tutorial-img-vertical",src:"/~jfalkinburg/husker-scope/app/assets/circuit_diagram.png"})}),Object(b.jsxs)("div",{children:[Object(b.jsx)("li",{children:"10k is a 10 kilo ohm resistor"}),Object(b.jsx)("li",{children:"2k is a 2 kilo ohm resistor"}),Object(b.jsx)("li",{children:"RL is a switch. This will switch between left and right channel"}),Object(b.jsx)("li",{children:"S, R2, R1, T, are all breakout pins for verifying correct input"})]})]})]})})})]})}),ye=(n(102),function(){return Object(b.jsxs)(r.p,{children:[Object(b.jsx)(r.e,{children:Object(b.jsxs)(r.w,{mode:"ios",color:"primary",children:[Object(b.jsx)(r.c,{slot:"start",children:Object(b.jsx)(r.n,{})}),Object(b.jsxs)(r.v,{children:[" ",Object(b.jsx)("b",{style:{fontWeight:"bolder"},children:"Husker Scope"}),": About"]}),Object(b.jsx)(r.g,{slot:"end",class:"nebraska-n",src:"/~jfalkinburg/husker-scope/app/assets/Husker_Scope_Logo_circle.png"})]})}),Object(b.jsxs)(r.d,{fullscreen:!0,scrollY:!0,color:"secondary",children:[Object(b.jsxs)("div",{className:"content",children:[Object(b.jsx)("div",{className:"overview",children:"Project Overview"}),Object(b.jsx)("div",{className:"project-vision",children:"Project Vision"}),Object(b.jsx)("div",{className:"project-justification",children:"Project Justification"})]}),Object(b.jsxs)("div",{className:"content",children:[Object(b.jsx)("div",{className:"overview-text",children:"Husker Scope is an iOS and Android application that serves as a dual channel function generator and single channel oscilloscope. The dual channel function generator is able to output sine, square, sawtooth and triangle waveforms with a range of 20 to 20,000 Hz. The phase, amplitude and frequency are able to be adjusted within the application. The oscilloscope will show time and volts per division as well as cursors for signal measurement, pause and image export, and triggering."}),Object(b.jsxs)("div",{className:"outer",children:[Object(b.jsx)("div",{className:"project-vision-text",children:"To provide a free and cross-platform application containing a function generator and oscilloscope that will be available to UNL students and Engineering students across the globe."}),Object(b.jsx)(r.g,{slot:"end",class:"logo-about",src:"/~jfalkinburg/husker-scope/app/assets/Husker_Scope_Logo_rounded_corners.png"})]}),Object(b.jsx)("div",{className:"project-justification-text",children:"There are a variety of Function Generators and Oscilloscopes on both the iOS and Google Play store, but most of the iOS applications need to be purchased and Husker Scope is a one stop shop for all function generator and oscilloscope needs on both the iOS and Google Play store. Additionally, most applications require additional hardware to be purchased for proper functionality, but the Husker O-Scope will function through the use of a standard 3.5mm audio jack."})]}),Object(b.jsxs)("div",{className:"link-text",children:["More information about the app and project can be found at ",Object(b.jsx)("a",{href:"https://www.huskerscope.com",target:"_blank",rel:"noreferrer",children:"huskerscope.com"})]})]})]})}),ke=(n(103),n(104),n(105),n(106),n(107),n(108),n(109),n(110),n(111),n(112),n(113),n(114),function(){return Object(s.useEffect)((function(){var e=function(e){e.detail.register(-1,(function(){d.a.App.exitApp()}))};return document.addEventListener("ionBackButton",e),function(){document.removeEventListener("ionBackButton",e)}}),[]),Object(b.jsx)(C,{children:Object(b.jsx)(r.a,{className:Object(V.e)("android")||Object(V.e)("ios")?"":"web-zoom",children:Object(b.jsx)(l.a,{basename:"/~jfalkinburg/husker-scope/app",children:Object(b.jsxs)(r.u,{contentId:"main",disabled:!0,children:[Object(b.jsx)(p,{}),Object(b.jsx)(r.t,{mode:"md",id:"main",children:Object(b.jsxs)(u.d,{children:[Object(b.jsx)(u.b,{path:"/",exact:!0,children:Object(b.jsx)(u.a,{to:"/page/FunctionGenerator"})}),Object(b.jsx)(u.b,{path:"/page/FunctionGenerator",exact:!0,children:Object(b.jsx)(G,{})}),Object(b.jsx)(u.b,{path:"/page/OScope",exact:!0,children:Object(b.jsx)(ge,{})}),Object(b.jsx)(u.b,{path:"/page/AMFM",exact:!0,children:Object(b.jsx)(xe,{})}),Object(b.jsx)(u.b,{path:"/page/Tutorial",exact:!0,children:Object(b.jsx)(we,{})}),Object(b.jsx)(u.b,{path:"/page/About",exact:!0,children:Object(b.jsx)(ye,{})})]})})]})})})})});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Ce=function(e){e&&e instanceof Function&&n.e(58).then(n.bind(null,178)).then((function(t){var n=t.getCLS,i=t.getFID,s=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),i(e),s(e),a(e),o(e)}))};c.a.render(Object(b.jsx)(a.a.StrictMode,{children:Object(b.jsx)(ke,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)})),Ce()},79:function(e,t,n){var i={"./ion-action-sheet.entry.js":[118,5],"./ion-alert.entry.js":[119,6],"./ion-app_8.entry.js":[120,7],"./ion-avatar_3.entry.js":[121,17],"./ion-back-button.entry.js":[122,18],"./ion-backdrop.entry.js":[123,43],"./ion-button_2.entry.js":[124,19],"./ion-card_5.entry.js":[125,20],"./ion-checkbox.entry.js":[126,21],"./ion-chip.entry.js":[127,22],"./ion-col_3.entry.js":[128,44],"./ion-datetime_3.entry.js":[129,10],"./ion-fab_3.entry.js":[130,23],"./ion-img.entry.js":[131,45],"./ion-infinite-scroll_2.entry.js":[132,46],"./ion-input.entry.js":[133,24],"./ion-item-option_3.entry.js":[134,25],"./ion-item_8.entry.js":[135,26],"./ion-loading.entry.js":[136,27],"./ion-menu_3.entry.js":[137,28],"./ion-modal.entry.js":[138,8],"./ion-nav_2.entry.js":[139,14],"./ion-popover.entry.js":[140,9],"./ion-progress-bar.entry.js":[141,29],"./ion-radio_2.entry.js":[142,30],"./ion-range.entry.js":[143,31],"./ion-refresher_2.entry.js":[144,11],"./ion-reorder_2.entry.js":[145,16],"./ion-ripple-effect.entry.js":[146,47],"./ion-route_4.entry.js":[147,32],"./ion-searchbar.entry.js":[148,33],"./ion-segment_2.entry.js":[149,34],"./ion-select_3.entry.js":[150,35],"./ion-slide_2.entry.js":[151,48],"./ion-spinner.entry.js":[152,13],"./ion-split-pane.entry.js":[153,49],"./ion-tab-bar_2.entry.js":[154,36],"./ion-tab_2.entry.js":[155,15],"./ion-text.entry.js":[156,37],"./ion-textarea.entry.js":[157,38],"./ion-toast.entry.js":[158,39],"./ion-toggle.entry.js":[159,12],"./ion-virtual-scroll.entry.js":[160,50]};function s(e){if(!n.o(i,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=i[e],s=t[0];return n.e(t[1]).then((function(){return n(s)}))}s.keys=function(){return Object.keys(i)},s.id=79,e.exports=s},81:function(e,t,n){var i={"./ion-icon.entry.js":[161,57]};function s(e){if(!n.o(i,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=i[e],s=t[0];return n.e(t[1]).then((function(){return n(s)}))}s.keys=function(){return Object.keys(i)},s.id=81,e.exports=s},89:function(e,t,n){},95:function(e,t,n){},96:function(e,t,n){},97:function(e,t){},99:function(e,t){}},[[115,3,4]]]);
//# sourceMappingURL=main.c5507477.chunk.js.map