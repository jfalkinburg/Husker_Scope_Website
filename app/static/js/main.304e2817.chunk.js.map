{"version":3,"sources":["components/Menu.tsx","utils/MathUtils.tsx","State.tsx","components/FunctionGeneratorChannel.tsx","components/cursors.tsx","components/WakeLock.tsx","components/FunctionGeneratorAudio.tsx","utils/FrequencyUtils.tsx","pages/FunctionGenerator.tsx","components/DrawGraph.js","components/triggers.js","components/DrawOscopeWave.js","components/exportCSV.js","components/DrawSpectrumWave.js","components/Canvas.js","pages/OScope.tsx","pages/AMFM.tsx","pages/SpectrumAnalyzer.tsx","pages/LogicAnalyzer.tsx","pages/Tutorial.tsx","pages/About.tsx","App.tsx","serviceWorkerRegistration.ts","reportWebVitals.ts","index.tsx","../node_modules/@ionic/core/dist/esm-es5 lazy /^/.//.*/.entry/.js$/ groupOptions: {} namespace object","../node_modules/ionicons/dist/esm-es5 lazy /^/.//.*/.entry/.js$/ groupOptions: {} namespace object"],"names":["appPages","title","url","iosIcon","mailOutline","mdIcon","mailSharp","paperPlaneOutline","paperPlaneSharp","Menu","location","useLocation","contentId","type","id","mode","map","appPage","index","autoHide","className","pathname","routerLink","routerDirection","lines","detail","class","src","process","clamp","value","min","max","Math","defaultChannelState","frequency","carrierFrequency","messageFrequency","amplitude","waveform","phase","outputting","modulation","initialState","channelOne","channelTwo","currChannel","earWarning","AppContext","createContext","persistedState","JSON","parse","window","localStorage","modifyChannelState","state","channelData","onChannel","newState","targetChannel","channelObj","reducer","action","payload","channel","AppContextProvider","props","fullInitialState","React","useReducer","dispatch","useEffect","toSerialize","stringify","Provider","children","Consumer","setAmplitudeAction","setCurrChannelAction","setChannelOutputtingAction","setModulationModeAction","getActiveChannel","getTargetChannel","target","getFrequency","getCarrierFrequency","getMessageFrequency","getAmplitude","getWaveform","getPhase","getOutputting","getModulation","transformPhase","FunctionGeneratorChannel","oscillator","useRef","stereo","gain","delay","fs","L","N","fft","require","audioCtx","active","newOsc","createOscillator","current","newGain","createGain","newStereo","createStereoPanner","offset","pan","newDelay","createDelay","delayTime","connect","destination","analyser","syncMultiplier","start","ceil","currentTime","stop","disconnect","signal","Float32Array","real","imag","fc","i","sin","PI","fi","response","newWave","createPeriodicWave","disableNormalization","setPeriodicWave","CursorDirection","WakeLock","enabled","Insomnia","keepAwake","allowSleepAgain","FunctionGeneratorAudio","AudioContext","close","freqOne","freqTwo","chOne","chTwo","FunctionGenerator","useContext","useIonAlert","present","cssClass","header","message","buttons","text","handler","activeChannel","setFrequency","useCallback","freq","setFrequencyAction","chOneFrequency","chTwoFrequency","setAmplitude","amp","chOneAmplitude","chTwoAmplitude","setWaveform","setWaveformAction","chOneWaveform","chTwoWaveform","setPhase","setPhaseAction","chOnePhase","chTwoPhase","setCurrChannel","chOneOutputting","chTwoOutputting","toggleChOneOutputting","toggleChTwoOutputting","useState","showPopover","frequencyPopoverState","setShowFrequencyPopover","amplitudePopoverState","setShowAmplitudePopover","phasePopoverState","setShowPhasePopover","popoverFrequencySet","inputFrequency","popoverAmplitudeSet","popoverPhaseSet","keyUpHandler","event","popover","key","inputAmplitude","inputPhase","chOneValues","chTwoValues","color","slot","style","fontWeight","fullscreen","scrollY","onClick","round","alt","log","step","onIonChange","e","frequencyValue","exp","logarithmic","isOpen","isPlatform","showBackdrop","onDidPresent","setFocus","onDidDismiss","ref","inputmode","placeholder","minFrequency","parseInt","onKeyUp","DrawGraph","isSpectrumGraph","graphLayer","Paper","Layer","drawGridLines","width","height","boundingRect","width_per_rectangle","height_per_rectangle","xPos","left","topPoint","Point","top","bottomPoint","bottom","aLine","Path","Line","strokeColor","strokeWidth","yPos","oldyPos","oldxPos","hatchMark","hatch1","hatch2","horizontalCenterLine","leftPoint","rightPoint","right","incx","view","bounds","on","activate","removeChildren","num","Trigger","axis","this","basePath","segments","length","fillColor","selected","closed","rotation","selecting","pos","position","x","y","hitDetected","hitTest","point","stroke","fill","tolerance","item","drawTriggers","onUpdate","triggerLayer","timePos","voltPos","timeTrigger","voltTrigger","onMouseDown","mousedown","onMouseDrag","mousedrag","onMouseUp","mouseup","resize","drawWaveInterval","dataArray","Cursor","_direction","eUndefined","_position","_line","_cursor","_active","layer","addChildren","visible","hitOptions","hitResult","cursorFlag","remove","VerticalCursor","eVertical","_init","strokeCap","dashArray","addTolayer","setPosition","Circle","center","radius","getActive","getPosition","setVisible","HorazontalCursor","eHorazontal","drawCursors","cursorLayer","timeCursor1","timeCursor2","voltageCursor1","voltageCursor2","timeCursorDiff","abs","voltCursorDiff","onResize","exportCSV","waveValues","csv","row","csvBlob","Blob","blobUrl","URL","createObjectURL","anchorElement","document","createElement","href","today","Date","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","shareData","File","failedWarning","alert","resolveLocalFileSystemURL","filesystem","getDirectory","create","exclusive","directory","getFile","fileEntry","createWriter","writer","onwriteend","seek","write","navigator","canShare","share","then","catch","error","name","download","click","bufferSize","sampleRate","voltageMultiplierConstant","triggerPoint","triggerFlag","saveFlag","drawingWave","voltageDiv","timeDiv","timeDiff","voltDiff","autoset","drawOscopeWave","frequencyChangeCallback","autosetFinishCallback","timeDivChangeCallback","voltDivChangeCallback","saveFinishCallback","clearOldWave","bufferIdx","audioinput","getMicPermission","addEventListener","evt","data","findTrigger","findFrequency","mediaDevices","getUserMedia","audio","autoGainControl","echoCancellation","noiseSuppression","mediaStream","ctx","mic","createMediaStreamSource","spe","createAnalyser","fftSize","osc","setInterval","getFloatTimeDomainData","err","console","waveLayer","path1","amount","offsetX","waveSpeed","_path","init","size","add","update","_event","maxVoltage","array","maxPoint","findMaxVoltage","tempVoltDiv","tempTimeDiv","segment","startPoint","timeOffset","bufferPoint","floor","point1","point2","crossCount","firstIndex","lastIndex","checkMicrophonePermission","hasPermission","streamToWebAudio","getMicrophonePermission","clearInterval","windowType","decibelsDiv","freqDiv","windowing","drawSpectrumWave","freqDivChangeCallback","centerChangeCallback","performFFT","fullArray","newSize","subsetArray","fullSize","iIncrement","j","performFFTSubset","freqPerPoint","maxDecibels","Number","NEGATIVE_INFINITY","maxDecibelsIdx","leftIdx","divHeight","zeroHeight","hann","gaussian","hamming","kaiser","flat_top","k","n","magnitude","sqrt","pow","log10","Canvas","canvasRef","renderFrame","animate","clientWidth","canvas","setup","drawGraph","XAxisDivChangeCallback","val1","val2","setTriggers","voltageDivChangeCallback","cursorChangeCallback","draw","requestAnimationFrame","cancelAnimationFrame","viewSize","Size","clientHeight","emit","isFullscreen","val","playPauseFlag","setSpectrumDrawWave","setSpectrumAutoset","setSpectrumSaveFlag","OScope","voltUnitDiv","flag","setFlag","fullscreenFlag","setFullscreenFlag","displayFlag","setDisplayFlag","voltageStart","setVoltageStart","timeStart","setTimeStart","setTriggerFlag","setCursorFlag","setAutoset","setTimeDiff","setVoltDiff","setSaveFlag","changeFullscreenFlag","triggerMenuPopoverState","setShowTriggerMenuPopover","popoverTriggerMenuSet","calculateTime","toFixed","calculateVoltage","calculateTimeDivision","calculateVoltageDivison","prev","AMFM","setCarrierFrequency","setCarrierFrequencyAction","setMessageFrequency","msgFreq","setMessageFrequencyAction","chOneMessageFrequency","chTwoMessageFrequency","chOneModulation","chTwoModulation","amChOneModulation","fmChOneModulation","amChTwoModulation","fmChTwoModulation","messageFrequencyPopoverState","setShowMessageFrequencyPopover","popoverMessageFrequencySet","inputMessageFrequency","SpectrumAnalyzer","SAMPLE_RATE","freqCount","setFreqCount","setFFTSize","setFreqDiv","setCenter","setWindowType","freqDiff","setFreqDiff","fftSizeMenuPopoverState","setShowFFTSizeMenuPopover","centerPopoverState","setShowCenterPopover","windowPopoverState","setShowWindowPopover","popoverCenterSet","inputCenter","popoverFFTSizeMenuSet","popoverWindowSet","calculateDecibels","calculateFrequency","calculateFrequencyDivision","calculateDecibelsDivision","minCenter","marginBottom","marginTop","Tutorial","About","rel","App","listener","ev","register","Plugins","exitApp","removeEventListener","basename","disabled","path","exact","to","Boolean","hostname","match","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById","serviceWorker","ready","registration","unregister","webpackAsyncContext","req","__webpack_require__","o","Promise","resolve","Error","code","ids","keys","Object","module","exports"],"mappings":"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","file":"static/js/main.304e2817.chunk.js","sourcesContent":["import {\n  IonContent,\n  IonItem,\n  IonLabel,\n  IonList,\n  IonListHeader,\n  IonMenu,\n  IonMenuToggle,\n  IonImg,\n} from '@ionic/react';\n\nimport { useLocation } from 'react-router-dom';\nimport { mailOutline, mailSharp, paperPlaneOutline, paperPlaneSharp } from 'ionicons/icons';\nimport './Menu.css';\n\ninterface AppPage {\n  url: string;\n  iosIcon: string;\n  mdIcon: string;\n  title: string;\n}\n\nconst appPages: AppPage[] = [\n  {\n    title: 'Function Generator',\n    url: '/page/FunctionGenerator',\n    iosIcon: mailOutline,\n    mdIcon: mailSharp\n  },\n  {\n    title: 'Oscilloscope',\n    url: '/page/OScope',\n    iosIcon: paperPlaneOutline,\n    mdIcon: paperPlaneSharp\n  },\n  {\n    title: 'AM/FM',\n    url: '/page/AMFM',\n    iosIcon: paperPlaneOutline,\n    mdIcon: paperPlaneOutline\n  },\n  {\n    title: 'Spectrum Analyzer',\n    url: '/page/SpectrumAnalyzer',\n    iosIcon: paperPlaneOutline,\n    mdIcon: paperPlaneSharp\n  },\n  {\n    title: 'Logic Analyzer - In Progress',\n    url: '/page/LogicAnalyzer',\n    iosIcon: paperPlaneOutline,\n    mdIcon: paperPlaneSharp\n  },\n  {\n    title: 'Tutorial',\n    url: '/page/Tutorial',\n    iosIcon: paperPlaneOutline,\n    mdIcon: paperPlaneOutline\n  },\n  {\n    title: 'About',\n    url: '/page/About',\n    iosIcon: paperPlaneOutline,\n    mdIcon: paperPlaneOutline\n  },\n];\n\nconst Menu: React.FC = () => {\n  const location = useLocation();\n\n  return (\n    <IonMenu contentId=\"main\" type=\"overlay\" data-testid=\"menu-toggle\">\n      <IonContent>\n        <IonList id=\"inbox-list\" mode=\"ios\">\n          <IonListHeader>Husker Scope</IonListHeader>\n          {appPages.map((appPage, index) => {\n            return (\n              <IonMenuToggle key={index} autoHide={false}>\n                <IonItem className={location.pathname === appPage.url ? 'selected' : ''} routerLink={appPage.url} routerDirection=\"none\" lines=\"none\" detail={false}>\n                  {\n                  }\n                  <IonLabel>{appPage.title}</IonLabel>\n                </IonItem>\n              </IonMenuToggle>\n            );\n          })}\n          <div className='the-logo'>\n            <IonImg class=\"logo-menu\" src={process.env.PUBLIC_URL + \"/assets/Husker_Scope_Logo_rounded_corners.png\"}></IonImg>\n          </div>\n        </IonList>\n      </IonContent>\n    </IonMenu>\n  );\n};\n\nexport default Menu;\n","export function clamp(value: number, min: number, max: number) {\n  return Math.min(Math.max(value, min), max);\n}\n","import React, { createContext, useEffect } from \"react\";\nimport { clamp } from 'utils/MathUtils';\n\n// Consts\nconst MIN_PHASE = 0;\nconst MAX_PHASE = 360;\n\n// Type definitions\n\n// Total app state\ninterface AppStateInterface {\n  channelOne: FuncGenChannelInterface;\n  channelTwo: FuncGenChannelInterface;\n  currChannel: 0 | 1;\n  earWarning: boolean;\n}\n\n// FG channel state\ninterface FuncGenChannelInterface {\n  frequency: number;\n  carrierFrequency: number;\n  messageFrequency: number;\n  amplitude: number;\n  waveform: WAVETYPE;\n  phase: number;\n  outputting: boolean;\n  modulation: boolean;\n}\n\n// Context including state and a dispatcher\ninterface AppContextInterface {\n  state:AppStateInterface;\n  dispatch:React.Dispatch<ACTIONTYPE>;\n}\n\n// Type for component accepting child props\ninterface AppProps {\n  children: React.ReactNode;\n}\n\n// Waveform types\nexport type WAVETYPE = \"square\" | \"sawtooth\" | \"sine\" | \"triangle\" | \"custom\";\n\n// Reducer action types\ntype ACTIONTYPE =\n  | { type: \"acceptWarning\"; }\n  | { type: \"setFrequency\"; payload: number; }\n  | { type: \"setCarrierFrequency\"; payload: number; }\n  | { type: \"setMessageFrequency\"; payload: number; }\n  | { type: \"setAmplitude\"; payload: number; }\n  | { type: \"setWaveform\"; payload: WAVETYPE;}\n  | { type: \"setPhase\"; payload: number;}\n  | { type: \"setChannelOutputting\"; channel: 0 | 1; payload: boolean;}\n  | { type: \"setCurrChannel\"; payload: 0 | 1;}\n  | { type: \"setModulationMode\"; payload: boolean;};\n\n// Default state for a channel\nconst defaultChannelState: FuncGenChannelInterface = {\n  frequency: 440,\n  carrierFrequency: 550,\n  messageFrequency: 20,\n  amplitude: 100,\n  waveform: \"sine\",\n  phase: 180,\n  outputting: false,\n  modulation: true\n};\n\n// Default total app state\nconst initialState: AppStateInterface = {\n  channelOne: defaultChannelState,\n  channelTwo: defaultChannelState,\n  currChannel: 0,\n  earWarning: true,\n};\n\nexport const AppContext: React.Context<AppContextInterface> = createContext<AppContextInterface>({} as AppContextInterface);\n\n// Load state or default to empty persisted state\nconst persistedState: AppStateInterface = JSON.parse(window.localStorage['persistedState'] ?? '{}');\n\n// Helper function to apply a change to a channel\nconst modifyChannelState = (state: AppStateInterface, channelData: Partial<FuncGenChannelInterface>, onChannel = state.currChannel): AppStateInterface => {\n  // Shallow copy state\n  let newState = {...state};\n\n  // Get property name we are modifiying\n  let targetChannel: keyof AppStateInterface = onChannel === 0 ? 'channelOne' : 'channelTwo';\n\n  // Shallow copy target channel and replace given data\n  let channelObj = {...state[targetChannel], ...channelData};\n\n  return {...newState, [targetChannel]: channelObj};\n}\n\nconst reducer: React.Reducer<AppStateInterface, ACTIONTYPE> = (state: AppStateInterface, action: ACTIONTYPE) => {\n  switch(action.type) {\n    case \"acceptWarning\": {\n      return {...state, earWarning: false};\n    }\n    case \"setFrequency\": {\n      return modifyChannelState(state, {frequency: action.payload});\n    }\n    case \"setCarrierFrequency\": {\n      return modifyChannelState(state, {carrierFrequency: action.payload});\n    }\n    case \"setMessageFrequency\": {\n      return modifyChannelState(state, {messageFrequency: action.payload});\n    }\n    case \"setAmplitude\": {\n      return modifyChannelState(state, {amplitude: action.payload});\n    }\n    case \"setWaveform\": {\n      return modifyChannelState(state, {waveform: action.payload});\n    }\n    case \"setPhase\": {\n      return modifyChannelState(state, {phase: clamp(action.payload, MIN_PHASE, MAX_PHASE)});\n    }\n    case \"setChannelOutputting\": {\n      return modifyChannelState(state, {outputting: action.payload}, action.channel);\n    }\n    case \"setCurrChannel\": {\n      return {...state, currChannel: action.payload};\n    }\n    case \"setModulationMode\": {\n      return modifyChannelState(state, {modulation: action.payload});\n    }\n  }\n\n  // Action not handled\n  return state;\n};\n\nexport function AppContextProvider(props : AppProps) {\n  // Deeply merge the initial state with persisted\n  const fullInitialState = {\n    ...initialState,\n    ...persistedState,\n    channelOne: {\n      ...initialState.channelOne,\n      ...persistedState.channelOne,\n    },\n    channelTwo: {\n      ...initialState.channelTwo,\n      ...persistedState.channelTwo,\n    },\n  };\n  \n  let [state, dispatch] = React.useReducer(reducer, fullInitialState);\n\n  useEffect(() => {\n    // Explicitly serialize these parts of state.\n    // This allows for modifying persistence behavior for particular state.\n    const toSerialize: AppStateInterface = {\n      ...state,\n      channelOne: {\n        ...state.channelOne,\n        outputting: false,\n      },\n      channelTwo: {\n        ...state.channelTwo,\n        outputting: false,\n      },\n      currChannel: 0,\n    };\n    window.localStorage['persistedState'] = JSON.stringify(toSerialize);\n  }, [state]);\n\n\n  let value = { state, dispatch }\n\n  return (\n    <AppContext.Provider value={value}>{props.children}</AppContext.Provider>\n  );\n}\n\nexport const AppContextConsumer = AppContext.Consumer; \n\nexport const acceptWarning = (): ACTIONTYPE => \n({\n  type: 'acceptWarning',\n});\n\nexport const setFrequencyAction = (frequency: number): ACTIONTYPE =>\n({\n  type: 'setFrequency',\n  payload: frequency\n});\n\nexport const setCarrierFrequencyAction = (messageFrequency: number): ACTIONTYPE =>\n({\n  type: 'setCarrierFrequency',\n  payload: messageFrequency\n});\n\nexport const setMessageFrequencyAction = (messageFrequency: number): ACTIONTYPE =>\n({\n  type: 'setMessageFrequency',\n  payload: messageFrequency\n});\n\nexport const setAmplitudeAction = (amplitude: number): ACTIONTYPE =>\n({\n  type: 'setAmplitude',\n  payload: amplitude\n});\n\nexport const setWaveformAction = (waveform: WAVETYPE): ACTIONTYPE =>\n({\n  type: 'setWaveform',\n  payload: waveform\n});\n\nexport const setPhaseAction = (phase: number): ACTIONTYPE =>\n({\n  type: 'setPhase',\n  payload: phase\n});\n\nexport const setCurrChannelAction = (channel: 0 | 1): ACTIONTYPE =>\n({\n  type: 'setCurrChannel',\n  payload: channel\n});\n\nexport const setChannelOutputtingAction = (channel: 0 | 1, outputting: boolean): ACTIONTYPE =>\n({\n  type: 'setChannelOutputting',\n  payload: outputting,\n  channel: channel,\n});\n\nexport const setModulationModeAction = (modulation: boolean): ACTIONTYPE =>\n({\n  type: 'setModulationMode',\n  payload: modulation,\n});\n\n// Get current channel object\nexport const getActiveChannel = (state: AppStateInterface) => (getTargetChannel(state, state.currChannel));\nexport const getTargetChannel = (state: AppStateInterface, target: 0 | 1) => (target === 0 ? state.channelOne : state.channelTwo);\n\nexport const getFrequency = (channel: FuncGenChannelInterface) => (channel.frequency);\nexport const getCarrierFrequency = (channel: FuncGenChannelInterface) => (channel.carrierFrequency);\nexport const getMessageFrequency = (channel: FuncGenChannelInterface) => (channel.messageFrequency);\nexport const getAmplitude = (channel: FuncGenChannelInterface) => (channel.amplitude);\nexport const getWaveform = (channel: FuncGenChannelInterface) => (channel.waveform);\nexport const getPhase = (channel: FuncGenChannelInterface) => (channel.phase);\nexport const getOutputting = (channel: FuncGenChannelInterface) => (channel.outputting);\nexport const getModulation = (channel: FuncGenChannelInterface) => (channel.modulation);\n","import { squareOutline } from 'ionicons/icons';\nimport { useEffect, useRef } from 'react';\n\nimport { getCarrierFrequency, WAVETYPE } from '../State';\n\nexport interface FGAudioChannel {\n  active: boolean,\n  frequency: number,\n  messageFrequency: number,\n  amplitude: number,\n  waveform: WAVETYPE,\n  phase: number,\n  modulation: boolean\n}\n\ninterface FGAudioChannelProps extends FGAudioChannel {\n  audioCtx: AudioContext,\n  channel: \"left\" | \"right\",\n  syncMultiplier: number,\n  analyser?: AnalyserNode,\n}\n\n// Convert from [0, 360] to corresponding amount of delay in seconds\nconst transformPhase = (frequency: number, phase: number) => {\n  return (1/frequency) * (phase/360 + 0.5);\n}\n\nexport const FunctionGeneratorChannel = (props: FGAudioChannelProps) => {\n  // Audio node refs\n  const oscillator = useRef<OscillatorNode>(null!);\n  const stereo = useRef<StereoPannerNode>(null!);\n  const gain = useRef<GainNode>(null!);\n  const delay = useRef<DelayNode>(null!);\n\n  // Value refs\n  const frequency = useRef<number>(440);\n  const messageFrequency = useRef<number>(40);\n  const amplitude = useRef<number>(100);\n  const phase = useRef<number>(180);\n  const modulation = useRef<boolean>(false);\n  \n  const fs = 48000;\n  const L = 2048;\n  const N = 2048;\n  const fmult = 2.432;\n\n  let fft = require('fft-js').fft;\n\n  // Activate/deactivate\n  useEffect(() => {\n    // Is activating?\n    if(props.audioCtx && props.active) {\n      // Setup oscillator node\n      let newOsc = props.audioCtx.createOscillator();\n\n      if (props.waveform != \"custom\" as WAVETYPE) {\n        newOsc.frequency.value = frequency.current;\n        newOsc.type = props.waveform;\n      }\n\n      // Setup gain node\n      let newGain = props.audioCtx.createGain();\n      newGain.gain.value = amplitude.current;\n\n      // Setup stereo node\n      let newStereo = props.audioCtx.createStereoPanner();\n      let offset: number = 0;\n      switch(props.channel) {\n        case \"left\": {\n          offset = -1;\n          break;\n        }\n        case \"right\": {\n          offset = 1;\n          break;\n        }\n        default: {\n          offset = 0;\n          break;\n        }\n      }\n\n      newStereo.pan.value = offset;\n\n      // Setup delay node\n      let newDelay = props.audioCtx.createDelay();\n      newDelay.delayTime.value = transformPhase(frequency.current, phase.current);\n\n      // Save to refs\n      oscillator.current = newOsc;\n      gain.current = newGain;\n      stereo.current = newStereo;\n      delay.current = newDelay;\n\n      // Connect nodes\n      newOsc.connect(newGain);\n      newGain.connect(newStereo);\n      newStereo.connect(newDelay);\n      newDelay.connect(props.audioCtx.destination);\n\n      // Connect to analyser if it exists\n      if(props.analyser) {\n        newDelay.connect(props.analyser);\n      }\n\n      // Start playing at next integer timestamp at least 0.05 seconds from now\n      // if the channels can be synced. Otherwise, start immediately.\n      if(props.syncMultiplier) {\n        newOsc.start(Math.ceil(props.audioCtx.currentTime + 0.05));\n      } else {\n        newOsc.start();\n      }\n\n      // Cleanup function\n      return () => {\n        newOsc.stop();\n        newOsc.disconnect();\n        newGain.disconnect();\n        newStereo.disconnect();\n        newDelay.disconnect();\n\n        if(props.analyser) {\n          props.analyser.disconnect();\n        }\n      };\n    }\n  }, [props.audioCtx, props.waveform, props.channel, props.active, props.analyser, props.syncMultiplier]);\n\n  // Update parameter values\n  useEffect(() => {\n    // Update ref\n    frequency.current = props.frequency;\n    messageFrequency.current = props.messageFrequency;\n    amplitude.current = props.amplitude;\n    phase.current = props.phase;\n    modulation.current = props.modulation;\n\n    // If active, also update current oscillator\n    if(props.audioCtx && props.active) {\n      if (props.waveform == \"custom\" as WAVETYPE) {\n\n        let signal = new Float32Array(L);\n        let real = new Float32Array(N/2);\n        let imag = new Float32Array(N/2);\n\n        if (modulation.current) {\n          oscillator.current.frequency.value = messageFrequency.current;\n\n          let fc = frequency.current * 25 / messageFrequency.current * .94;\n          let fm = fs / L;\n          for (let i = 0; i < L; i++) {\n            signal[i] = Math.sin(2 * Math.PI * fc * i / fs) * \n            Math.sin(2 * Math.PI * fm * i / fs);\n          }\n        } else {\n          oscillator.current.frequency.value = messageFrequency.current;\n\n          let fc = frequency.current * 25 / messageFrequency.current * .94;;\n          let fm = fs / L;\n          // let fi = (fc - messageFrequency.current) / messageFrequency.current;\n          // let fi = 2 * (frequency.current / messageFrequency.current) ** .75;\n          let fi = .5 * frequency.current / messageFrequency.current;\n          for (let i = 0; i < L; i++) {\n            signal[i] = Math.sin(2 * Math.PI * fc * i / fs + \n            fi * Math.sin(2 * Math.PI * fm * i / fs) );\n          }\n        }\n\n        let response = fft(signal);\n\n        for (let i = 0; i < N / 2; i++) {\n          real[i] = response[i][0] * -2 * Math.PI / N;\n          imag[i] = response[i][1] * -2 * Math.PI / N;\n        }\n\n        let newWave = props.audioCtx.createPeriodicWave(real, imag, {disableNormalization: true});\n\n        oscillator.current.setPeriodicWave(newWave);\n\n        delay.current.delayTime.value = 0;\n\n        gain.current.gain.value = amplitude.current * .2;\n      } else {\n        oscillator.current.frequency.value = frequency.current; \n        delay.current.delayTime.value = transformPhase(frequency.current, phase.current);\n        gain.current.gain.value = amplitude.current;\n      }\n    }\n  }, [props.audioCtx, props.active, props.frequency, props.messageFrequency, props.amplitude, props.phase, props.modulation]);\n\n  return null;\n};\n","/*\n  About: This file is used to create the cursors for the oscilloscope. This is done\n  with the use of PaperJS. How it all works is when the hit box is moved the cursor \n  (the circle and dashed line) will also move. Based of the position of dashed line,\n  the position value will be updated and the difference will be taken to display to \n  the user. The values that are exported from this file are just the difference \n  between the time and voltage cursors. All the math is done within wave.js.\n*/\n\nimport Paper from \"paper\";\nimport React from \"react\";\nimport { clamp } from \"utils/MathUtils\";\n\nenum CursorDirection {\n  eUndefined,\n  eVertical,\n  eHorazontal\n}\n\nclass Cursor{\n  protected _direction: CursorDirection = CursorDirection.eUndefined;\n  protected _position: number = 0;\n\n  protected _line : any;\n  protected _cursor : any;\n\n  protected _active: any = null;\n\n  constructor(){}\n\n  getLine() { return this._line; }\n  getCursor() { return this._cursor; }\n  getDirection() : CursorDirection { return this._direction; }\n\n  getActive(): any { return this._active; }\n\n  setPosition(position: number) { this._position = position; }\n  getPosition() : number { return this._position; }\n\n  addTolayer(layer: any){\n    layer.addChildren(this._line);\n    layer.addChildren(this._cursor);\n  }\n  \n  setVisible(visible: boolean){\n    this._cursor.visible = visible;\n    this._line.visible = visible;\n  }\n\n  onMouseDown(event: any, hitOptions: any){\n    let hitResult = this._cursor.hitTest(event.point, hitOptions);\n    this._active = hitResult && hitResult.item;\n  }\n\n  onMouseUp(event:any ){\n    this._active = false;\n  }\n\n  onMouseDrag(event:any ){}\n\n  onResize(event: any, cursorFlag: boolean){\n    this._cursor.remove();\n    this._line.remove();\n  }\n}\n\nclass VerticalCursor extends Cursor{\n  constructor(layer: any, position: number){\n    super();\n    this._direction = CursorDirection.eVertical;\n\n    this._position = position;\n    this._init();\n\n    this._line.strokeColor = 'Black';\n    this._line.strokeWidth = 3;\n    this._line.strokeCap = 'round';\n    this._line.dashArray = [10, 12];\n\n    this.addTolayer(layer);\n    this.setPosition(position);\n  }\n\n  private _init(){\n    this._line = new Paper.Path({\n      segments: [\n        [Paper.view.bounds.width * this._position, 0], \n        [\n          Paper.view.bounds.width * this._position, \n          Paper.view.bounds.height * 2\n        ]\n      ],\n      selected: false\n    });\n\n    this._cursor = new Paper.Path.Circle({\n      center: Paper.view.center,\n      radius: 15,\n      fillColor: 'red'\n    });\n  }\n\n  setPosition(position: number){\n    super.setPosition(position);\n    this._line.position.x = Paper.view.bounds.width * position;\n    this._line.position.y = Paper.view.bounds.height;\n    this._cursor.position.x = Paper.view.bounds.width * position;\n    this._cursor.position.y = Paper.view.bounds.height;\n  }\n\n  onMouseDrag(event: any){\n    if(!this.getActive()) return;\n\n    this.setPosition(clamp(\n      event.point.x / Paper.view.bounds.width, \n      0.0, \n      1.0\n    ));\n    this._active.position.x = this._line.position.x;\n  }\n\n  onResize(event: any, cursorFlag: boolean){\n    super.onResize(event, cursorFlag);\n\n    // Regenerate the cursor\n    this._init();\n    \n    this._line.strokeColor = 'Black';\n    this._line.strokeWidth = 3;\n    this._line.strokeCap = 'round';\n    this._line.dashArray = [10, 12];\n\n    this.setPosition(this.getPosition());\n    this.setVisible(cursorFlag);\n  }\n}\n\nclass HorazontalCursor extends Cursor{\n    constructor(layer: any, position: number){\n      super();\n      this._direction = CursorDirection.eHorazontal;\n\n      this._position = position;\n      this._init();\n\n      this._line.strokeColor = 'Black';\n      this._line.strokeWidth = 3;\n      this._line.strokeCap = 'round';\n      this._line.dashArray = [10, 12];\n\n      this.addTolayer(layer);\n      this.setPosition(position);\n    }\n\n    private _init(){\n      this._line = new Paper.Path({\n        segments: [\n          [0, Paper.view.bounds.height * (1-this._position)], \n          [\n            Paper.view.bounds.width * 2, \n            Paper.view.bounds.height * (1-this._position)\n          ]\n        ],\n        selected: false\n      });\n\n      this._cursor = new Paper.Path.Circle({\n        center: Paper.view.center,\n        radius: 15,\n        fillColor: 'red'\n      });\n    }\n\n    setPosition(position: number){\n      super.setPosition(position);\n      this._line.position.x = Paper.view.bounds.width;\n      this._line.position.y = Paper.view.bounds.height * (1-this._position);\n      this._cursor.position.x = Paper.view.bounds.width;\n      this._cursor.position.y = Paper.view.bounds.height * (1-this._position);\n    }\n\n    onResize(event: any, cursorFlag: boolean){\n      super.onResize(event, cursorFlag);\n\n      // Regenerate Line\n      this._init();\n    \n      this._line.strokeColor = 'Black';\n      this._line.strokeWidth = 3;\n      this._line.strokeCap = 'round';\n      this._line.dashArray = [10, 12];\n\n      this.setPosition(this.getPosition());\n      this.setVisible(cursorFlag);\n    }\n  \n  onMouseDrag(event: any){\n    if(!this.getActive()) return;\n\n    this.setPosition(clamp(\n      1 - (event.point.y / Paper.view.bounds.height), \n      0.0, \n      1.0\n    ));\n    this._active.position.y = this._line.position.y;\n  }\n}\n\nlet cursorFlag = false;\nexport const setCursorFlag = (val:any) => cursorFlag = val;\n\nconst drawCursors = (onUpdate: (timeDiff: number, voltDiff: number) => void) => {\n  let cursorLayer = new Paper.Layer();\n\n  let timeCursor1 = new VerticalCursor(cursorLayer, .25);\n  let timeCursor2 = new VerticalCursor(cursorLayer, .75);\n  let voltageCursor1 = new HorazontalCursor(cursorLayer, .25);\n  let voltageCursor2 = new HorazontalCursor(cursorLayer, .75);\n\n  let timeCursorDiff = Math.abs(timeCursor1.getPosition() - timeCursor2.getPosition());\n  let voltCursorDiff = Math.abs(voltageCursor1.getPosition() - voltageCursor2.getPosition());\n\n  timeCursor1.setVisible(cursorFlag);\n  timeCursor2.setVisible(cursorFlag);\n  voltageCursor1.setVisible(cursorFlag);\n  voltageCursor2.setVisible(cursorFlag);\n\n  onUpdate(timeCursorDiff, voltCursorDiff);\n\n  // Move cursor using touch\n  let hitOptions = {\n    stroke: true,\n    fill: true,\n    tolerance: 50,\n  }\n\n  Paper.view.on('mousedown', function(event: any) {\n    timeCursor1.onMouseDown(event, hitOptions);\n    timeCursor2.onMouseDown(event, hitOptions);\n    voltageCursor1.onMouseDown(event, hitOptions);\n    voltageCursor2.onMouseDown(event, hitOptions);\n  });\n\n  Paper.view.on('mousedrag', function(event: any) {    \n    if(timeCursor1.getActive()){\n      timeCursor1.onMouseDrag(event);\n    }else if(timeCursor2.getActive()){\n      timeCursor2.onMouseDrag(event);\n    }else if(voltageCursor1.getActive()){\n      voltageCursor1.onMouseDrag(event);\n    }else if(voltageCursor2.getActive()){\n      voltageCursor2.onMouseDrag(event);\n    }\n\n    let timeCursorDiff = Math.abs(timeCursor1.getPosition() - timeCursor2.getPosition());\n    let voltCursorDiff = Math.abs(voltageCursor1.getPosition() - voltageCursor2.getPosition());\n\n    onUpdate(timeCursorDiff, voltCursorDiff);\n  });\n\n  Paper.view.on('mouseup', function (event: any) {\n    timeCursor1.onMouseUp(event);\n    timeCursor2.onMouseUp(event);\n    voltageCursor1.onMouseUp(event);\n    voltageCursor2.onMouseUp(event);\n  });\n\n  \n  Paper.view.on('resize', function (event: any) {\n    cursorLayer.activate();\n    \n    timeCursor1.onResize(event, cursorFlag);\n    voltageCursor1.onResize(event, cursorFlag);\n    timeCursor2.onResize(event, cursorFlag);\n    voltageCursor2.onResize(event, cursorFlag);\n  });\n\n  Paper.view.on('frame', function (event: any) {\n    timeCursor1.setVisible(cursorFlag);\n    timeCursor2.setVisible(cursorFlag);\n    voltageCursor1.setVisible(cursorFlag);\n    voltageCursor2.setVisible(cursorFlag);\n  });\n\n}\n\nexport default drawCursors;","import React, { useEffect } from 'react';\nimport { Insomnia } from '@awesome-cordova-plugins/insomnia';\n\ninterface WakeLockProps {\n  enabled: boolean;\n}\n\nconst WakeLock = (props: WakeLockProps) => {\n\n  useEffect(() => {\n    if(props.enabled) {\n      // Wake-lock on\n      Insomnia.keepAwake();\n\n      // Disable wakelock\n      return () => {\n        Insomnia.allowSleepAgain();\n      };\n    }\n\n  }, [props.enabled]);\n\n  return null;\n}\n\nexport default WakeLock;\n","import React, { useRef, useEffect } from 'react';\n\nimport { FunctionGeneratorChannel } from './FunctionGeneratorChannel';\n\nimport type { FGAudioChannel } from './FunctionGeneratorChannel';\n\nimport { getSyncMultiplier } from 'utils/FrequencyUtils';\n\nimport WakeLock from 'components/WakeLock';\n\nexport interface FGAudioProps {\n  chOne: FGAudioChannel,\n  chTwo: FGAudioChannel,\n}\n\nexport const FunctionGeneratorAudio = (props: FGAudioProps) => {\n  const audioCtx = useRef<AudioContext>(null!);\n\n  // Init/cleanup audio context\n  useEffect(() => {\n    audioCtx.current = new AudioContext();\n\n    return () => {\n      audioCtx.current.close();\n    };\n  }, []);\n\n  // Check if should sync\n  const syncMultiplier = getSyncMultiplier(props.chOne.frequency, props.chTwo.frequency);\n\n  // Create the two channels\n  return (\n    <>\n      <WakeLock enabled={props.chOne.active || props.chTwo.active} />\n      <FunctionGeneratorChannel channel=\"left\" syncMultiplier={syncMultiplier} audioCtx={audioCtx.current} {...props.chOne} />\n      <FunctionGeneratorChannel channel=\"right\" syncMultiplier={syncMultiplier} audioCtx={audioCtx.current} {...props.chTwo} />\n    </>\n  );\n};\n","// Get the multiplier of the larger freq w.r.t. smaller or 0 if not divisible.\nexport function getSyncMultiplier(freqOne: number, freqTwo: number): number {\n  // Is one number a multiple of the other?\n  let remainder = Math.max(freqOne, freqTwo) % Math.min(freqOne, freqTwo);\n  \n  // Not a multiplier, return 0;\n  if(remainder !== 0) {\n    return 0;\n  }\n\n  // Otherwise, return multiplicity of larger frequency\n  return Math.max(freqOne, freqTwo) / Math.min(freqOne, freqTwo);\n}\n","import React, { useState, useContext, useEffect, useCallback, useRef } from 'react';\nimport {\n  IonButtons, IonContent, IonHeader, IonMenuButton, IonPage, IonTitle, IonToolbar, IonRange,\n  IonButton, IonInput, IonImg, IonPopover, IonIcon, useIonAlert\n} from '@ionic/react';\n\nimport {\n  AppContext, setFrequencyAction, setAmplitudeAction, setWaveformAction,\n  setPhaseAction, setCurrChannelAction, setChannelOutputtingAction,\n  getFrequency, getAmplitude, getWaveform, getPhase, getActiveChannel,\n  getTargetChannel, getOutputting, acceptWarning,\n} from '../State';\n\nimport type { WAVETYPE } from '../State';\n\nimport { FunctionGeneratorAudio } from '../components/FunctionGeneratorAudio';\nimport './FunctionGenerator.css';\nimport { isPlatform } from '@ionic/core';\n\nconst FunctionGenerator: React.FC = () => {\n\n  const { state, dispatch } = useContext(AppContext);\n  const [present] = useIonAlert();\n\n  // Ear damage warning\n  useEffect(() => {\n    if(state.earWarning) {\n      present({\n        cssClass: 'alert',\n        header: 'Warning',\n        message: 'This app can produce loud sounds that can damage sensitive parts of the ear resulting in hearing loss.<br /><br />Use with caution and avoid wearing headphones.',\n        buttons: [ \n          {\n            text: 'I understand',\n            handler: () => {\n              dispatch(acceptWarning());\n            }\n          }\n        ]\n      });\n    }\n  }, [dispatch, present, state.earWarning]);\n\n\n  // Effect for disabling channels outputting when leaving page\n  useEffect(() => {\n    // Cleanup\n    return () => {\n      dispatch(setChannelOutputtingAction(0, false));\n      dispatch(setChannelOutputtingAction(1, false));\n    }\n  }, [dispatch]);\n\n  const name = \"Function Generator\";\n\n  // Selected channel obj\n  const activeChannel = getActiveChannel(state);\n\n  // Left-right channels\n  const chOne = getTargetChannel(state, 0);\n  const chTwo = getTargetChannel(state, 1);\n\n  // Get and set frequency\n  const frequency = getFrequency(activeChannel);\n  const setFrequency = useCallback((freq: number) => {\n    dispatch(setFrequencyAction(freq));\n  }, [dispatch]);\n\n  // Get both channel frequencies\n  const chOneFrequency = getFrequency(chOne);\n  const chTwoFrequency = getFrequency(chTwo);\n\n  // Get and set amplitude\n  const amplitude = getAmplitude(activeChannel);\n  const setAmplitude = useCallback((amp: number) => {\n    dispatch(setAmplitudeAction(Math.max(0, amp)));\n  }, [dispatch]);\n\n  // Get both channel amplitude\n  const chOneAmplitude = getAmplitude(chOne);\n  const chTwoAmplitude = getAmplitude(chTwo);\n\n  // Get and set waveform\n  const waveform = getWaveform(activeChannel);\n  const setWaveform = useCallback((waveform: WAVETYPE) => {\n    dispatch(setWaveformAction(waveform));\n  }, [dispatch]);\n\n  const chOneWaveform = getWaveform(chOne);\n  const chTwoWaveform = getWaveform(chTwo);\n\n  // Get and set phase\n  const phase = getPhase(activeChannel);\n  const setPhase = useCallback((phase: number) => {\n    dispatch(setPhaseAction(phase));\n  }, [dispatch]);\n\n  const chOnePhase = getPhase(chOne);\n  const chTwoPhase = getPhase(chTwo);\n\n  // Get and set current channel\n  const currChannel = state.currChannel;\n  const setCurrChannel = useCallback((channel: 0 | 1) => {\n    dispatch(setCurrChannelAction(channel));\n  }, [dispatch]);\n\n  // Get and set channels outputting\n  const chOneOutputting = getOutputting(chOne);\n  const chTwoOutputting = getOutputting(chTwo);\n\n  const toggleChOneOutputting = useCallback(() => {\n    dispatch(setChannelOutputtingAction(0, !chOneOutputting));\n  }, [chOneOutputting, dispatch]);\n\n  const toggleChTwoOutputting = useCallback(() => {\n    dispatch(setChannelOutputtingAction(1, !chTwoOutputting));\n  }, [chTwoOutputting, dispatch]);\n\n  // parsing frequency slider value to change it to frequency value\n  function logarithmic(value: number) {\n    let frequencyValue = Math.exp(value) + 19;\n    setFrequency(frequencyValue);\n  }\n\n  // For showing and hiding popovers  \n  const minFrequency = 20;\n  const maxFrequency = 20000;\n  const [frequencyPopoverState, setShowFrequencyPopover] = useState({ showPopover: false, frequency: 440 });\n  const [amplitudePopoverState, setShowAmplitudePopover] = useState({ showPopover: false, amplitude: 100 });\n  const [phasePopoverState, setShowPhasePopover] = useState({ showPopover: false, phase: 180 });\n\n  function popoverFrequencySet() {\n    if (minFrequency <= frequencyPopoverState.frequency && frequencyPopoverState.frequency <= maxFrequency) {\n      setFrequency(frequencyPopoverState.frequency);\n      setShowFrequencyPopover({ showPopover: false, frequency: frequency });\n    } else {\n      inputFrequency.current.value = \"\";\n    }\n  }\n\n  function popoverAmplitudeSet() {\n    setAmplitude(amplitudePopoverState.amplitude);\n    setShowAmplitudePopover({ showPopover: false, amplitude: amplitude });\n  }\n\n  function popoverPhaseSet() {\n    setPhase(phasePopoverState.phase);\n    setShowPhasePopover({ showPopover: false, phase: phase });\n  }\n\n  function keyUpHandler(event: React.KeyboardEvent<HTMLIonInputElement>, popover: string) {\n    if (event.key === \"Enter\") {\n      switch (popover) {\n        case \"frequency\": popoverFrequencySet(); break;\n        case \"amplitude\": popoverAmplitudeSet(); break;\n        case \"phase\": popoverPhaseSet(); break;\n      }\n    }\n  }\n\n  const inputFrequency = useRef<HTMLIonInputElement>(null!);\n  const inputAmplitude = useRef<HTMLIonInputElement>(null!);\n  const inputPhase = useRef<HTMLIonInputElement>(null!);\n\n  function frequencyInputFocus() {\n    inputFrequency.current.setFocus();\n  }\n\n  function amplitudeInputFocus() {\n    inputAmplitude.current.setFocus();\n  }\n\n  function phaseInputFocus() {\n    inputPhase.current.setFocus();\n  }\n\n  const chOneValues = { active: chOneOutputting, frequency: chOneFrequency, messageFrequency: 0, amplitude: chOneAmplitude / 100, phase: chOnePhase, waveform: chOneWaveform, modulation: false}\n  const chTwoValues = { active: chTwoOutputting, frequency: chTwoFrequency, messageFrequency: 0, amplitude: chTwoAmplitude / 100, phase: chTwoPhase, waveform: chTwoWaveform, modulation: false}\n\n  return (\n    <IonPage>\n      <IonHeader>\n        <IonToolbar mode=\"ios\" color=\"primary\">\n          <IonButtons slot=\"start\">\n            <IonMenuButton />\n          </IonButtons>\n          <IonTitle><b style={{fontWeight: \"bolder\"}}>Husker Scope</b>{\": \" + name}</IonTitle>\n          <IonImg slot=\"end\" class=\"logo\" src={process.env.PUBLIC_URL + \"/assets/Husker_Scope_Logo_circle.png\"}></IonImg>\n        </IonToolbar>\n      </IonHeader>\n\n      <IonContent fullscreen scrollY={false} color=\"secondary\">\n        <FunctionGeneratorAudio chOne={chOneValues} chTwo={chTwoValues} />\n        <div className=\"frequency-waveform-channels\">\n\n          {/* Channel 1 Editing Button */}\n          <div className=\"channel-div\">\n            <IonButton class=\"edit-button-L\" mode=\"ios\" onClick={() => { setCurrChannel(0) }} color={currChannel === 0 ? \"primary\" : \"light\"} data-testid=\"left-edit\">\n              <div className=\"edit-button-contents\">\n                CH1 <br /> \n                FQ: {Math.round(chOneFrequency)} Hz <br /> \n                AMP: {chOneAmplitude}% <br /> \n                PH: {chOnePhase}°\n                <img className=\"edit-img\" src={process.env.PUBLIC_URL + `/assets/${chOneWaveform}-wave.png`} alt=\"\" />\n              </div>\n            </IonButton>\n          </div>\n\n          <div className=\"frequency-and-waveform\">\n\n            {/* Frequency Button and Slider */}\n            <div className=\"frequency-button-div\">\n              <IonButton class=\"frequency-button\" mode=\"ios\" color=\"light\" onClick={() => setShowFrequencyPopover({ showPopover: true, frequency: frequency })} data-testid=\"frequency-button\">\n                Frequency: {Math.round(frequency)} Hz\n              </IonButton>\n            </div>\n\n            <div>\n              <IonRange class=\"range-frequency\" mode=\"ios\" value={Math.log(frequency - 19)} min={0} max={Math.log(20000 - 19)} step={.0000000001} onIonChange={e => logarithmic(e.detail.value as any)} data-testid=\"frequency-range\"/>\n            </div>\n\n            {/* Waveform Buttons */}\n            <div className=\"waveform-buttons\">\n              <IonButton class=\"waveform-button\" color={waveform === \"sine\" ? \"primary\" : \"light\"} onClick={() => { setWaveform(\"sine\") }} mode=\"ios\" data-testid=\"sine-button\">\n                <IonIcon class=\"waveform-icon-1\" slot=\"icon-only\" src={process.env.PUBLIC_URL + \"/assets/icon/sine-wave2.svg\"} /></IonButton>\n              <IonButton class=\"waveform-button\" color={waveform === \"triangle\" ? \"primary\" : \"light\"} onClick={() => { setWaveform(\"triangle\") }} mode=\"ios\" data-testid=\"triangle-button\">\n                <IonIcon class=\"waveform-icon-1\" slot=\"icon-only\" src={process.env.PUBLIC_URL + \"/assets/icon/triangle-wave2.svg\"} /></IonButton>\n              <IonButton class=\"waveform-button\" color={waveform === \"square\" ? \"primary\" : \"light\"} onClick={() => { setWaveform(\"square\") }} mode=\"ios\" data-testid=\"square-button\">\n                <IonIcon class=\"waveform-icon-2\" slot=\"icon-only\" src={process.env.PUBLIC_URL + \"/assets/icon/square-wave2.svg\"} /></IonButton>\n              <IonButton class=\"waveform-button\" color={waveform === \"sawtooth\" ? \"primary\" : \"light\"} onClick={() => { setWaveform(\"sawtooth\") }} mode=\"ios\" data-testid=\"sawtooth-button\">\n                <IonIcon class=\"waveform-icon-2\" slot=\"icon-only\" src={process.env.PUBLIC_URL + \"/assets/icon/sawtooth-wave2.svg\"} /></IonButton>\n            </div>\n          </div>\n\n          {/* Channel 2 Editing Button */}\n          <div className=\"channel-div\">\n            <IonButton class=\"edit-button-R\" mode=\"ios\" onClick={() => { setCurrChannel(1) }} color={currChannel === 1 ? \"primary\" : \"light\"} data-testid=\"right-edit\">\n              <div className=\"edit-button-contents\">\n                CH2 <br /> \n                FQ: {Math.round(chTwoFrequency)} Hz <br /> \n                AMP: {chTwoAmplitude}% <br /> \n                PH: {chTwoPhase}°\n                <img className=\"edit-img\" src={process.env.PUBLIC_URL + `/assets/${chTwoWaveform}-wave.png`} alt=\"\" />\n              </div>\n            </IonButton>\n          </div>\n\n        </div>\n\n        {/* Amplitude, Start/Stop Buttons, Phase */}\n        <div className=\"amplitude-start-phase\">\n\n          {/* Amplitude Button and Slider */}\n          <div className=\"amplitude-components\">\n            <IonButton class=\"amplitude-button\" mode=\"ios\" color=\"light\" onClick={() => setShowAmplitudePopover({ showPopover: true, amplitude: amplitude })} data-testid=\"amplitude-button\">\n              Amplitude: {amplitude}%\n            </IonButton>\n            <IonRange class=\"range-amplitude\" mode=\"ios\" value={amplitude} min={0} max={100} step={1} onIonChange={e => setAmplitude(e.detail.value as any)} data-testid=\"amplitude-range\"/>\n          </div>\n\n          {/* Play/Pause Buttons */}\n          <div className=\"start-buttons\">\n            {/* CH1 Play/Pause Button */}\n            <IonButton class=\"hold-button\" mode=\"ios\" onClick={() => { toggleChOneOutputting() }} color={chOneOutputting ? \"primary\" : \"light\"} data-testid=\"left-play\">\n              <div className=\"edit-button-contents\">\n                CH1\n                <img className=\"play-pause-img\" src={process.env.PUBLIC_URL + (chOneOutputting ? \"/assets/pause.png\" : \"/assets/play.png\")} alt=\"\" ></img>\n              </div>\n            </IonButton>\n\n            {/* CH2 Play/Pause Button */}\n            <IonButton class=\"hold-button\" mode=\"ios\" onClick={() => { toggleChTwoOutputting() }} color={chTwoOutputting ? \"primary\" : \"light\"} data-testid=\"right-play\">\n              <div className=\"edit-button-contents\">\n                CH2\n                <img className=\"play-pause-img\" src={process.env.PUBLIC_URL + (chTwoOutputting ? \"/assets/pause.png\" : \"/assets/play.png\")} alt=\"\" ></img>\n              </div>\n            </IonButton>\n          </div>\n\n          {/* Phase Button and Slider */}\n          <div className=\"phase-components\">\n            <IonButton class=\"phase-button\" mode=\"ios\" color=\"light\" onClick={() => setShowPhasePopover({ showPopover: true, phase: phase })} data-testid=\"phase-button\">\n              Phase: {phase}°\n            </IonButton>\n            <IonRange class=\"range-phase\" mode=\"ios\" value={phase} min={0} max={360} step={1} onIonChange={e => setPhase(e.detail.value as any)} data-testid=\"phase-range\"/>\n          </div>\n\n        </div>\n\n\n        {/* Frequency Popover */}\n        <IonPopover\n          isOpen={frequencyPopoverState.showPopover}\n          cssClass={isPlatform(\"ios\") || isPlatform(\"android\") ? \"input-popover\" : \"input-popover-web\"}\n          mode=\"ios\"\n          showBackdrop={true}\n          onDidPresent={() => frequencyInputFocus()}\n          onDidDismiss={() => setShowFrequencyPopover({ showPopover: false, frequency: frequency })} data-testid=\"frequency-popup\">\n          <div className=\"popover-content\">\n            <IonInput ref={inputFrequency} class=\"input-popover-text\" type=\"number\" inputmode=\"numeric\" placeholder={minFrequency +\" to \" + maxFrequency + \" Hz\"}\n              onIonChange={e => setShowFrequencyPopover((state) => { return { ...state, frequency: parseInt(e.detail.value!, 10) } })}\n              onKeyUp={e => keyUpHandler(e, \"frequency\")}\n            ></IonInput>\n            <IonButton\n              onClick={(e: any) => popoverFrequencySet()} data-testid=\"frequency-confirm\">\n              CONFIRM\n            </IonButton>\n          </div>\n        </IonPopover>\n\n        {/* Amplitude Popover */}\n        <IonPopover\n          isOpen={amplitudePopoverState.showPopover}\n          cssClass={isPlatform(\"ios\") || isPlatform(\"android\") ? \"input-popover\" : \"input-popover-web\"}\n          mode=\"ios\"\n          showBackdrop={true}\n          onDidPresent={() => amplitudeInputFocus()}\n          onDidDismiss={() => setShowAmplitudePopover({ showPopover: false, amplitude: frequency })} data-testid=\"amplitude-popup\">\n          <div className=\"popover-content\">\n            <IonInput ref={inputAmplitude} class=\"input-popover-text\" type=\"number\" inputmode=\"numeric\" placeholder=\"0 to 100\"\n              onIonChange={e => setShowAmplitudePopover((state) => { return { ...state, amplitude: parseInt(e.detail.value!, 10) } })}\n              onKeyUp={e => keyUpHandler(e, \"amplitude\")}\n            ></IonInput>\n            <IonButton onClick={(e: any) => popoverAmplitudeSet()} data-testid=\"amplitude-confirm\">\n              CONFIRM\n            </IonButton>\n          </div>\n        </IonPopover>\n\n        {/* Phase Popover */}\n        <IonPopover\n          isOpen={phasePopoverState.showPopover}\n          cssClass={isPlatform(\"ios\") || isPlatform(\"android\") ? \"input-popover\" : \"input-popover-web\"}\n          mode=\"ios\"\n          showBackdrop={true}\n          onDidPresent={() => phaseInputFocus()}\n          onDidDismiss={() => setShowPhasePopover({ showPopover: false, phase: phase })} data-testid=\"phase-popup\">\n          <div className=\"popover-content\">\n            <IonInput ref={inputPhase} class=\"input-popover-text\" type=\"number\" inputmode=\"numeric\" placeholder=\"0° to 360°\"\n              onIonChange={e => setShowPhasePopover((state) => { return { ...state, phase: parseInt(e.detail.value!, 10) } })}\n              onKeyUp={e => keyUpHandler(e, \"phase\")}\n            ></IonInput>\n            <IonButton onClick={() => popoverPhaseSet()} data-testid=\"phase-confirm\">\n              CONFIRM\n            </IonButton>\n          </div>\n        </IonPopover>\n      </IonContent>\n    </IonPage>\n  );\n};\n\nexport default FunctionGenerator;\n\n","/*\nThis file is used to display graph on the left side of the \nscreen on the oscilloscope page. This is done with the use \nof paperJS. All that is done is the lines are place on the \nmax and min points of the graph area, then a loop is ran \nto place the intersecting lines of the graph.\n*/\n\nimport Paper from \"paper\";\n\nconst DrawGraph = (isSpectrumGraph) => {\n  let graphLayer = new Paper.Layer();\n\n  var drawGridLines = function (width, height, boundingRect) {\n    var width_per_rectangle = boundingRect.width / width;\n    var height_per_rectangle = boundingRect.height / height;\n    var hatchLengthFactor = 0.012;\n\n    //set up vertical grid lines\n    for (var i = 0; i <= width; i++) {\n      var xPos = boundingRect.left + i * width_per_rectangle;\n      var topPoint = new Paper.Point(xPos, boundingRect.top);\n      var bottomPoint = new Paper.Point(xPos, boundingRect.bottom);\n      var aLine = new Paper.Path.Line(topPoint, bottomPoint);\n      aLine.strokeColor = \"black\";\n      aLine.strokeWidth = 0.6;\n\n      //vertical center line and hatch marks\n      if (i === 5) {\n        aLine.strokeWidth = 1.5;\n\n        //already have xPos\n        var yPos = boundingRect.top;\n        var oldyPos = yPos;\n        var oldxPos = xPos;\n\n        //create hatch marks for vertical center line\n        for (var hatchMark = 0; hatchMark < 40; hatchMark++) {\n          xPos = oldxPos;\n\n          let yPos = (boundingRect.height * hatchMark) / 40;\n\n          xPos = xPos * (1 - hatchLengthFactor); //make a point to the left of the center line\n          var hatch1 = new Paper.Point(xPos, yPos);\n          xPos = xPos * (1 + 2 * hatchLengthFactor); //make a point to the right of the center line\n          var hatch2 = new Paper.Point(xPos, yPos);\n          var connect = new Paper.Path.Line(hatch1, hatch2);\n          connect.strokeColor = \"black\";\n          connect.strokeWidth = 0.8;\n        }\n      }\n      //set bold lines\n      if (i === 0 || i === width) {\n        aLine.strokeWidth = 1.5;\n      }\n    }\n\n    //set up horizontal grid lines\n    var horizontalCenterLine = isSpectrumGraph ? (height / 4) : height / 2;\n    for (i = 0; i <= height; i++) {\n      yPos = boundingRect.top + i * height_per_rectangle;\n      var leftPoint = new Paper.Point(boundingRect.left, yPos);\n      var rightPoint = new Paper.Point(boundingRect.right, yPos);\n      aLine = new Paper.Path.Line(leftPoint, rightPoint);\n      aLine.strokeColor = \"black\";\n      aLine.strokeWidth = 0.6;\n\n      //horizontal center line\n      if (i === horizontalCenterLine) {\n        aLine.strokeWidth = 1.5;\n\n        //create increments to space out hatch marks evenly\n        var incx = boundingRect.width / 40;\n\n        //already have yPos\n        xPos = boundingRect.left;\n        oldyPos = yPos;\n        oldxPos = xPos;\n        \n        //create hatch marks for horizontal center line\n        for (hatchMark = 1; hatchMark <= 40; hatchMark++) {\n          xPos = oldxPos;\n          yPos = oldyPos;\n\n          xPos = xPos + hatchMark * incx;\n          yPos = yPos * (1 - hatchLengthFactor); //make a point to the left of the center line\n          hatch1 = new Paper.Point(xPos, yPos);\n          yPos = yPos * (1 + 2 * hatchLengthFactor); //make a point to the right of the center line\n          hatch2 = new Paper.Point(xPos, yPos);\n          connect = new Paper.Path.Line(hatch1, hatch2);\n          connect.strokeColor = \"black\";\n          connect.strokeWidth = 0.8;\n        }\n      }\n      //set bold lines\n      if (i === 0 || i === height) {\n        aLine.strokeWidth = 2.5;\n      }\n    }\n  };\n  var numOfWBoxes = 10;\n  var numOfHBoxes = 8;\n  drawGridLines(numOfWBoxes, numOfHBoxes, Paper.view.bounds);\n\n  // Redraw on resize\n  Paper.view.on(\"resize\", function (event) {\n    graphLayer.activate();\n    graphLayer.removeChildren();\n    drawGridLines(numOfWBoxes, numOfHBoxes, Paper.view.bounds);\n  });\n};\n\nexport default DrawGraph;\n","/*\n  About: This file is used to create the triggers for the oscilloscope. This is done\n  with the use of PaperJS. How it all works is there is a hit box is moved, the the \n  trigger (the triangle and the dashed line) will move. Based of the position of \n  triangle is at, this value is then passed to wave.js to be used to move the buffer.\n*/\n\nimport Paper from \"paper\";\n\nconst clamp = (num, min, max) => Math.min(Math.max(num, min), max);\n\nconst HORIZONTAL = 0;\nconst VERTICAL = 1;\n\nclass Trigger {\n  constructor(axis) {\n    let numOfWBoxes = 10;\n    let numOfHBoxes = 8;\n\n    let length = 10;\n\n    this.axis = axis;\n\n    this.basePath = new Paper.Path({\n      segments: [[0, 0], [length, length], [length*2, 0]],\n      fillColor: 'black',\n      selected: false,\n      closed: true,\n      rotation: this.axis === HORIZONTAL ? 0 : -90,\n    });\n\n    this.selecting = false;\n    this.pos = 0.5;\n\n    if(this.axis === HORIZONTAL) {\n      this.basePath.position.x = Paper.view.bounds.width * this.pos;\n      this.basePath.position.y = length/2;\n    } else {\n      this.basePath.position.x = length/2;\n      this.basePath.position.y = Paper.view.bounds.height * (1 - this.pos);\n    }\n  }\n\n  mousedown(event) {\n    const hitOptions = {\n      stroke: true,\n      fill: true,\n      tolerance: 50,\n    }\n    \n    const hitDetected = this.basePath.hitTest(event.point, hitOptions);\n    this.selecting = hitDetected && hitDetected.item;\n  }\n\n  mousedrag(event) {\n    if(this.selecting) {\n      if(this.axis === HORIZONTAL) {\n        this.pos = clamp(event.point.x / Paper.view.bounds.width, 0.01, 0.99);\n        this.basePath.position.x = Paper.view.bounds.width * this.pos;\n      } else {\n        this.pos = 1 - clamp(event.point.y / Paper.view.bounds.height, 0.01, 0.99);\n        this.basePath.position.y = Paper.view.bounds.height * (1 - this.pos);\n      }\n\n      return this.pos;\n    }\n  }\n\n  mouseup(event) {\n    this.selecting = null;\n  }\n\n  resize(event) {\n    if(this.axis === HORIZONTAL) {\n      this.basePath.position.x = Paper.view.bounds.width * this.pos;\n    } else {\n      this.basePath.position.y = Paper.view.bounds.height * (1 - this.pos);\n    }\n  }\n}\n\nconst drawTriggers = (onUpdate) => {\n  let triggerLayer = new Paper.Layer();\n  let timePos = 0.5;\n  let voltPos = 0.5;\n  \n  let timeDiff = timePos - 0.5;\n  let voltDiff = voltPos - 0.5;\n\n  //Create trigger marks for demo\n  let timeTrigger = new Trigger(HORIZONTAL);\n  var voltTrigger = new Trigger(VERTICAL);\n\n  Paper.view.onMouseDown = function (event) {\n    timeTrigger.mousedown(event);\n    voltTrigger.mousedown(event);\n  }\n\n  Paper.view.onMouseDrag = function (event) {\n    timePos = timeTrigger.mousedrag(event) ?? timePos;\n    voltPos = voltTrigger.mousedrag(event) ?? voltPos;\n\n    timeDiff = timePos;\n    voltDiff = 2*voltPos - 1;\n\n    onUpdate(timeDiff, voltDiff);\n  }\n\n  Paper.view.onMouseUp = function (event) {\n    timeTrigger.mouseup(event);\n    voltTrigger.mouseup(event);\n  };\n\n  Paper.view.on('resize', function (event) {\n    triggerLayer.activate();\n\n    timeTrigger.resize(event);\n    voltTrigger.resize(event);\n  });\n}\n\nexport default drawTriggers;\n\n","/*\nThis file is used to display wave on the left side of the \nscreen on the oscilloscope page. This is done with the \nuse of paperJS and AudioContext. We will look for the \naccess to the users microphone, then for each (1/sampleRate) \nseconds we will pull in the current audio value. Theses vales \nare place in a buffer witch are then put on the graph to show \nthe current value of buffer.\n*/\n\nimport Paper from \"paper\";\nimport exportCSV from 'components/exportCSV';\n\nconst mobile = false;\nconst bufferSize = 8192;\nlet sampleRate = 44100;\nlet drawWaveInterval;\nlet dataArray;\n\n//.707 VRMS = -1 to 1 V AC\n//No resistance (no adapter): 149 Hz\n//With resistance (adapter): 91 Hz\nconst voltageMultiplierConstant = .5 * .9;\n\n// Use Effects\nlet triggerPoint = null;\nlet triggerFlag = null;\nlet saveFlag = false;\nlet drawingWave = false;\nlet voltageDiv = .5;\nlet timeDiv = 1;\nlet timeDiff = 0.5;\nlet voltDiff = 0;\nlet autoset = false;\nlet frequency = 0;\nexport const setOscopeDrawWave = (val) => drawingWave = val;\nexport const setVoltageDiv = (val) => voltageDiv = val;\nexport const setTimeDiv = (val) => timeDiv = val;\nexport const setTriggers = (val1, val2) => { timeDiff = val1; voltDiff = val2; }\nexport const setOscopeAutoset = (val) => autoset = val;\nexport const setTriggerFlag = (val) => triggerFlag = val;\nexport const setOscopeSaveFlag = (val) => saveFlag = val;\n\n\nexport const drawOscopeWave = (frequencyChangeCallback, autosetFinishCallback, timeDivChangeCallback, voltDivChangeCallback, saveFinishCallback) => {\n  clearOldWave(drawWaveInterval);\n\n  // Input buffer\n  dataArray = new Float32Array(bufferSize);\n  let bufferIdx = 0;\n\n  // Runs one time\n  if (window.audioinput) {\n    getMicPermission();\n    // Mobile Only\n    window.addEventListener(\"audioinput\", (evt) => {\n      if(drawingWave) {\n        bufferIdx = 0;\n        dataArray = evt.data;\n        findTrigger();\n        findFrequency(frequencyChangeCallback);\n      }\n    });\n  } else {\n    var constraints = { audio: {autoGainControl: false, echoCancellation: false,  noiseSuppression: false}};\n    navigator.mediaDevices.getUserMedia(constraints)\n    .then(function(mediaStream) {\n      let ctx = new AudioContext({sampleRate: 44100});\n      sampleRate = ctx.sampleRate;\n      let mic = ctx.createMediaStreamSource(mediaStream);\n      let spe = ctx.createAnalyser();\n      spe.fftSize = bufferSize;\n      mic.connect(spe);\n\n      let osc = ctx.createOscillator();\n      osc.type = 'sine';\n      osc.frequency.value = 440;\n\n      drawWaveInterval = setInterval(() => {\n        // Skip if not drawing\n        if(drawingWave) {\n          bufferIdx = 0;\n          spe.getFloatTimeDomainData(dataArray);\n          findTrigger();\n          findFrequency(frequencyChangeCallback);\n        }\n      }, 20);\n    })\n    .catch(function(err) { console.log(err.name + \": \" + err.message); }); // always check for errors at the end.\n  }\n\n  function Wave() {\n    this.amount = 200;\n    this.height = 10;\n    this.offsetX = 0;\n    this.waveSpeed = 3;\n    this.selected = false;\n\n    this._path = new Paper.Path({ fillColor: this.color });\n\n    this.init = function () {\n      this._path.strokeColor = \"#D00100\";\n      this._path.selected = this.selected;\n\n      this._path.segments = [];\n\n      // Cover entire horizontal screen space with points\n      for (let i = 0; i <= this.amount; i++) {\n        let point = new Paper.Point(i / this.amount * Paper.view.size.width,\n          1 / 2 * Paper.view.size.height);\n        this._path.add(point);\n      }\n    }\n\n    this.update = function (_event) {\n      let height = Paper.view.size.height;\n\n      if (autoset) {\n\n        let maxVoltage = findMaxVoltage(dataArray);\n        let tempVoltDiv = Math.min(Math.max(Math.round(.5 * 10 * maxVoltage) / 10, .1), 4.9);\n\n        let tempTimeDiv = 1;\n        let divider = .4536;\n        if (frequency < 440) {\n          let timeDividerConstant = 400;\n          tempTimeDiv = Math.round((timeDividerConstant / frequency)/divider);\n        }\n\n        autoset = false;\n        timeDivChangeCallback(tempTimeDiv);\n        voltDivChangeCallback(tempVoltDiv);\n        autosetFinishCallback();\n      }\n\n      if(saveFlag){\n        exportCSV(dataArray, mobile);\n        saveFlag = false;\n        saveFinishCallback();\n      }\n\n      // Graph every second point of the path to make waves:\n      for (let i = 0; i <= this.amount; i++) {\n        let segment = this._path.segments[i];\n        let startPoint = bufferIdx;\n        let timeOffset = 0;\n        if(triggerPoint != null){\n          startPoint = triggerPoint;\n          timeOffset = -((timeDiff * this.amount * timeDiv) | 0);\n        }\n\n        // Just use latest buffer data for now :)\n        let idx = timeOffset + startPoint + (i * timeDiv);\n        let bufferPoint = dataArray[idx];\n\n        // Flip vertically for rendering\n        bufferPoint = -bufferPoint / voltageDiv * voltageMultiplierConstant;\n\n        // Set the y coordinate of the ith segment point\n        segment.point.y = (bufferPoint + 1) * (height / 2);\n      }\n\n      if(drawingWave) {\n        bufferIdx += this.amount + 1;\n        bufferIdx %= dataArray.length;\n      }\n    }\n  }\n\n  let waveLayer = new Paper.Layer();\n\n  var path1 = new Wave();\n  path1.color = 'blue';\n  path1.height = 10;\n  path1.init();\n\n  Paper.view.on('frame', function (event) {\n    waveLayer.activate();\n    path1.update(event);\n  });\n  \n\n  Paper.view.on('resize', function (event) {\n    waveLayer = new Paper.Layer();\n    waveLayer.activate();\n    path1.init();\n  });\n};\n\n// -------------------------------------------- Helper Functions ----------------------------------------------------\n\nexport function findMaxVoltage (array) {\n  let maxPoint = .01;\n  for(let i = 0; i < array.length; i++){\n    let point = Math.abs(array[i]);\n    if (point > maxPoint) {\n      maxPoint = point;\n    }\n  }\n  return maxPoint;\n}\n\nfunction findTrigger () {\n  triggerPoint = null;\n  for(let i = Math.floor(dataArray.length/2); i < dataArray.length-1; i++){\n    let point1 = dataArray[i];\n    let point2 = dataArray[i+1];\n    //Rising Edge\n    if(triggerFlag === true){\n      if(point1 <= (voltDiff*voltageDiv)/voltageMultiplierConstant){\n        if(point2 > (voltDiff*voltageDiv)/voltageMultiplierConstant){\n          triggerPoint = i;\n          break;\n        }\n      }\n    } else {\n      //Falling Edge \n      if(point1 >= (voltDiff*voltageDiv)/voltageMultiplierConstant){\n        if(point2 < (voltDiff*voltageDiv)/voltageMultiplierConstant){\n          triggerPoint = i;\n          break;\n        }\n      }\n    }\n  }\n}\n\nfunction findFrequency (frequencyChangeCallback) {\n  let crossCount = 0;\n  let firstIndex = -1;\n  let lastIndex = -1;\n  for(let i = 0; i < dataArray.length - 1; i++){\n    let point1 = dataArray[i];\n    let point2 = dataArray[i+1];\n    if (point1 === 0 || point1 < 0 && point2 > 0 || point1 > 0 && point2 < 0) {\n      if (crossCount === 0) {\n        firstIndex = i;\n      }\n      lastIndex = i;\n      crossCount++;\n    }\n  }\n\n  if (firstIndex === -1) {\n    frequency = 0;\n  } else {\n    frequency = sampleRate * .5 * (crossCount - 1) / (lastIndex - firstIndex);\n  }\n\n  frequencyChangeCallback(Math.round(frequency));\n}\n\nexport function getMicPermission() {\n  window.audioinput.checkMicrophonePermission(function (hasPermission) { \n    if (hasPermission) {\n      window.audioinput.start({\n        streamToWebAudio: false, bufferSize: bufferSize\n      });\n    } else {\n      window.audioinput.getMicrophonePermission(function (hasPermission, message) {\n        if (hasPermission) {\n          window.audioinput.start({\n            streamToWebAudio: false, bufferSize: bufferSize\n          });\n        } else {\n          console.log(\"Failed to obtain capture permission\");\n        }\n      });\n    }\n  });\n}\n\nexport function clearOldWave(drawWaveInterval) {\n  if (typeof drawWaveInterval !== \"undefined\") {\n    clearInterval(drawWaveInterval);\n  }\n}","/*\nThis file is used for exporting a .csv file from the oscilloscope\non mobile and browser. The exportCSV function takes in the buffer \nand places into a csv. For browser and Android will place the file \nin your downloads folder, and for iOS, the share file screen witch \nwill allow the users to select where they want to place the file.\n*/\n\nimport { isPlatform } from \"@ionic/core\";\n\nconst exportCSV = function (waveValues) {\n  //define the heading for each row of the data  \n  var csv = 'Point,Value\\n';\n\n  //merge the data with CSV  \n  for (let row = 0; row < waveValues.length; row++) {\n    csv += row + \",\" + waveValues[row];\n    csv += \"\\n\";\n  }\n\n\n  //display the created CSV data on the web browser   \n  const csvBlob = new Blob([csv], { type: \"text/csv\" });\n  const blobUrl = URL.createObjectURL(csvBlob);\n  const anchorElement = document.createElement(\"a\");\n\n  anchorElement.href = blobUrl;\n\n  var today = new Date();\n  var date = today.getFullYear() + '-' + (today.getMonth() + 1) + '-' + today.getDate();\n  var time = today.getHours() + \"_\" + today.getMinutes() + \"_\" + today.getSeconds();\n\n\n  var title = \"export data - \" + date + \" at \" + time + \".csv\";\n\n  const file = new File([csvBlob], \"export.csv\", { type: \"text/csv\" });\n\n  const shareData = {\n    // This doesnt work for some reason due to a TypeError. Maybe find an example that works\n    // files: [file],\n    // Hacky workaround below\n    text: csv,\n    title: \"Wave\"\n  };\n\n\n  if (isPlatform(\"android\")) {\n    let targetLoc = 'file:///storage/emulated/0/';\n\n    const failedWarning = function () {\n      alert(\"Save Failed!\");\n    }\n\n    window.resolveLocalFileSystemURL(targetLoc, function success(filesystem) {\n      filesystem.getDirectory('Download', { create: true, exclusive: false }, function (directory) {\n        directory.getFile(title, { create: true, exclusive: false }, function (fileEntry) {\n          fileEntry.createWriter(function (writer) {\n            writer.onwriteend = function () {\n              alert(\"File saved to downloads\");\n            };\n            writer.seek(0);\n            writer.write(csv);\n          }, failedWarning);\n        }, failedWarning);\n      }, failedWarning);\n    }, failedWarning);\n\n\n  } else if (isPlatform(\"ios\")) {\n    const failedWarning = function (error) {\n      if(error && error?.name === \"AbortError\") return;\n      alert('Sharing failed');\n    }\n\n    if (navigator.canShare && navigator.canShare(shareData)) {\n      navigator.share(shareData)\n        .then(() => alert('Share was successful.'))\n        .catch(failedWarning);\n\n    }\n    else {\n      alert(\"Sharing unsupported\");\n    }\n  } else {\n    anchorElement.download = title;\n    anchorElement.click();\n  }\n\n}\nexport default exportCSV;","/*\nThis file is used to display wave on the left side of the \nscreen on the soectrum page. This is done with the \nuse of paperJS and AudioContext. We will look for the \naccess to the users microphone, then for each (1/sampleRate) \nseconds we will pull in the current audio value. Theses vales \nare place in a buffer witch are then put on the graph to show \nthe current value of buffer.\n*/\n\nimport Paper from \"paper\";\nimport exportCSV from 'components/exportCSV';\nimport {clearOldWave, getMicPermission} from 'components/DrawOscopeWave';\nlet fft = require('fft-js').fft;\nlet windowing = require('fft-windowing');\n\nconst mobile = false;\nlet sampleRate = 44100;\nlet drawWaveInterval;\nlet dataArray;\n\n//.707 VRMS = -1 to 1 V AC\n//No resistance (no adapter): 149 Hz\n//With resistance (adapter): 91 Hz\nconst voltageMultiplierConstant = .5 * .9;\n\n// Use Effects\nlet windowType;\nlet center;\nlet autoset;\nlet drawingWave;\nlet decibelsDiv;\nlet freqDiv;\nlet saveFlag;\nlet fftSize;\nexport const setSpectrumDrawWave = (val) => drawingWave = val;\nexport const setDecibelsDiv = (val) => decibelsDiv = val;\nexport const setFreqDiv = (val) => freqDiv = val;\nexport const setSpectrumAutoset = (val) => autoset = val;\nexport const setSpectrumSaveFlag = (val) => saveFlag = val;\nexport const setWindowType = (val) => windowType = val;\nexport const setCenter = (val) => center = val;\nexport const setFFTSize = (val) => fftSize = val;\n\nexport const drawSpectrumWave = (autosetFinishCallback, freqDivChangeCallback, centerChangeCallback, saveFinishCallback) => {\n  clearOldWave(drawWaveInterval);\n\n  // Input buffer\n  dataArray = new Float32Array(fftSize);\n\n  if (window.audioinput) {\n    getMicPermission();\n\n    // Mobile Only\n    window.addEventListener(\"audioinput\", (evt) => {\n      if(drawingWave) {\n        if (fftSize <= 4096) {\n          dataArray = new Float32Array(fftSize);\n        }\n        dataArray = evt.data;\n        dataArray = performFFTSubset(dataArray, fftSize);\n        performFFT(dataArray, windowType);\n      }\n    });\n  } else {\n    var constraints = { audio: {autoGainControl: false, echoCancellation: false,  noiseSuppression: false}};\n    navigator.mediaDevices.getUserMedia(constraints)\n    .then(function(mediaStream) {\n      let ctx = new AudioContext({sampleRate: 44100});\n      sampleRate = ctx.sampleRate;\n      let mic = ctx.createMediaStreamSource(mediaStream);\n      let spe = ctx.createAnalyser();\n      spe.fftSize = fftSize;\n      mic.connect(spe);\n\n      let osc = ctx.createOscillator();\n      osc.type = 'sine';\n      osc.frequency.value = 440;\n\n      drawWaveInterval = setInterval(() => {\n        // Skip if not drawing\n        if(drawingWave) {\n          dataArray = new Float32Array(fftSize);\n          spe.getFloatTimeDomainData(dataArray);\n          performFFT(dataArray, windowType);\n        }\n      }, 20);\n    })\n    .catch(function(err) { console.log(err.name + \": \" + err.message); }); // always check for errors at the end.\n  }\n\n  function Wave() {\n    this.amount = 200;\n    this.height = 10;\n    this.offsetX = 0;\n    this.waveSpeed = 3;\n    this.selected = false;\n\n    this._path = new Paper.Path({ fillColor: this.color });\n\n    this.init = function () {\n      this._path.strokeColor = \"#D00100\";\n      this._path.selected = this.selected;\n\n      this._path.segments = [];\n\n      // Cover entire horizontal screen space with points\n      for (let i = 0; i <= this.amount; i++) {\n        let point = new Paper.Point(i / this.amount * Paper.view.size.width,\n          1 / 2 * Paper.view.size.height);\n        this._path.add(point);\n      }\n    }\n\n    this.update = function (_event) {\n      let height = Paper.view.size.height;\n      let freqPerPoint = sampleRate / fftSize;\n\n      if (autoset) {\n        let maxDecibels = Number.NEGATIVE_INFINITY;\n        let maxDecibelsIdx = Number.NEGATIVE_INFINITY;\n        for (let i = 0; i < dataArray.length; i++) {\n          if (dataArray[i] > maxDecibels) {\n            maxDecibels = dataArray[i]\n            maxDecibelsIdx = i;\n          }\n        }\n        let newCenterFrequency = maxDecibelsIdx * freqPerPoint;\n        autoset = false;\n        centerChangeCallback(newCenterFrequency);\n        autosetFinishCallback();\n      }\n\n      if (saveFlag) {\n        exportCSV(dataArray, mobile);\n        saveFlag = false;\n        saveFinishCallback();\n      }\n\n      // Graph 200 points around the center frequency\n      let centerIdx = Math.floor(center / freqPerPoint);\n      let leftIdx = centerIdx - (100 * freqDiv);\n\n      // Get heights of canvas elements\n      const divHeight = height / 8;\n      const zeroHeight = height / 4;\n\n      for (let i = 0; i <= this.amount; i++) {\n        let bufferPoint = dataArray[freqDiv * i + leftIdx]; // freqDiv is a number between [1-20]\n        \n        // Flip sign of bufferPoint because more positive numbers show up lower on the canvas\n        bufferPoint = bufferPoint * -1;\n        bufferPoint /= decibelsDiv; \n\n        // Set the y coordinate of the ith segment point\n        let segment = this._path.segments[i];\n        segment.point.y = zeroHeight + (divHeight * bufferPoint);\n      }\n    }\n  }\n\n  let waveLayer = new Paper.Layer();\n\n  var path1 = new Wave();\n  path1.color = 'blue';\n  path1.height = 10;\n  path1.init();\n\n  Paper.view.on('frame', function (event) {\n    waveLayer.activate();\n    path1.update(event);\n  });\n  \n  Paper.view.on('resize', function (event) {\n    waveLayer = new Paper.Layer();\n    waveLayer.activate();\n    path1.init();\n  });\n};\n\n\n// -------------------------------------------- Helper Functions ----------------------------------------------------\n\nfunction performFFT (array, window) {\n  if (window === \"Hanning\") {\n    array = windowing.hann(array);\n  } else if (window === \"Gaussian\") {\n    array = windowing.gaussian(array);\n  } else if (window === \"Hamming\") {\n    array = windowing.hamming(array);\n  } else if (window === \"Kaiser\") {\n    array = windowing.kaiser(array);\n  } else if (window === \"Flat Top\") {\n    array = windowing.flat_top(array);\n  }\n  let response = fft(array);\n  // Populates array with the magnitude of the FFT result\n  let k = 1;\n  let n = array.length;\n  for (let i = 0; i < n; i++) {\n    let magnitude = Math.sqrt( Math.pow(response[i][0], 2) + Math.pow(response[i][1], 2) );\n    array[i] = 20 * Math.log10( Math.abs((k/n) * magnitude) ); \n    k = Math.sqrt(2)\n  }\n}\n\nfunction performFFTSubset (fullArray, newSize) {\n  let subsetArray = new Float32Array(newSize);\n  let fullSize = fullArray.length;\n  let iIncrement = Math.ceil(fullSize/newSize);\n  let i = 0;\n  let j = 0;\n  while (i < fullSize) {\n    subsetArray[j] = fullArray[i];\n    j++;\n    i += iIncrement;\n  }\n  // Mobile Only. Dataset only contains 4095 values. Add one more from the fullArray.\n  if (fullSize === 4095) {\n    subsetArray[newSize - 1] = fullArray[fullSize - 1];\n  }\n  return subsetArray;\n}\n","import React, { useRef, useEffect } from 'react';\nimport Paper from 'paper';\nimport drawGraph from 'components/DrawGraph';\nimport drawTriggers from 'components/triggers';\nimport drawCursors, {setCursorFlag} from 'components/cursors';\nimport { drawSpectrumWave, setWindowType, setCenter, setSpectrumDrawWave, setDecibelsDiv, setFreqDiv, setSpectrumAutoset, setSpectrumSaveFlag, setFFTSize } from './DrawSpectrumWave';\nimport { drawOscopeWave, setTriggers, setTriggerFlag, setOscopeDrawWave, setVoltageDiv, setTimeDiv, setOscopeAutoset, setOscopeSaveFlag } from './DrawOscopeWave';\nimport { isPlatform } from '@ionic/react';\n\n/* global */\n\nconst Canvas = props => {\n  \n  const canvasRef = useRef(null);\n  const renderFrame = useRef(null);\n  const isSpectrumGraph = props.className === 'spectrum-graph';\n\n  const animate = () => {\n    if(canvasRef.current !== null && canvasRef.current.clientWidth !== 0) {\n      const canvas = canvasRef.current;\n      Paper.setup(canvas);\n\n      drawGraph(isSpectrumGraph);\n      if (!isSpectrumGraph) {\n        drawTriggers((val1, val2) => setTriggers(val1, val2));\n        drawOscopeWave(\n          props.frequencyChangeCallback, \n          props.autosetFinishCallback, \n          props.XAxisDivChangeCallback, \n          props.voltageDivChangeCallback, \n          props.saveFinishCallback\n        );\n      } else {\n        drawSpectrumWave( \n          props.autosetFinishCallback, \n          props.XAxisDivChangeCallback,\n          props.centerChangeCallback, \n          props.saveFinishCallback\n        );\n      }\n      drawCursors(props.cursorChangeCallback);\n\n      Paper.view.draw();\n    } else {\n      renderFrame.current = requestAnimationFrame(animate);\n    }\n  };\n\n  useEffect(() => {\n    renderFrame.current = requestAnimationFrame(animate);\n\n    return () => {\n      cancelAnimationFrame(renderFrame.current);\n    };\n  }, []);\n\n  useEffect(() => {\n    // If we have a view, fix the scaling on fullscreen toggle\n    if(Paper.view) {\n      Paper.view.viewSize = isPlatform(\"ios\") || isPlatform(\"android\") ? new Paper.Size(canvasRef.current.clientWidth, canvasRef.current.clientHeight) : \n                                                                         new Paper.Size(canvasRef.current.clientWidth*2, canvasRef.current.clientHeight*2);\n      Paper.view.emit('resize', {});\n    }\n  }, [props.isFullscreen]);\n\n  // Shared\n  useEffect(() => {\n    setOscopeDrawWave(props.playPauseFlag);\n    setSpectrumDrawWave(props.playPauseFlag);\n  }, [props.playPauseFlag]);\n\n  useEffect(() => {\n    setOscopeAutoset(props.autoset);\n    setSpectrumAutoset(props.autoset);\n  }, [props.autoset]);\n\n  useEffect(() => {\n    setTriggerFlag(props.triggerFlag);\n  }, [props.triggerFlag]);\n\n  useEffect(() => {\n    setCursorFlag(props.cursorFlag);\n  }, [props.cursorFlag]);\n\n  useEffect(() => {\n    setOscopeSaveFlag(props.saveFlag);\n    setSpectrumSaveFlag(props.saveFlag);\n  }, [props.saveFlag]);\n\n  // Oscope\n  useEffect(() => {\n    setVoltageDiv(props.voltageDiv);\n  }, [props.voltageDiv]);\n\n  useEffect(() => {\n    setTimeDiv(props.timeDiv);\n  }, [props.timeDiv]);\n\n  // Spectrum Analyzer\n  useEffect(() => {\n    setDecibelsDiv(props.decibelsDiv);\n  }, [props.decibelsDiv]);\n\n  useEffect(() => {\n    setFreqDiv(props.freqDiv);\n  }, [props.freqDiv]);\n\n  useEffect(() => {\n    setWindowType(props.windowType);\n  }, [props.windowType]);\n\n  useEffect(() => {\n    setCenter(props.center);\n  }, [props.center]);\n\n  useEffect(() => {\n    setFFTSize(props.fftSize);\n  }, [props.fftSize]);\n  \n  return <canvas ref={canvasRef} className={props.className} resize=\"true\" id=\"canvas\" />\n}\n\nexport default Canvas;\n","import React, {useState} from 'react';\nimport { isPlatform, IonButtons, IonContent, IonHeader, IonMenuButton, IonPage, IonTitle, IonToolbar,\n  IonButton, IonPopover } from '@ionic/react';\nimport './OScope.css';\nimport Canvas from 'components/Canvas';\nimport WakeLock from 'components/WakeLock';\n\nconst OScope: React.FC = () => {\n  const name = \"Oscilloscope\";\n  const timeUnitDiv = 453.6;\n  const voltUnitDiv = .1;\n  const maxVolt = 5;\n  const minVolt = 0.1;\n  const [flag, setFlag] = useState(true);\n\n  const [fullscreenFlag, setFullscreenFlag] = useState(true);\n  const [displayFlag, setDisplayFlag] = useState(true);\n  const [voltageStart, setVoltageStart] = useState(.5);\n  const [timeStart, setTimeStart] = useState(1);\n  const [frequency, setFrequency] = useState(440);\n  const [triggerFlag, setTriggerFlag] = useState(true);\n  const [cursorFlag, setCursorFlag] = useState(false);\n  const [autoset, setAutoset] = useState(false);\n  const [timeDiff, setTimeDiff] = useState(0);\n  const [voltDiff, setVoltDiff] = useState(0);\n  const [saveFlag, setSaveFlag] = useState(false);\n  \n  function changeFrequency(frequency : number){\n    setFrequency(frequency);\n  }\n\n\n  function changeCursorDiff(timeDiff: number, voltDiff: number){\n    setTimeDiff(timeDiff);\n    setVoltDiff(voltDiff);\n  }\n\n  function changeVoltageInc(){\n    if((voltageStart+voltUnitDiv) <= maxVolt){\n      setVoltageStart(Math.round((voltageStart+voltUnitDiv)*10)/10)\n    }\n  }\n  function changeVoltageDec(){\n    if((voltageStart-voltUnitDiv) >= minVolt){\n      setVoltageStart(Math.round((voltageStart-voltUnitDiv)*10)/10)\n    }\n  }\n\n  function changeVoltageDiv(voltageDiv : number) {\n    setVoltageStart(voltageDiv)\n  }\n\n  function changeTimeInc(){\n    if(timeStart !== 80){\n      setTimeStart((prev) => prev+1)\n    }\n  }\n  function changeTimeDec(){\n    if(timeStart !== 1){\n      setTimeStart((prev) => prev-1)\n    }\n  }\n\n  function changeTimeDiv(timeDiv : number) {\n    setTimeStart(timeDiv)\n  }\n\n  function changeFlag(){\n    setFlag(!flag);\n  }\n\n  function changeDisplayFlag(){\n    setDisplayFlag(!displayFlag);\n  }\n\n  function changeFullscreenFlag(){\n    setFullscreenFlag(!fullscreenFlag);\n  }\n\n  function changeCursorFlag(){\n    setCursorFlag(!cursorFlag)\n  }\n\n  function toggleSaveButton() {\n    // Don't allow toggling off via button.\n    setSaveFlag(true);\n  }\n\n  function saveFinish() {\n    setSaveFlag(false);\n  }\n\n  const [triggerMenuPopoverState, setShowTriggerMenuPopover] = useState({ showPopover: false });\n\n  function toggleAutosetButton() {\n    // Don't allow toggling off via button.\n    setAutoset(true);\n  }\n\n  function autosetFinish() {\n    setAutoset(false);\n  }\n  \n  function popoverTriggerMenuSet(value: number) {\n    setShowTriggerMenuPopover({ showPopover: false });\n    if(value === 0 ){\n      setTriggerFlag(true);\n    }else if(value === 1) {\n      setTriggerFlag(false);\n    }\n  }\n\n  function calculateTime(){\n    return (timeStart*.4536*10*timeDiff).toFixed(4)\n  }\n  function calculateVoltage(){\n     return (voltageStart*8*voltDiff).toFixed(1)\n  }\n  function calculateTimeDivision(){\n     return (timeStart*.4536).toFixed(4)\n  }\n  function calculateVoltageDivison(){\n    return voltageStart.toFixed(1)\n  }\n  return (\n    <IonPage>\n      <IonHeader className={fullscreenFlag ? \"header\" : \"header-full\"}>\n        {/* Button for disabling fullscreen */}\n        <IonButton className={fullscreenFlag ? \"flscrn-button-graph-small\" : \"flscrn-button-hidden\"} mode=\"ios\" fill=\"clear\" onClick = {() => changeFullscreenFlag()}>\n          <img className=\"fullscreen-img\" src={process.env.PUBLIC_URL + \"/assets/fullscreenwhite.png\"} alt=\"\"></img>\n        </IonButton>\n        <IonToolbar mode=\"ios\" color=\"primary\">\n          <IonButtons slot=\"start\">\n            <IonMenuButton />\n          </IonButtons>\n          {/* <IonImg slot=\"end\" class={isPlatform(\"ios\") ? \"logo-ios\" : \"logo-md\"} src=\"assets/Husker_Scope_Logo_circle.png\"></IonImg> */}\n          <IonTitle> <b style={{fontWeight: \"bolder\"}}>Husker Scope</b>{\": \" + name}</IonTitle>\n        </IonToolbar>\n      </IonHeader>\n\n      <IonContent fullscreen scrollY={false} color=\"secondary\">\n      <div className=\"full-screen\">\n\n        {/* The button for enabling fullscreen */}\n        <IonButton className={fullscreenFlag ? \"flscrn-button-hidden\" : \"flscrn-button-graph-full\"} mode=\"ios\" \n                   onClick = {() => changeFullscreenFlag()} fill=\"clear\">\n          <img className=\"fullscreen-img\" src={process.env.PUBLIC_URL + \"/assets/fullscreen2.png\"} alt=\"\"></img>\n        </IonButton>\n\n        {/* Button for toggling display on fullscreen */}\n        <IonButton className={fullscreenFlag ? \"fullscreen-display-button-hidden\" : \"fullscreen-display-button\" } \n                   onClick = {() => changeDisplayFlag()} mode=\"ios\" fill=\"clear\">\n          <img className=\"display-icon\" src={process.env.PUBLIC_URL + \"/assets/displayoff.png\"} alt=\"\"></img>\n        </IonButton>\n\n\n        {/* Display textbox for displaying frequency, Time Division, & Voltage Division */}\n        <label className={isPlatform(\"ios\") || isPlatform(\"android\") ? (displayFlag ? \"display-data-hidden\" : (fullscreenFlag ? \"display-data-hidden\" : \"display-data-full\")) : \n                                                                       (displayFlag ? \"display-data-hidden\" : (fullscreenFlag ? \"display-data-hidden\" : \"display-data-full-web\"))}>\n          <b>Frequency</b>: {frequency}Hz <br />\n          <b> Time Division</b>: {calculateTimeDivision()}ms <br />\n          <b> Voltage Division</b>: {calculateVoltageDivison()}V <br />\n          { cursorFlag ?\n              <>\n                <b> Voltage</b>: {calculateVoltage()}V <br />\n                <b> Time</b>: {calculateTime()}ms <br />\n              </>\n              : null\n          } \n        </label>\n\n        \n\n        {/* Makes it so the screen doesn't turn off when on the oscope page */}\n        <WakeLock enabled={true} />\n\n        {/* The graph element for the oscope */}\n        <div className={isPlatform(\"ios\") || isPlatform(\"android\") ? (fullscreenFlag ? \"oscilloscope-div\" : \"oscilloscope-div-full\") : \n                                                                     (fullscreenFlag ? \"oscilloscope-div-web\" : \"oscilloscope-div-full-web\")}>\n        <Canvas \n          className=\"oscope-graph\"\n          isFullscreen={fullscreenFlag} \n          playPauseFlag = {flag}\n          voltageDiv = {voltageStart}\n          timeDiv = {timeStart}\n          cursorChangeCallback = {changeCursorDiff}\n          frequencyChangeCallback = {changeFrequency}\n          XAxisDivChangeCallback = {changeTimeDiv}\n          voltageDivChangeCallback = {changeVoltageDiv}\n          autoset = {autoset}\n          autosetFinishCallback = {autosetFinish}\n          triggerFlag = {triggerFlag}\n          cursorFlag = {cursorFlag}\n          saveFlag = {saveFlag}\n          saveFinishCallback = {saveFinish}\n        />\n        </div>\n\n        {/* The buttons on the right hand side of the graph */}\n        <div className={isPlatform(\"ios\") || isPlatform(\"android\") ? (fullscreenFlag ? \"side-data-os\" : \"side-data-hidden\") : \n                                                                     (fullscreenFlag ? \"side-data-web\" : \"side-data-hidden\")}>\n          <div className=\"first-row-div-os\"> {/* First row of UI buttons */}\n            <IonButton class=\"utility-buttons-os\" mode=\"ios\" onClick = {() => toggleAutosetButton()} color={autoset ? \"primary\" : \"light\"} data-testid=\"autoset-button\">\n                <div>\n                  Auto\n                </div>\n            </IonButton>\n            <IonButton class=\"voltage-time-division-button-os\" mode=\"ios\" onClick = {() => changeVoltageInc()} color=\"tertiary\" data-testid=\"volt-div-pos-button\">\n              <div>\n                Volt/Div\n                <div>\n                  +{voltUnitDiv}V\n                  </div>\n              </div>\n            </IonButton>\n            <IonButton class=\"utility-buttons-os\" mode=\"ios\"  onClick = {() => changeCursorFlag()} color={cursorFlag ? \"primary\" : \"light\"} data-testid=\"cursor-button\">\n              <div>\n                Cursors\n              </div>\n            </IonButton>\n          </div>\n\n          <div className=\"second-row-div-os\"> {/* Second row of UI buttons */}\n          <IonButton class=\"voltage-time-division-button-os\" mode=\"ios\" onClick = {() => changeTimeDec()} color=\"tertiary\" data-testid=\"time-div-neg-button\">\n              <div>\n                Time/Div\n                <div>\n                  -{timeUnitDiv}us\n                </div>\n              </div>\n            </IonButton>\n            <IonButton id = \"pause-play-button\" class=\"pause-play-button-os\" mode=\"ios\" onClick = {() => changeFlag()} color={flag ? \"primary\" : \"tertiary\"} data-testid=\"pause-play-button\">\n              <div>\n                <img className=\"pause-play-img\" src={process.env.PUBLIC_URL + (flag ? \"/assets/pause.png\" : \"/assets/playwhite.png\")} alt=\"\" ></img>\n                <div>Run/Pause</div>\n              </div>\n            </IonButton>\n            <IonButton class=\"voltage-time-division-button-os\" mode=\"ios\" onClick = {() => changeTimeInc()} color=\"tertiary\" data-testid=\"time-div-pos-button\">\n              <div>\n                Time/Div\n                <div>\n                  +{timeUnitDiv}us\n                </div>\n              </div>\n            </IonButton>\n          </div>\n\n          <div className=\"third-row-div-os\"> {/* Third row of UI buttons */}\n            <IonButton class=\"utility-buttons-os\" mode=\"ios\" onClick = {() => toggleSaveButton()} color={saveFlag ? \"primary\" : \"light\"} data-testid=\"save-button\">\n                <div>\n                  Save\n                </div>\n            </IonButton>\n            <IonButton class=\"voltage-time-division-button-os\" mode=\"ios\" onClick = {() => changeVoltageDec()}  color=\"tertiary\" data-testid=\"volt-div-neg-button\">\n              <div>\n                Volt/Div\n                <div>\n                  -{voltUnitDiv}V\n                </div>\n              </div>\n            </IonButton>\n            <IonButton class=\"utility-buttons-os\" mode=\"ios\" color=\"light\" onClick={() => setShowTriggerMenuPopover({ showPopover: true })} data-testid=\"trigger-button\">\n              <div>\n                Trigger<br />Menu\n              </div>\n            </IonButton>\n          </div>\n          <div className=\"display-div-os\"> {/* Display Div */}\n            <span className=\"helper\" />\n            <label className={isPlatform(\"ios\") || isPlatform(\"android\") ? (fullscreenFlag ? \"display-data-main\" : \"display-data-hidden\") : \n                                                                           (fullscreenFlag ? \"display-data-main-web\" : \"display-data-hidden\")}>\n              <b>Frequency</b>: {frequency}Hz <br />\n              <b> Time Division</b>: {calculateTimeDivision()}ms <br />\n              <b> Voltage Division</b>: {calculateVoltageDivison()}V <br />\n              { cursorFlag ?\n                  <>\n                    <b> Voltage</b>: {calculateVoltage()}V <br />\n                    <b> Time</b>: {calculateTime()}ms <br />\n                  </>\n                  : null\n              } \n            </label>\n          \n          </div>\n        </div>\n      </div>\n        {/* Trigger Menu Popover */}\n        <IonPopover\n          isOpen={triggerMenuPopoverState.showPopover}\n          cssClass={isPlatform(\"ios\") || isPlatform(\"android\") ? \"input-popover2\" : \"input-popover2-web\"}\n          mode=\"ios\"\n          showBackdrop={true}\n          onDidDismiss={() => setShowTriggerMenuPopover({ showPopover: false })} data-testid=\"triggerMenu-popup\">\n          <div className=\"popover-content2\">\n            <IonButton class=\"trigger-popup-button\"\n              onClick={(e: any) => popoverTriggerMenuSet(0)} data-testid=\"Rising-confirm\">\n              Rising\n            </IonButton>\n            <IonButton class=\"trigger-popup-button\"\n              onClick={(e: any) => popoverTriggerMenuSet(1)} data-testid=\"Falling-confirm\">\n              Falling\n            </IonButton>\n            <IonButton class=\"trigger-popup-button\"\n              onClick={(e: any) => popoverTriggerMenuSet(2)} data-testid=\"Auto-confirm\">\n              Single-<br />Trigger\n            </IonButton>\n          </div>\n        </IonPopover>\n      </IonContent>\n    </IonPage>\n  );\n};\n\nexport default OScope;\n","import React, { useState, useContext, useEffect, useCallback, useRef } from 'react';\n\nimport {\n    IonButtons, IonContent, IonHeader, IonMenuButton, IonPage, IonTitle, IonToolbar,\n    IonButton, IonImg, IonPopover, IonInput, IonRange, isPlatform\n} from '@ionic/react';\n\nimport {\n    AppContext, setCarrierFrequencyAction, setMessageFrequencyAction, setAmplitudeAction,\n    setCurrChannelAction, setChannelOutputtingAction,\n    getCarrierFrequency, getMessageFrequency, getAmplitude, getActiveChannel,\n    getTargetChannel, getOutputting, setModulationModeAction, getModulation,\n} from '../State';\n\nimport type { WAVETYPE } from '../State';\n\nimport { FunctionGeneratorAudio } from '../components/FunctionGeneratorAudio';\n\nimport './AMFM.css';\n\nconst AMFM: React.FC = () => {\n\n    const { state, dispatch } = useContext(AppContext);\n\n    // Effect for disabling channels outputting when leaving page\n    useEffect(() => {\n\n        // Cleanup\n        return () => {\n            dispatch(setChannelOutputtingAction(0, false));\n            dispatch(setChannelOutputtingAction(1, false));\n        }\n    }, [dispatch]);\n\n    const name = \"Amplitude Modulation/Frequency Modulation\";\n\n    // Selected channel obj\n    const activeChannel = getActiveChannel(state);\n\n    // Left-right channels\n    const chOne = getTargetChannel(state, 0);\n    const chTwo = getTargetChannel(state, 1);\n\n    // Get and set frequency\n    const frequency = getCarrierFrequency(activeChannel);\n    const setCarrierFrequency = useCallback((freq: number) => {\n        dispatch(setCarrierFrequencyAction(freq));\n    }, [dispatch]);\n\n    // Get both channel frequencies\n    const chOneFrequency = getCarrierFrequency(chOne);\n    const chTwoFrequency = getCarrierFrequency(chTwo);\n\n    // Get and set frequency\n    const messageFrequency = getMessageFrequency(activeChannel);\n    const setMessageFrequency = useCallback((msgFreq: number) => {\n        dispatch(setMessageFrequencyAction(msgFreq));\n    }, [dispatch]);\n\n    // Get both channel frequencies\n    const chOneMessageFrequency = getMessageFrequency(chOne);\n    const chTwoMessageFrequency = getMessageFrequency(chTwo);\n\n    // Get and set amplitude\n    const amplitude = getAmplitude(activeChannel);\n    const setAmplitude = useCallback((amp: number) => {\n        dispatch(setAmplitudeAction(Math.max(0, amp)));\n    }, [dispatch]);\n\n    // Get both channel amplitude\n    const chOneAmplitude = getAmplitude(chOne);\n    const chTwoAmplitude = getAmplitude(chTwo);\n\n    // Get and set current channel\n    const currChannel = state.currChannel;\n    const setCurrChannel = useCallback((channel: 0 | 1) => {\n        dispatch(setCurrChannelAction(channel));\n    }, [dispatch]);\n\n    // Get and set channels outputting\n    const chOneOutputting = getOutputting(chOne);\n    const chTwoOutputting = getOutputting(chTwo);\n\n    const toggleChOneOutputting = useCallback(() => {\n        dispatch(setChannelOutputtingAction(0, !chOneOutputting));\n    }, [chOneOutputting, dispatch]);\n\n    const toggleChTwoOutputting = useCallback(() => {\n        dispatch(setChannelOutputtingAction(1, !chTwoOutputting));\n    }, [chTwoOutputting, dispatch]);\n\n    const chOneModulation = getModulation(chOne);\n    const chTwoModulation = getModulation(chTwo);\n\n    const amChOneModulation = useCallback(() => {\n        dispatch(setModulationModeAction(true))\n    }, [dispatch]);\n\n    const fmChOneModulation = useCallback(() => {\n        dispatch(setModulationModeAction(false))\n    }, [dispatch]);\n\n    const amChTwoModulation = useCallback(() => {\n        dispatch(setModulationModeAction(true))\n    }, [dispatch]);\n\n    const fmChTwoModulation = useCallback(() => {\n        dispatch(setModulationModeAction(false))\n    }, [dispatch]);\n\n    const minFrequency = 549;\n\n    // For showing and hiding popovers  \n    const [frequencyPopoverState, setShowFrequencyPopover] = useState({ showPopover: false, frequency: 440 });\n    const [messageFrequencyPopoverState, setShowMessageFrequencyPopover] = useState({ showPopover: false, messageFrequency: 40 });\n    const [amplitudePopoverState, setShowAmplitudePopover] = useState({ showPopover: false, amplitude: 100 });\n\n    function popoverFrequencySet() {\n        setCarrierFrequency(frequencyPopoverState.frequency);\n        setShowFrequencyPopover({ showPopover: false, frequency: frequency });\n    }\n\n    function popoverMessageFrequencySet() {\n        setMessageFrequency(messageFrequencyPopoverState.messageFrequency);\n        setShowMessageFrequencyPopover({ showPopover: false, messageFrequency: messageFrequency });\n    }\n\n    function popoverAmplitudeSet() {\n        setAmplitude(amplitudePopoverState.amplitude);\n        setShowAmplitudePopover({ showPopover: false, amplitude: amplitude });\n    }\n\n    function keyUpHandler(event: React.KeyboardEvent<HTMLIonInputElement>, popover: string) {\n        if (event.key === \"Enter\") {\n            switch (popover) {\n                case \"cfrequency\": popoverFrequencySet(); break;\n                case \"mfrequency\": popoverMessageFrequencySet(); break;\n                case \"amplitude\": popoverAmplitudeSet(); break;\n            }\n        }\n    }\n\n    const inputFrequency = useRef<HTMLIonInputElement>(null!);\n    const inputMessageFrequency = useRef<HTMLIonInputElement>(null!);\n    const inputAmplitude = useRef<HTMLIonInputElement>(null!);\n\n    function frequencyInputFocus() {\n        inputFrequency.current.setFocus();\n    }\n\n    function messageFrequencyInputFocus() {\n        inputMessageFrequency.current.setFocus();\n    }\n\n    function amplitudeInputFocus() {\n        inputAmplitude.current.setFocus();\n    }\n\n    const chOneValues = { active: chOneOutputting, frequency: chOneFrequency, messageFrequency: chOneMessageFrequency, amplitude: chOneAmplitude / 100, phase: 0, waveform: \"custom\" as WAVETYPE, modulation: chOneModulation}\n    const chTwoValues = { active: chTwoOutputting, frequency: chTwoFrequency, messageFrequency: chTwoMessageFrequency, amplitude: chTwoAmplitude / 100, phase: 0, waveform: \"custom\" as WAVETYPE, modulation: chTwoModulation}\n\n    return (\n        <IonPage>\n            <IonHeader>\n                <IonToolbar mode=\"ios\" color=\"primary\">\n                    <IonButtons slot=\"start\">\n                        <IonMenuButton />\n                    </IonButtons>\n                    <IonTitle><b style={{fontWeight: \"bolder\"}}>Husker Scope</b>{\": \" + name}</IonTitle>\n                    <IonImg slot=\"end\" class=\"logo\" src={process.env.PUBLIC_URL + \"/assets/Husker_Scope_Logo_circle.png\"}></IonImg>\n                </IonToolbar>\n            </IonHeader>\n            <IonContent fullscreen scrollY={false} color=\"secondary\">\n                <FunctionGeneratorAudio chOne={chOneValues} chTwo={chTwoValues} />\n                <div className=\"frequency-waveform-channels-AMFM\">\n\n                    {/* Channel 1 Editing Button */}\n                    <div className=\"channel-div-AMFM\">\n                        <IonButton class=\"edit-button-L-AMFM\" mode=\"ios\" onClick={() => { setCurrChannel(0) }} color={currChannel === 0 ? \"primary\" : \"light\"} data-testid=\"left-edit\">\n                            <div className=\"edit-button-contents-AMFM\">\n                                CH1 <br /> \n                                C-FQ: {Math.round(chOneFrequency)} Hz <br /> \n                                M-FQ: {Math.round(chOneMessageFrequency)} Hz<br/> \n                                AMP: {chOneAmplitude}% <br />\n                                MODE: {chOneModulation ? \"AM\" : \"FM\"} <br />\n                            </div>\n                        </IonButton>\n                    </div>\n\n                    <div className=\"frequency-and-waveform-AMFM\">\n\n                        {/* Carrier Frequency Button and Slider */}\n                        <div className=\"frequency-button-div-AMFM\">\n                            <IonButton class=\"frequency-button-AMFM\" mode=\"ios\" color=\"light\" onClick={() => setShowFrequencyPopover({ showPopover: true, frequency: frequency })} data-testid=\"frequency-button\">\n                                Carrier Frequency: {Math.round(frequency)} Hz\n                            </IonButton>\n                        </div>\n\n                        <div>\n                            <IonRange class=\"range-frequency-AMFM\" mode=\"ios\" value={Math.log(frequency - minFrequency)} min={0} max={Math.log(20000 - minFrequency)} step={.0000000001} \n                                onIonChange={e => setCarrierFrequency(Math.exp(e.detail.value as any) + minFrequency)} data-testid=\"frequency-range\" />\n                        </div>\n\n                        {/* Message Frequency Button and Slider */}\n                        <div className=\"message-frequency-button-div-AMFM\">\n                            <IonButton class=\"message-frequency-button-AMFM\" mode=\"ios\" color=\"light\" onClick={() => setShowMessageFrequencyPopover({ showPopover: true, messageFrequency: messageFrequency })} \n                                data-testid=\"message-frequency-button\">\n                                Message Frequency: {Math.round(messageFrequency)} Hz\n                            </IonButton>\n                        </div>\n\n                        <div>\n                            <IonRange class=\"range-message-frequency-AMFM\" mode=\"ios\" value={messageFrequency} min={1} max={frequency / 10} step={.0000000001} \n                                onIonChange={e => setMessageFrequency(e.detail.value as any)} data-testid=\"message-frequency-range\" />\n                        </div>\n                    </div>\n\n                    {/* Channel 2 Editing Button */}\n                    <div className=\"channel-div-AMFM\">\n                        <IonButton class=\"edit-button-R-AMFM\" mode=\"ios\" onClick={() => { setCurrChannel(1) }} color={currChannel === 1 ? \"primary\" : \"light\"} data-testid=\"right-edit\">\n                            <div className=\"edit-button-contents-AMFM\">\n                                CH2 <br /> \n                                C-FQ: {Math.round(chTwoFrequency)} Hz <br /> \n                                M-FQ: {Math.round(chTwoMessageFrequency)} Hz<br/> \n                                AMP: {chTwoAmplitude}% <br />\n                                MODE: {chTwoModulation ? \"AM\" : \"FM\"} <br />\n                            </div>\n                        </IonButton>\n                    </div>\n\n                </div>\n\n                {/* Amplitude, Start/Stop Buttons, Phase */}\n                <div className=\"amplitude-start-phase-AMFM\">\n\n                    {/* Amplitude Button and Slider */}\n                    <div className=\"amplitude-components2-AMFM\">\n                        <IonButton class=\"amplitude-button-AMFM\" mode=\"ios\" color=\"light\" onClick={() => setShowAmplitudePopover({ showPopover: true, amplitude: amplitude })} data-testid=\"amplitude-button\">\n                            Amplitude: {amplitude}%\n                        </IonButton>\n                        <IonRange class=\"range-amplitude-AMFM\" mode=\"ios\" value={amplitude} min={0} max={100} step={1} onIonChange={e => setAmplitude(e.detail.value as any)} data-testid=\"amplitude-range\" />\n                    </div>\n\n                    {/* Play/Pause Buttons */}\n                    <div className=\"start-buttons-AMFM\">\n                        {/* CH1 Play/Pause Button */}\n                        <IonButton class=\"hold-button-AMFM\" mode=\"ios\" onClick={() => { toggleChOneOutputting() }} color={chOneOutputting ? \"primary\" : \"light\"} data-testid=\"left-play\">\n                            <div className=\"edit-button-contents-AMFM\">\n                                CH1\n                                <img className=\"play-pause-img-AMFM\" src={process.env.PUBLIC_URL + (chOneOutputting ? \"/assets/pause.png\" : \"/assets/play.png\")} alt=\"\" ></img>\n                            </div>\n                        </IonButton>\n\n                        {/* CH2 Play/Pause Button */}\n                        <IonButton class=\"hold-button-AMFM\" mode=\"ios\" onClick={() => { toggleChTwoOutputting() }} color={chTwoOutputting ? \"primary\" : \"light\"} data-testid=\"right-play\">\n                            <div className=\"edit-button-contents-AMFM\">\n                                CH2\n                                <img className=\"play-pause-img-AMFM\" src={process.env.PUBLIC_URL + (chTwoOutputting ? \"/assets/pause.png\" : \"/assets/play.png\")} alt=\"\" ></img>\n                            </div>\n                        </IonButton>\n                    </div>\n\n                    <div className=\"AMFM-toggle-div\">\n                        <IonButton class=\"modulation-button-AMFM\" mode=\"ios\" onClick={() => { currChannel ? amChTwoModulation() : amChOneModulation() }} color={currChannel ? (chTwoModulation ? \"primary\" : \"light\") : (chOneModulation ? \"primary\" : \"light\")} data-testid=\"modulation-button\">\n                            <div className=\"edit-button-contents-AMFM\">\n                                AM\n                            </div>\n                        </IonButton>\n                        <IonButton class=\"modulation-button-AMFM\" mode=\"ios\" onClick={() => { currChannel ? fmChTwoModulation() : fmChOneModulation() }} color={currChannel ? (chTwoModulation ? \"light\" : \"primary\") : (chOneModulation ? \"light\" : \"primary\")} data-testid=\"modulation-button2\">\n                            <div className=\"edit-button-contents-AMFM\">\n                                FM\n                            </div>\n                        </IonButton>\n                    </div>\n                </div>\n\n                {/* Carrier Frequency Popover */}\n                <IonPopover\n                    isOpen={frequencyPopoverState.showPopover}\n                    cssClass={(isPlatform(\"android\") || isPlatform(\"ios\"))? \"input-popover-AMFM\" : \"input-popover-AMFM-web\"}\n                    mode=\"ios\"\n                    showBackdrop={true}\n                    onDidPresent={() => frequencyInputFocus()}\n                    onDidDismiss={() => setShowFrequencyPopover({ showPopover: false, frequency: frequency })} data-testid=\"frequency-popup\">\n                    <div className=\"popover-div-AMFM\">\n                        <IonInput ref={inputFrequency} class=\"input-popover-text-AMFM\" type=\"number\" inputmode=\"numeric\" placeholder=\"550 to 20000 Hz\"\n                            onIonChange={e => setShowFrequencyPopover((state) => { return { ...state, frequency: parseInt(e.detail.value!, 10) } })}\n                            onKeyUp={e => keyUpHandler(e, \"cfrequency\")}\n                        ></IonInput>\n                        <IonButton\n                            onClick={(e: any) => popoverFrequencySet()} data-testid=\"frequency-confirm\">\n                            CONFIRM\n                        </IonButton>\n                    </div>\n                </IonPopover>\n\n                {/* Message Frequency Popover */}\n                <IonPopover\n                    isOpen={messageFrequencyPopoverState.showPopover}\n                    cssClass={(isPlatform(\"android\") || isPlatform(\"ios\"))? \"input-popover-AMFM\" : \"input-popover-AMFM-web\"}\n                    mode=\"ios\"\n                    showBackdrop={true}\n                    onDidPresent={() => messageFrequencyInputFocus()}\n                    onDidDismiss={() => setShowMessageFrequencyPopover({ showPopover: false, messageFrequency: messageFrequency })} data-testid=\"message-frequency-popup\">\n                    <div className=\"popover-div-AMFM\">\n                        <IonInput ref={inputMessageFrequency} class=\"input-popover-text-AMFM\" type=\"number\" inputmode=\"numeric\" placeholder={\"1 to \" + Math.round(frequency / 10) + \" Hz\"}\n                            onIonChange={e => setShowMessageFrequencyPopover((state) => { return { ...state, messageFrequency: parseInt(e.detail.value!, 10) } })}\n                            onKeyUp={e => keyUpHandler(e, \"mfrequency\")}\n                        ></IonInput>\n                        <IonButton\n                            onClick={(e: any) => popoverMessageFrequencySet()} data-testid=\"message-frequency-confirm\">\n                            CONFIRM\n                        </IonButton>\n                    </div>\n                </IonPopover>\n\n                {/* Amplitude Popover */}\n                <IonPopover\n                    isOpen={amplitudePopoverState.showPopover}\n                    cssClass={(isPlatform(\"android\") || isPlatform(\"ios\"))? \"input-popover-AMFM\" : \"input-popover-AMFM-web\"}\n                    mode=\"ios\"\n                    showBackdrop={true}\n                    onDidPresent={() => amplitudeInputFocus()}\n                    onDidDismiss={() => setShowAmplitudePopover({ showPopover: false, amplitude: frequency })} data-testid=\"amplitude-popup\">\n                    <div className=\"popover-div-AMFM\">\n                        <IonInput ref={inputAmplitude} class=\"input-popover-text-AMFM\" type=\"number\" inputmode=\"numeric\" placeholder=\"0 to 100\"\n                            onIonChange={e => setShowAmplitudePopover((state) => { return { ...state, amplitude: parseInt(e.detail.value!, 10) } })}\n                            onKeyUp={e => keyUpHandler(e, \"amplitude\")}\n                        ></IonInput>\n                        <IonButton onClick={(e: any) => popoverAmplitudeSet()} data-testid=\"amplitude-confirm\">\n                            CONFIRM\n                        </IonButton>\n                    </div>\n                </IonPopover>\n            </IonContent>\n        </IonPage>\n    );\n};\n\nexport default AMFM;\n","import React, {useRef, useState} from 'react';\nimport { isPlatform, IonButtons, IonContent, IonHeader, IonMenuButton, IonPage, IonTitle, IonToolbar,\n  IonButton, IonPopover, IonInput } from '@ionic/react';\nimport './SpectrumAnalyzer.css';\nimport Canvas from 'components/Canvas';\nimport WakeLock from 'components/WakeLock';\n\nconst SpectrumAnalyzer: React.FC = () => {\n  const name = \"Spectrum Analyzer\";\n  const POINTS_DIV = 20;\n  const NUM_FREQ_DIVS = 10;\n  const NUM_DECIBEL_DIVS = 8;\n  const SAMPLE_RATE = 44100;\n  const NYQUIST_FREQ = SAMPLE_RATE / 2;\n  const minCenter = 0;\n  const maxCenter = 20000;\n  \n  const [flag, setFlag] = useState(true);\n  const [fullscreenFlag, setFullscreenFlag] = useState(true);\n  const [displayFlag, setDisplayFlag] = useState(true);\n  const [decibelsDiv, setDecibelsDiv] = useState(25.0);\n  const [freqCount, setFreqCount] = useState(1);\n  const [fftSize, setFFTSize] = useState(4096);\n  const [freqDiv, setFreqDiv] = useState(POINTS_DIV * (SAMPLE_RATE / fftSize));\n  const [center, setCenter] = useState(freqDiv * 5);\n  const [windowType, setWindowType] = useState(\"Rectangle\");\n  const [cursorFlag, setCursorFlag] = useState(false);\n  const [autoset, setAutoset] = useState(false);\n  const [freqDiff, setFreqDiff] = useState(0);\n  const [voltDiff, setVoltDiff] = useState(0);\n  const [saveFlag, setSaveFlag] = useState(false);\n  \n\n  function changeCursorDiff(freqDiff: number, voltDiff: number){\n    setFreqDiff(freqDiff);\n    setVoltDiff(voltDiff);\n  }\n\n  function changeCenter(center : number) {\n    setCenter(center);\n  }\n\n  function changeFreqInc(){\n    if(NYQUIST_FREQ > ( freqDiv * freqCount * NUM_FREQ_DIVS) ){\n      setFreqCount((prev) => prev+1)\n    }\n  }\n  \n  function changeFreqDec(){\n    if(freqCount > 1){\n      setFreqCount((prev) => prev-1)\n    }\n  }\n\n  function changeFreqDiv(freqDiv : number) {\n    setFreqCount(freqDiv)\n  }\n\n  function changeFlag(){\n    setFlag(!flag);\n  }\n\n  function changeDisplayFlag(){\n    setDisplayFlag(!displayFlag);\n  }\n\n  function changeFullscreenFlag(){\n    setFullscreenFlag(!fullscreenFlag);\n  }\n\n  function changeCursorFlag(){\n    setCursorFlag(!cursorFlag)\n  }\n\n  function toggleSaveButton() {\n    // Don't allow toggling off via button.\n    setSaveFlag(true);\n  }\n\n  function saveFinish() {\n    setSaveFlag(false);\n  }\n\n  const [fftSizeMenuPopoverState, setShowFFTSizeMenuPopover] = useState({ showPopover: false });\n  const [centerPopoverState, setShowCenterPopover] = useState({ showPopover: false, center: 0 });\n  const [windowPopoverState, setShowWindowPopover] = useState({ showPopover: false, windowType: windowType });\n\n  function popoverCenterSet() {\n    if (minCenter <= centerPopoverState.center && centerPopoverState.center <= maxCenter) {\n      setCenter(centerPopoverState.center);\n      console.log(\"Center has been set to: \" + centerPopoverState.center + \"hz\");\n      setShowCenterPopover({ showPopover: false, center: center });\n    } else {\n      inputCenter.current.value = \"\";\n    }\n  }\n\n  function toggleAutosetButton() {\n    // Don't allow toggling off via button.\n    setAutoset(true);\n  }\n\n  function autosetFinish() {\n    setAutoset(false);\n  }\n  \n  function popoverFFTSizeMenuSet(value: number) {\n    // Number given in this case is the number of datapoints for the FFT (powers of 2).\n    setShowFFTSizeMenuPopover({ showPopover: false });\n    const freqPerPoint = SAMPLE_RATE / value;\n    const freqDiv = POINTS_DIV * freqPerPoint;\n    setFreqDiv(freqDiv);\n    setCenter(freqDiv * (NUM_FREQ_DIVS / 2));\n    setFFTSize(value);\n    console.log(\"FFT Size has been set to: \" + value);\n  }\n\n  function popoverWindowSet(value: string) {\n    // Number given in this case (for now and should be temporary) is a string. Ex: 'rectangle'.\n    setShowWindowPopover({ showPopover: false, windowType: value });\n    setWindowType(value);\n    console.log(\"Window type has been set to: \" + value);\n  }\n\n  // Setting focus of the center popover\n  const inputCenter = useRef<HTMLIonInputElement>(null!);\n  function centerInputFocus() {\n    inputCenter.current.setFocus();\n  }\n\n  function keyUpHandler(event: React.KeyboardEvent<HTMLIonInputElement>, popover: string) {\n    if (event.key === \"Enter\") {\n      switch (popover) {\n        case \"center\": popoverCenterSet(); break;\n      }\n    }\n  }\n\n  function calculateDecibels() {\n    return (decibelsDiv*NUM_DECIBEL_DIVS*voltDiff).toFixed(1)\n  }\n  function calculateFrequency(){\n    return (freqCount*freqDiv*NUM_FREQ_DIVS*freqDiff).toFixed(3)\n  }\n  function calculateFrequencyDivision(){\n    return (freqCount*freqDiv).toFixed(3)\n  }\n  function calculateDecibelsDivision(){\n    return decibelsDiv.toFixed(1)\n  }\n  \n\n  return (\n    <IonPage>\n      <IonHeader className={fullscreenFlag ? \"header\" : \"header-full\"}>\n        {/* Button for disabling fullscreen */}\n        { <IonButton className={fullscreenFlag ? \"flscrn-button-graph-small\" : \"flscrn-button-hidden\"} mode=\"ios\" fill=\"clear\" onClick = {() => changeFullscreenFlag()}>\n          <img className=\"fullscreen-img\" src={process.env.PUBLIC_URL + \"/assets/fullscreenwhite.png\"} alt=\"\"></img>\n        </IonButton> }\n        <IonToolbar mode=\"ios\" color=\"primary\">\n          <IonButtons slot=\"start\">\n            <IonMenuButton />\n          </IonButtons>\n          <IonTitle> <b style={{fontWeight: \"bolder\"}}>Husker Scope</b>{\": \" + name}</IonTitle>\n        </IonToolbar>\n      </IonHeader>\n\n      <IonContent fullscreen scrollY={false} color=\"secondary\">\n      <div className=\"full-screen\">\n\n        {/* The button for enabling fullscreen */}\n        <IonButton className={fullscreenFlag ? \"flscrn-button-hidden\" : \"flscrn-button-graph-full\"} mode=\"ios\" \n                   onClick = {() => changeFullscreenFlag()} fill=\"clear\">\n          <img className=\"fullscreen-img\" src={process.env.PUBLIC_URL + \"/assets/fullscreen2.png\"} alt=\"\"></img>\n        </IonButton>\n\n        {/* Button for toggling display on fullscreen */}\n        <IonButton className={fullscreenFlag ? \"fullscreen-display-button-hidden\" : \"fullscreen-display-button\" } \n                   onClick = {() => changeDisplayFlag()} mode=\"ios\" fill=\"clear\">\n          <img className=\"display-icon\" src={process.env.PUBLIC_URL + \"/assets/displayoff.png\"} alt=\"\"></img>\n        </IonButton>\n\n\n        {/* Display textbox for displaying frequency, Frequency Division, & Voltage Division */}\n        <label className={isPlatform(\"ios\") || isPlatform(\"android\") ? (displayFlag ? \"display-data-hidden\" : (fullscreenFlag ? \"display-data-hidden\" : \"display-data-full\")) : \n                                                                       (displayFlag ? \"display-data-hidden\" : (fullscreenFlag ? \"display-data-hidden\" : \"display-data-full-web\"))}>\n          {/* <b>Frequency</b>: {frequency}Hz <br /> */}\n          <b> Freq Division</b>: {calculateFrequencyDivision()}Hz <br />\n          <b> Decibels Division</b>: {calculateDecibelsDivision()}dB <br />\n          <b> Center</b>: {center.toFixed(3)}Hz <br />\n          <b> Window</b>: {windowType} <br />\n          <b> FFT Size</b>: {fftSize} <br />\n\n          { cursorFlag ?\n              <>\n                <b> Decibels</b>: {calculateDecibels()}dB <br />\n                <b> Frequency</b>: {calculateFrequency()}Hz <br />\n              </>\n              : null\n          } \n        </label>\n\n        {/* Makes it so the screen doesn't turn off when on the oscope page */}\n        <WakeLock enabled={true} />\n\n        {/* The graph element for the spectrum analyzer */}\n        <div className={isPlatform(\"ios\") || isPlatform(\"android\") ? (fullscreenFlag ? \"oscilloscope-div\" : \"oscilloscope-div-full\") : \n                                                                     (fullscreenFlag ? \"oscilloscope-div-web\" : \"oscilloscope-div-full-web\")}>\n        <Canvas \n          className=\"spectrum-graph\"\n          isFullscreen={fullscreenFlag} \n          playPauseFlag = {flag}\n          decibelsDiv = {decibelsDiv}\n          freqDiv = {freqCount}\n          cursorChangeCallback = {changeCursorDiff}\n          XAxisDivChangeCallback = {changeFreqDiv}\n          centerChangeCallback = {changeCenter}\n          fftSize = {fftSize}\n          autoset = {autoset}\n          autosetFinishCallback = {autosetFinish}\n          cursorFlag = {cursorFlag}\n          saveFlag = {saveFlag}\n          saveFinishCallback = {saveFinish}\n          windowType = {windowType}\n          center = {center}\n        />\n        </div>\n\n        {/* The buttons on the right hand side of the graph */}\n        <div className={isPlatform(\"ios\") || isPlatform(\"android\") ? (fullscreenFlag ? \"side-data-sa\" : \"side-data-hidden\") : \n                                                                     (fullscreenFlag ? \"side-data-web\" : \"side-data-hidden\")}>\n          <div className=\"first-row-div-sa\"> {/* First row of UI buttons */}\n            <IonButton class=\"utility-buttons-sa\" mode=\"ios\" onClick = {() => toggleAutosetButton()} color={autoset ? \"primary\" : \"light\"} data-testid=\"autoset-button\">\n                <div>\n                  Auto\n                </div>\n            </IonButton>\n            <IonButton class=\"voltage-time-division-button-sa\" mode=\"ios\" onClick={() => setShowFFTSizeMenuPopover({ showPopover: true })} color=\"tertiary\" data-testid=\"FFT-size-button\">\n              <div>\n                FFT Size\n              </div>\n            </IonButton>\n            <IonButton class=\"utility-buttons-sa\" mode=\"ios\"  onClick = {() => changeCursorFlag()} color={cursorFlag ? \"primary\" : \"light\"} data-testid=\"cursor-button\">\n              <div>\n                Cursors\n              </div>\n            </IonButton>\n          </div>\n\n          <div className=\"second-row-div-sa\"> {/* Second row of UI buttons */}\n          <IonButton class=\"voltage-time-division-button-sa\" mode=\"ios\" onClick = {() => changeFreqDec()} color=\"tertiary\" data-testid=\"time-div-neg-button\">\n              <div>\n                Freq/Div\n                <div>\n                  -{freqDiv.toFixed(3)}Hz\n                </div>\n              </div>\n            </IonButton>\n            <IonButton id = \"pause-play-button-sa\" class=\"pause-play-button-sa\" mode=\"ios\" onClick = {() => changeFlag()} color={flag ? \"primary\" : \"tertiary\"} data-testid=\"pause-play-button-sa\">\n              <div>\n                <img className=\"pause-play-img\" src={process.env.PUBLIC_URL + (flag ? \"/assets/pause.png\" : \"/assets/playwhite.png\")} alt=\"\" ></img>\n                <div>Run/Pause</div>\n              </div>\n            </IonButton>\n            <IonButton class=\"voltage-time-division-button-sa\" mode=\"ios\" onClick = {() => changeFreqInc()} color=\"tertiary\" data-testid=\"time-div-pos-button\">\n              <div>\n                Freq/Div\n                <div>\n                  +{freqDiv.toFixed(3)}Hz\n                </div>\n              </div>\n            </IonButton>\n          </div>\n\n          <div className=\"third-row-div-sa\"> {/* Third row of UI buttons */}\n            <IonButton class=\"utility-buttons-sa\" mode=\"ios\" onClick = {() => toggleSaveButton()} color={saveFlag ? \"primary\" : \"light\"} data-testid=\"save-button\">\n                <div>\n                  Save\n                </div>\n            </IonButton>\n            <IonButton class=\"voltage-time-division-button-sa\" mode=\"ios\" onClick={() => setShowCenterPopover({ showPopover: true, center: center })}  color=\"tertiary\" data-testid=\"center-button\">\n              <div>\n                Center\n              </div>\n            </IonButton>\n            <IonButton class=\"utility-buttons-sa\" mode=\"ios\" onClick={() => setShowWindowPopover({ showPopover: true, windowType: windowType })} color=\"light\" data-testid=\"window-button\">\n              <div>\n                Window\n              </div>\n            </IonButton>\n          </div>\n          <div className=\"display-div\"> {/* Display Div */}\n            <span className=\"helper\" />\n            <label className={isPlatform(\"ios\") || isPlatform(\"android\") ? (fullscreenFlag ? \"display-data-main\" : \"display-data-hidden\") : \n                                                                           (fullscreenFlag ? \"display-data-main-web\" : \"display-data-hidden\")}>\n              <b> Freq Division</b>: {calculateFrequencyDivision()}Hz <br />\n              <b> Decibels Division</b>: {calculateDecibelsDivision()}dB <br />\n              <b> Center</b>: {center.toFixed(3)}Hz <br />\n              <b> Window</b>: {windowType} <br />\n              <b> FFT Size</b>: {fftSize} <br />\n              { cursorFlag ?\n                  <>\n                    <b> Decibels</b>: {calculateDecibels()}dB <br />\n                    <b> Frequency</b>: {calculateFrequency()}Hz <br />\n                  </>\n                  : null\n              } \n            </label>\n          </div>\n        </div>\n      </div>\n\n      {/* Center Popover */}\n      <IonPopover\n          isOpen={centerPopoverState.showPopover}\n          cssClass={isPlatform(\"ios\") || isPlatform(\"android\") ? \"input-popover\" : \"input-popover-web\"}\n          mode=\"ios\"\n          showBackdrop={true}\n          onDidPresent={() => centerInputFocus()}\n          onDidDismiss={() => setShowCenterPopover({ showPopover: false, center: center })} data-testid=\"center-popup\">\n          <div className=\"popover-content\">\n            <IonInput ref={inputCenter} class=\"input-popover-text\" type=\"number\" inputmode=\"numeric\" placeholder={minCenter + \" to \" + maxCenter + \" Hz\"}\n              onIonChange={e => setShowCenterPopover((state) => { return { ...state, center: parseInt(e.detail.value!, 10) } })}\n              onKeyUp={e => keyUpHandler(e, \"center\")}\n            ></IonInput>\n            <IonButton\n              onClick={(e: any) => popoverCenterSet()} data-testid=\"center-confirm\">\n              CONFIRM\n            </IonButton>\n          </div>\n        </IonPopover>\n\n        {/* FFT Size Menu Popover */}\n        <IonPopover\n          isOpen={fftSizeMenuPopoverState.showPopover}\n          cssClass={isPlatform(\"ios\") || isPlatform(\"android\") ? \"input-popover2\" : \"input-popover2-web\"}\n          mode=\"ios\"\n          showBackdrop={true}\n          onDidDismiss={() => setShowFFTSizeMenuPopover({ showPopover: false })} data-testid=\"triggerMenu-popup\">\n          <div><label className=\"CID\">CURRENTLY IN DEVELOPMENT</label></div>\n          <div className=\"popover-content2\" style={{marginBottom: \"0px\"}}>\n            <IonButton class=\"trigger-popup-button\"\n              onClick={(e: any) => popoverFFTSizeMenuSet(128)} data-testid=\"Rising-confirm\">\n              128\n            </IonButton>\n            <IonButton class=\"trigger-popup-button\"\n              onClick={(e: any) => popoverFFTSizeMenuSet(256)} data-testid=\"Falling-confirm\">\n              256\n            </IonButton>\n            <IonButton class=\"trigger-popup-button\"\n              onClick={(e: any) => popoverFFTSizeMenuSet(512)} data-testid=\"Auto-confirm\">\n              512\n            </IonButton>\n          </div>\n          <div className=\"popover-content2\" style={{marginTop: \"0px\"}}>\n            <IonButton class=\"trigger-popup-button\"\n              onClick={(e: any) => popoverFFTSizeMenuSet(1024)} data-testid=\"Auto-confirm\">\n              1024\n            </IonButton>\n            <IonButton class=\"trigger-popup-button\"\n              onClick={(e: any) => popoverFFTSizeMenuSet(2048)} data-testid=\"Auto-confirm\">\n              2048\n            </IonButton>\n            <IonButton class=\"trigger-popup-button\"\n              onClick={(e: any) => popoverFFTSizeMenuSet(4096)} data-testid=\"Auto-confirm\">\n              4096\n            </IonButton>\n          </div>\n        </IonPopover>\n\n        {/* Window Menu Popover */}\n        <IonPopover\n          isOpen={windowPopoverState.showPopover}\n          cssClass={isPlatform(\"ios\") || isPlatform(\"android\") ? \"input-popover2\" : \"input-popover2-web\"}\n          mode=\"ios\"\n          showBackdrop={true}\n          onDidDismiss={() => setShowWindowPopover({ showPopover: false, windowType: windowType })} data-testid=\"triggerMenu-popup\">\n          <div className=\"popover-content2\" style = {{marginBottom: \"0px\"}}>\n            <IonButton class=\"trigger-popup-button\"\n              onClick={(e: any) => popoverWindowSet(\"Rectangle\")} data-testid=\"rectangle-confirm\">\n              Rectangle\n            </IonButton>\n            <IonButton class=\"trigger-popup-button\"\n              onClick={(e: any) => popoverWindowSet(\"Hanning\")} data-testid=\"hanning-confirm\">\n              Hanning\n            </IonButton>\n            <IonButton class=\"trigger-popup-button\"\n              onClick={(e: any) => popoverWindowSet(\"Gaussian\")} data-testid=\"gaussian-confirm\">\n              Gaussian\n            </IonButton>\n          </div>\n          <div className=\"popover-content2\">\n            <IonButton class=\"trigger-popup-button\"\n              onClick={(e: any) => popoverWindowSet(\"Hamming\")} data-testid=\"hamming-confirm\">\n              Hamming\n            </IonButton>\n            <IonButton class=\"trigger-popup-button\"\n              onClick={(e: any) => popoverWindowSet(\"Kaiser\")} data-testid=\"kaiser-confirm\">\n              Kaiser\n            </IonButton>\n            <IonButton class=\"trigger-popup-button\"\n              onClick={(e: any) => popoverWindowSet(\"Flat Top\")} data-testid=\"flattop-confirm\">\n              Flat Top\n            </IonButton>\n          </div>\n        </IonPopover>\n      </IonContent>\n    </IonPage>\n  );\n};\n\nexport default SpectrumAnalyzer;\n","import React, {useState} from 'react';\nimport { isPlatform, IonButtons, IonContent, IonHeader, IonMenuButton, IonPage, IonTitle, IonToolbar,\n  IonButton, IonPopover, IonImg } from '@ionic/react';\nimport './LogicAnalyzer.css';\nimport Canvas from 'components/Canvas';\nimport WakeLock from 'components/WakeLock';\n\nconst SpectrumAnalyzer: React.FC = () => {\n  const name = \"Logic Analyzer - In Progress\";\n  const timeUnitDiv = 453.6;\n  const voltUnitDiv = .1;\n  const maxVolt = 5;\n  const minVolt = 0.1;\n  const [flag, setFlag] = useState(true);\n\n  const [fullscreenFlag, setFullscreenFlag] = useState(true);\n  const [displayFlag, setDisplayFlag] = useState(true);\n  const [voltageStart, setVoltageStart] = useState(.5);\n  const [timeStart, setTimeStart] = useState(1);\n  const [frequency, setFrequency] = useState(440);\n  const [triggerFlag, setTriggerFlag] = useState(true);\n  const [cursorFlag, setCursorFlag] = useState(false);\n  const [autoset, setAutoset] = useState(false);\n  const [timeDiff, setTimeDiff] = useState(0);\n  const [voltDiff, setVoltDiff] = useState(0);\n  const [saveFlag, setSaveFlag] = useState(false);\n  \n  function changeFrequency(frequency : number){\n    setFrequency(frequency);\n  }\n\n\n  function changeCursorDiff(timeDiff: number, voltDiff: number){\n    setTimeDiff(timeDiff);\n    setVoltDiff(voltDiff);\n  }\n\n  function changeVoltageInc(){\n    if((voltageStart+voltUnitDiv) <= maxVolt){\n      setVoltageStart(Math.round((voltageStart+voltUnitDiv)*10)/10)\n    }\n  }\n  function changeVoltageDec(){\n    if((voltageStart-voltUnitDiv) >= minVolt){\n      setVoltageStart(Math.round((voltageStart-voltUnitDiv)*10)/10)\n    }\n  }\n\n  function changeVoltageDiv(voltageDiv : number) {\n    setVoltageStart(voltageDiv)\n  }\n\n  function changeTimeInc(){\n    if(timeStart !== 80){\n      setTimeStart((prev) => prev+1)\n    }\n  }\n  function changeTimeDec(){\n    if(timeStart !== 1){\n      setTimeStart((prev) => prev-1)\n    }\n  }\n\n  function changeTimeDiv(timeDiv : number) {\n    setTimeStart(timeDiv)\n  }\n\n  function changeFlag(){\n    setFlag(!flag);\n  }\n\n  function changeDisplayFlag(){\n    setDisplayFlag(!displayFlag);\n  }\n\n  function changeFullscreenFlag(){\n    setFullscreenFlag(!fullscreenFlag);\n  }\n\n  function changeCursorFlag(){\n    setCursorFlag(!cursorFlag)\n  }\n\n  function toggleSaveButton() {\n    // Don't allow toggling off via button.\n    setSaveFlag(true);\n  }\n\n  function saveFinish() {\n    setSaveFlag(false);\n  }\n\n  const [triggerMenuPopoverState, setShowTriggerMenuPopover] = useState({ showPopover: false });\n\n  function toggleAutosetButton() {\n    // Don't allow toggling off via button.\n    setAutoset(true);\n  }\n\n  function autosetFinish() {\n    setAutoset(false);\n  }\n  \n  function popoverTriggerMenuSet(value: number) {\n    setShowTriggerMenuPopover({ showPopover: false });\n    if(value === 0 ){\n      setTriggerFlag(true);\n    }else if(value === 1) {\n      setTriggerFlag(false);\n    }\n  }\n\n  return (\n    <IonPage>\n      <IonHeader className={fullscreenFlag ? \"header\" : \"header-full\"}>\n        {/* Button for disabling fullscreen */}\n        {/* <IonButton className={fullscreenFlag ? \"flscrn-button-graph-small\" : \"flscrn-button-hidden\"} mode=\"ios\" fill=\"clear\" onClick = {() => changeFullscreenFlag()}>\n          <img className=\"fullscreen-img\" src={process.env.PUBLIC_URL + \"/assets/fullscreenwhite.png\"} alt=\"\"></img>\n        </IonButton> */}\n        <IonToolbar mode=\"ios\" color=\"primary\">\n          <IonButtons slot=\"start\">\n            <IonMenuButton />\n          </IonButtons>\n          <IonTitle> <b style={{fontWeight: \"bolder\"}}>Husker Scope</b>{\": \" + name}</IonTitle>\n          <IonImg slot=\"end\" class=\"logo\" src={process.env.PUBLIC_URL + \"/assets/Husker_Scope_Logo_circle.png\"}></IonImg>\n        </IonToolbar>\n      </IonHeader>\n\n      <IonContent fullscreen scrollY={false} color=\"secondary\">\n      <div className=\"full-screen\">\n\n        {/* The button for enabling fullscreen */}\n        <IonButton className={fullscreenFlag ? \"flscrn-button-hidden\" : \"flscrn-button-graph-full\"} mode=\"ios\" \n                   onClick = {() => changeFullscreenFlag()} fill=\"clear\">\n          <img className=\"fullscreen-img\" src={process.env.PUBLIC_URL + \"/assets/fullscreen2.png\"} alt=\"\"></img>\n        </IonButton>\n\n        {/* Button for toggling display on fullscreen */}\n        <IonButton className={fullscreenFlag ? \"fullscreen-display-button-hidden\" : \"fullscreen-display-button\" } \n                   onClick = {() => changeDisplayFlag()} mode=\"ios\" fill=\"clear\">\n          <img className=\"display-icon\" src={process.env.PUBLIC_URL + \"/assets/displayoff.png\"} alt=\"\"></img>\n        </IonButton>\n\n\n        {/* Display textbox for displaying frequency, Time Division, & Voltage Division */}\n        <label className={isPlatform(\"ios\") || isPlatform(\"android\") ? (displayFlag ? \"display-data-hidden\" : (fullscreenFlag ? \"display-data-hidden\" : \"display-data-full\")) : \n                                                                       (displayFlag ? \"display-data-hidden\" : (fullscreenFlag ? \"display-data-hidden\" : \"display-data-full-web\"))}>\n          <b>Frequency</b>: {frequency}Hz <br />\n          <b> Time Division</b>: {(timeStart*.4536).toFixed(4)}ms <br />\n          <b> Voltage Division</b>: {voltageStart.toFixed(1)}V <br />\n          { cursorFlag ?\n              <>\n                <b> Voltage</b>: {(voltageStart*8*voltDiff).toFixed(1)}V <br />\n                <b> Time</b>: {(timeStart*.4536*10*timeDiff).toFixed(4)}ms <br />\n              </>\n              : null\n          } \n        </label>\n\n        \n\n        {/* Makes it so the screen doesn't turn off when on the oscope page */}\n        <WakeLock enabled={true} />\n\n        {/* The graph element for the oscope */}\n        <div className={isPlatform(\"ios\") || isPlatform(\"android\") ? (fullscreenFlag ? \"oscilloscope-div\" : \"oscilloscope-div-full\") : \n                                                                     (fullscreenFlag ? \"oscilloscope-div-web\" : \"oscilloscope-div-full-web\")}>\n        <Canvas \n          className=\"oscope-graph\"\n          isFullscreen={fullscreenFlag} \n          playPauseFlag = {flag}\n          voltageDiv = {voltageStart}\n          timeDiv = {timeStart}\n          cursorChangeCallback = {changeCursorDiff}\n          frequencyChangeCallback = {changeFrequency}\n          timeDivChangeCallback = {changeTimeDiv}\n          voltageDivChangeCallback = {changeVoltageDiv}\n          autoset = {autoset}\n          autosetFinishCallback = {autosetFinish}\n          triggerFlag = {triggerFlag}\n          cursorFlag = {cursorFlag}\n          saveFlag = {saveFlag}\n          saveFinishCallback = {saveFinish}\n        />\n        </div>\n\n        {/* The buttons on the right hand side of the graph */}\n        <div className={isPlatform(\"ios\") || isPlatform(\"android\") ? (fullscreenFlag ? \"side-data\" : \"side-data-hidden\") : \n                                                                     (fullscreenFlag ? \"side-data-web\" : \"side-data-hidden\")}>\n          <div className=\"first-row-div\"> {/* First row of UI buttons */}\n            <IonButton class=\"utility-buttons\" mode=\"ios\" onClick = {() => toggleAutosetButton()} color={autoset ? \"primary\" : \"light\"} data-testid=\"util-1-button\">\n                <div>\n                  Auto\n                </div>\n            </IonButton>\n            <IonButton class=\"voltage-time-division-button\" mode=\"ios\" onClick = {() => changeVoltageInc()} color=\"tertiary\" data-testid=\"volt-div-pos-button\">\n              <div>\n                Volt/Div\n                <div>\n                  +{voltUnitDiv}V\n                  </div>\n              </div>\n            </IonButton>\n            <IonButton class=\"utility-buttons\" mode=\"ios\"  onClick = {() => changeCursorFlag()} color={cursorFlag ? \"primary\" : \"light\"} data-testid=\"util-2-button\">\n              <div>\n                Cursors\n              </div>\n            </IonButton>\n          </div>\n\n          <div className=\"second-row-div\"> {/* Second row of UI buttons */}\n          <IonButton class=\"voltage-time-division-button\" mode=\"ios\" onClick = {() => changeTimeDec()} color=\"tertiary\" data-testid=\"time-div-neg-button\">\n              <div>\n                Time/Div\n                <div>\n                  -{timeUnitDiv}us\n                </div>\n              </div>\n            </IonButton>\n            <IonButton id = \"pause-play-button\" class=\"pause-play-button\" mode=\"ios\" onClick = {() => changeFlag()} color={flag ? \"primary\" : \"tertiary\"} data-testid=\"pause-play-button\">\n              <div>\n                <img className=\"pause-play-img\" src={process.env.PUBLIC_URL + (flag ? \"/assets/pause.png\" : \"/assets/playwhite.png\")} alt=\"\" ></img>\n                <div>Run/Pause</div>\n              </div>\n            </IonButton>\n            <IonButton class=\"voltage-time-division-button\" mode=\"ios\" onClick = {() => changeTimeInc()} color=\"tertiary\" data-testid=\"time-div-pos-button\">\n              <div>\n                Time/Div\n                <div>\n                  +{timeUnitDiv}us\n                </div>\n              </div>\n            </IonButton>\n          </div>\n\n          <div className=\"third-row-div\"> {/* Third row of UI buttons */}\n            <IonButton class=\"utility-buttons\" mode=\"ios\" onClick = {() => toggleSaveButton()} color={saveFlag ? \"primary\" : \"light\"} data-testid=\"util-4-button\">\n                <div>\n                  Save\n                </div>\n            </IonButton>\n            <IonButton class=\"voltage-time-division-button\" mode=\"ios\" onClick = {() => changeVoltageDec()}  color=\"tertiary\" data-testid=\"volt-div-neg-button\">\n              <div>\n                Volt/Div\n                <div>\n                  -{voltUnitDiv}V\n                </div>\n              </div>\n            </IonButton>\n            <IonButton class=\"utility-buttons\" mode=\"ios\" color=\"light\" onClick={() => setShowTriggerMenuPopover({ showPopover: true })} data-testid=\"util-6-button\">\n              <div>\n                Trigger<br />Menu\n              </div>\n            </IonButton>\n          </div>\n          <div className=\"display-div\"> {/* Display Div */}\n            <span className=\"helper\" />\n            <label className={isPlatform(\"ios\") || isPlatform(\"android\") ? (fullscreenFlag ? \"display-data-main\" : \"display-data-hidden\") : \n                                                                           (fullscreenFlag ? \"display-data-main-web\" : \"display-data-hidden\")}>\n              <b>Frequency</b>: {frequency}Hz <br />\n              <b> Time Division</b>: {(timeStart*.4536).toFixed(4)}ms <br />\n              <b> Voltage Division</b>: {voltageStart.toFixed(1)}V <br />\n              { cursorFlag ?\n                  <>\n                    <b> Voltage</b>: {(voltageStart*8*voltDiff).toFixed(1)}V <br />\n                    <b> Time</b>: {(timeStart*.4536*10*timeDiff).toFixed(4)}ms <br />\n                  </>\n                  : null\n              } \n            </label>\n          \n          </div>\n        </div>\n      </div>\n        {/* Trigger Menu Popover */}\n        <IonPopover\n          isOpen={triggerMenuPopoverState.showPopover}\n          cssClass={isPlatform(\"ios\") || isPlatform(\"android\") ? \"input-popover2\" : \"input-popover2-web\"}\n          mode=\"ios\"\n          showBackdrop={true}\n          onDidDismiss={() => setShowTriggerMenuPopover({ showPopover: false })} data-testid=\"triggerMenu-popup\">\n          <div className=\"popover-content2\">\n            <IonButton class=\"trigger-popup-button\"\n              onClick={(e: any) => popoverTriggerMenuSet(0)} data-testid=\"Rising-confirm\">\n              Rising\n            </IonButton>\n            <IonButton class=\"trigger-popup-button\"\n              onClick={(e: any) => popoverTriggerMenuSet(1)} data-testid=\"Falling-confirm\">\n              Falling\n            </IonButton>\n            <IonButton class=\"trigger-popup-button\"\n              onClick={(e: any) => popoverTriggerMenuSet(2)} data-testid=\"Auto-confirm\">\n              Single-<br />Trigger\n            </IonButton>\n          </div>\n        </IonPopover>\n      </IonContent>\n    </IonPage>\n  );\n};\n\nexport default SpectrumAnalyzer;\n","import { IonButtons, IonContent, IonHeader, IonMenuButton, IonPage, IonTitle, IonToolbar, IonImg} from '@ionic/react';\nimport './Tutorial.css';\n\n\nconst Tutorial: React.FC = () => {\n  const name = \"Tutorial\";\n\n\n  return (\n    <IonPage>\n      <IonHeader>\n        <IonToolbar mode=\"ios\" color=\"primary\">\n          <IonButtons slot=\"start\">\n            <IonMenuButton />\n          </IonButtons>\n          <IonTitle> <b style={{fontWeight: \"bolder\"}}>Husker Scope</b>{\": \" + name}</IonTitle>\n          <IonImg slot=\"end\" class=\"nebraska-n\" src={process.env.PUBLIC_URL + \"/assets/Husker_Scope_Logo_circle.png\"}></IonImg>\n        </IonToolbar>\n      </IonHeader>\n      <IonContent fullscreen scrollY={true} color=\"secondary\">\n        <div className='tutorial-page'>\n          <div className=\"main-div\">\n            <div className=\"intro-div\">\n              <p> &emsp;This page serves as a tutorial for what all the buttons on the Function Generator and Oscilloscope do. First will be an \n                  image of the Function Generator with what all the buttons on the UI do. Following that, there will be a picture of the Oscilloscope with information \n                  on what the buttons do. We hope it's of help!\n              </p>\n            </div>\n            <div>\n\n              <div className='fg-tutorial-img-div'>\n                <IonImg className=\"fg-tutorial-img\" src={process.env.PUBLIC_URL + \"/assets/function_generator_tutorial.png\"} />\n              </div>\n              \n              <ol>\n                <li>These buttons are to select which channel the user wants to edit.</li>\n                <li>This button serves the purpose of displaying the frequency of the channel and if it is pressed, a popup is displayed that allows for an exact \n                    frequency to be entered using the keyboard.</li>\n                <li>This button serves the purpose of displaying the amplitude of the channel and if it is pressed, a popup is displayed that allows for an exact \n                    amplitude to be entered using the keyboard.</li>\n                <li>This button serves the purpose of displaying the phase of the channel and if it is pressed, a popup is displayed that allows for an exact \n                    phase to be entered using the keyboard. <br /> Note: The sliders underneath the previous 3 buttons are for changing the values of frequency, \n                    amplitude, and phase respectively.</li>\n                <li>The four waveform buttons are used for setting the waveform for the currently selected channel.</li>\n                <li>These two buttons are for playing and pause the output on the respective channels.</li>\n              </ol>\n\n              <div className='os-tutorial-img-div'>\n                <IonImg className=\"os-tutorial-img\" src={process.env.PUBLIC_URL + \"/assets/oscope_tutorial.png\"} />\n              </div>\n\n              <ol>\n                <li>This is the oscilloscope graph, which is where the wave is displayed.</li>\n                <li>The small triangles on the top and left of the graph are the oscilloscope's triggers.</li>\n                <li>The red half-circles on the sides of the graph are the oscilloscope's cursors.</li>\n                <li>This is a data display which is used for displaying the frequency, time division, volt division, and if the cursors are enabled it also \n                    displays the voltage and time measures.</li>\n                <li>This button and the one below the run/pause button are used for increasing and decreasing the voltage division.</li>\n                <li>This button and the one to the right of the run/pause button are used for decreasing and increasing the time division.</li>\n                <li>This is the run/pause button. If the button is red, the graph will update. If it is white, the graph will be paused.</li>\n                <li>This button is used for autosetting the graph.</li>\n                <li>This button enables and disables the cursors on the graph. If the button is red, the cursors are enabled. If the button is white, the cursors are diabled.</li>\n                <li>Save button: In progress</li>\n                <li>This button displays a Trigger Menu that has the options for changing between rising and falling edge and single trigger.</li>\n                <li>This button changes the graph to fullscreen. After the graph is in fullscreen, there is a button in the same location that disables the fullscreen. <br />\n                    Note: When the graph is in fullscreen, the button below the fullscreen button enables and disables the data display.</li>\n              </ol>\n              \n              <div className='os-tutorial-img-div'>\n                <IonImg className=\"os-tutorial-img\" src={process.env.PUBLIC_URL + \"/assets/am.png\"} />\n              </div>\n\n              <ol>\n                <li>These buttons are to select which channel the user wants to edit.</li>\n                <li>This button defines the carrier frequency for the current channel.</li> {/* Carrier Frequency Here */}\n                <li>This buttons defines the message frequency for the current channel.</li> {/* Message Frequency Here */}\n                <li>This button serves the purpose of displaying the amplitude of the channel and if it is pressed, a popup is displayed that allows for an exact \n                    amplitude to be entered using the keyboard.</li>\n                    <li>This button switches the modulation mode, from amplitude modulation to frequency modulation.</li> {/* AM button Here */}\n                <li>These two buttons are for playing and pause the output on the respective channels.</li>\n           \n              </ol>\n\n              <div className='os-tutorial-img-div'>\n                <IonImg className=\"os-tutorial-img\" src={process.env.PUBLIC_URL + \"/assets/circuit_diagram_rotated.png\"} />\n              </div>\n\n              <ul>\n                <li>10k is a 10 kilo ohm resistor</li>      \n                <li>2k is a 2 kilo ohm resistor</li>      \n                <li>RL is a switch. This will switch between left and right channel</li>      \n                <li>S, R2, R1, T, are all breakout pins for verifying correct input</li>      \n              </ul>\n\n            </div>\n          </div>\n        </div>\n      </IonContent>\n    </IonPage>\n  );\n};\n\nexport default Tutorial;\n","import { IonButtons, IonContent, IonHeader, IonMenuButton, IonPage, IonTitle, IonToolbar, IonImg} from '@ionic/react';\nimport './About.css';\n\n\nconst About: React.FC = () => {\n  const name = \"About\";\n\n\n  return (\n    <IonPage>\n      <IonHeader>\n        <IonToolbar mode=\"ios\" color=\"primary\">\n          <IonButtons slot=\"start\">\n            <IonMenuButton />\n          </IonButtons>\n          <IonTitle> <b style={{fontWeight: \"bolder\"}}>Husker Scope</b>{\": \" + name}</IonTitle>\n          <IonImg slot=\"end\" class=\"nebraska-n\" src={process.env.PUBLIC_URL + \"/assets/Husker_Scope_Logo_circle.png\"}></IonImg>\n        </IonToolbar>\n      </IonHeader>\n      <IonContent fullscreen scrollY={true} color=\"secondary\">\n        <div className=\"content\">\n          <div className=\"overview\">Project Overview</div>\n          <div className=\"project-vision\">Project Vision</div>\n          <div className=\"project-justification\">Project Justification</div>\n        </div>\n        <div className=\"content\">\n          <div className=\"overview-text\">Husker Scope is an iOS and Android application that serves as a dual channel function generator and single channel oscilloscope. The dual channel function generator is able to output sine, square, sawtooth and triangle waveforms with a range of 20 to 20,000 Hz. The phase, amplitude and frequency are able to be adjusted within the application. The oscilloscope will show time and volts per division as well as cursors for signal measurement, pause and image export, and triggering.</div>\n          <div className=\"outer\">\n            <div className=\"project-vision-text\">To provide a free and cross-platform application containing a function generator and oscilloscope that will be available to UNL students and Engineering students across the globe.</div>\n            <IonImg slot=\"end\" class=\"logo-about\" src={process.env.PUBLIC_URL + \"/assets/Husker_Scope_Logo_rounded_corners.png\"}></IonImg>\n          </div>\n          <div className=\"project-justification-text\">There are a variety of Function Generators and Oscilloscopes on both the iOS and Google Play store, but most of the iOS applications need to be purchased and Husker Scope is a one stop shop for all function generator and oscilloscope needs on both the iOS and Google Play store. Additionally, most applications require additional hardware to be purchased for proper functionality, but the Husker O-Scope will function through the use of a standard 3.5mm audio jack.</div>        \n        </div>\n        <div className=\"link-text\"> \n          More information about the app and project can be found at <a href=\"https://www.huskerscope.com\" target=\"_blank\" rel=\"noreferrer\">huskerscope.com</a>\n        </div>\n      </IonContent>\n    </IonPage>\n  );\n};\n\nexport default About;\n","import { IonApp, IonRouterOutlet, IonSplitPane} from '@ionic/react';\nimport { IonReactRouter } from '@ionic/react-router';\nimport { Redirect, Route, Switch } from 'react-router-dom';\nimport { useEffect } from 'react';\nimport { Plugins } from '@capacitor/core';\nimport Menu from './components/Menu';\nimport FunctionGenerator from './pages/FunctionGenerator';\nimport OScope from './pages/OScope';\nimport AMFM from './pages/AMFM';\nimport SpectrumAnalyzer from 'pages/SpectrumAnalyzer';\nimport LogicAnalyzer from 'pages/LogicAnalyzer';\nimport Tutorial from './pages/Tutorial';\nimport About from './pages/About';\n\n/* Core CSS required for Ionic components to work properly */\nimport '@ionic/react/css/core.css';\n\n/* Basic CSS for apps built with Ionic */\nimport '@ionic/react/css/normalize.css';\nimport '@ionic/react/css/structure.css';\nimport '@ionic/react/css/typography.css';\n\n/* Optional CSS utils that can be commented out */\nimport '@ionic/react/css/padding.css';\nimport '@ionic/react/css/float-elements.css';\nimport '@ionic/react/css/text-alignment.css';\nimport '@ionic/react/css/text-transformation.css';\nimport '@ionic/react/css/flex-utils.css';\nimport '@ionic/react/css/display.css';\n\n/* Theme variables */\nimport './theme/variables.css';\n\nimport './App.css';\n\nimport { AppContextProvider } from './State';\nimport { isPlatform, getPlatforms } from '@ionic/core';\n\n\nconst App: React.FC = () => {\n  useEffect(() => {\n    // Setup handling for backbutton.\n    const listener = (ev: Event) => {\n      (ev as CustomEvent).detail.register(-1, () => {\n        Plugins.App.exitApp();\n      })\n    };\n\n    document.addEventListener('ionBackButton', listener);\n\n    return () => {\n      document.removeEventListener('ionBackButton', listener);\n    };\n  }, []);\n\n  return (\n    <AppContextProvider>\n    <IonApp className={isPlatform(\"android\") || isPlatform(\"ios\") ? \"\" : \"web-zoom\"} >\n      <IonReactRouter basename={process.env.PUBLIC_URL}>\n        <IonSplitPane contentId=\"main\" disabled={true}>\n          <Menu />\n          <IonRouterOutlet mode=\"md\" id=\"main\">\n            <Switch>\n            <Route path=\"/\" exact={true}>\n              <Redirect to=\"/page/FunctionGenerator\" />\n            </Route>\n            <Route path=\"/page/FunctionGenerator\" exact={true}>\n              <FunctionGenerator />\n            </Route>\n            <Route path=\"/page/OScope\" exact={true}>\n              <OScope />\n            </Route>\n            <Route path=\"/page/AMFM\" exact={true}>\n            <AMFM />\n            </Route>\n            <Route path=\"/page/SpectrumAnalyzer\" exact={true}>\n              <SpectrumAnalyzer />\n            </Route>\n            <Route path=\"/page/LogicAnalyzer\" exact={true}>\n              <LogicAnalyzer />\n            </Route>\n            <Route path=\"/page/Tutorial\" exact={true}>\n              <Tutorial />\n            </Route>\n            <Route path=\"/page/About\" exact={true}>\n              <About />\n            </Route>\n            </Switch>\n          </IonRouterOutlet>\n        </IonSplitPane>\n      </IonReactRouter>\n    </IonApp>\n    </AppContextProvider>\n  );\n};\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://cra.link/PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://cra.link/PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://cra.link/PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch((error) => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log('No internet connection found. App is running in offline mode.');\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then((registration) => {\n        registration.unregister();\n      })\n      .catch((error) => {\n        console.error(error.message);\n      });\n  }\n}\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport * as serviceWorkerRegistration from './serviceWorkerRegistration';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://cra.link/PWA\nserviceWorkerRegistration.unregister();\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","var map = {\n\t\"./ion-action-sheet.entry.js\": [\n\t\t122,\n\t\t5\n\t],\n\t\"./ion-alert.entry.js\": [\n\t\t123,\n\t\t6\n\t],\n\t\"./ion-app_8.entry.js\": [\n\t\t124,\n\t\t7\n\t],\n\t\"./ion-avatar_3.entry.js\": [\n\t\t125,\n\t\t17\n\t],\n\t\"./ion-back-button.entry.js\": [\n\t\t126,\n\t\t18\n\t],\n\t\"./ion-backdrop.entry.js\": [\n\t\t127,\n\t\t43\n\t],\n\t\"./ion-button_2.entry.js\": [\n\t\t128,\n\t\t19\n\t],\n\t\"./ion-card_5.entry.js\": [\n\t\t129,\n\t\t20\n\t],\n\t\"./ion-checkbox.entry.js\": [\n\t\t130,\n\t\t21\n\t],\n\t\"./ion-chip.entry.js\": [\n\t\t131,\n\t\t22\n\t],\n\t\"./ion-col_3.entry.js\": [\n\t\t132,\n\t\t44\n\t],\n\t\"./ion-datetime_3.entry.js\": [\n\t\t133,\n\t\t10\n\t],\n\t\"./ion-fab_3.entry.js\": [\n\t\t134,\n\t\t23\n\t],\n\t\"./ion-img.entry.js\": [\n\t\t135,\n\t\t45\n\t],\n\t\"./ion-infinite-scroll_2.entry.js\": [\n\t\t136,\n\t\t46\n\t],\n\t\"./ion-input.entry.js\": [\n\t\t137,\n\t\t24\n\t],\n\t\"./ion-item-option_3.entry.js\": [\n\t\t138,\n\t\t25\n\t],\n\t\"./ion-item_8.entry.js\": [\n\t\t139,\n\t\t26\n\t],\n\t\"./ion-loading.entry.js\": [\n\t\t140,\n\t\t27\n\t],\n\t\"./ion-menu_3.entry.js\": [\n\t\t141,\n\t\t28\n\t],\n\t\"./ion-modal.entry.js\": [\n\t\t142,\n\t\t8\n\t],\n\t\"./ion-nav_2.entry.js\": [\n\t\t143,\n\t\t14\n\t],\n\t\"./ion-popover.entry.js\": [\n\t\t144,\n\t\t9\n\t],\n\t\"./ion-progress-bar.entry.js\": [\n\t\t145,\n\t\t29\n\t],\n\t\"./ion-radio_2.entry.js\": [\n\t\t146,\n\t\t30\n\t],\n\t\"./ion-range.entry.js\": [\n\t\t147,\n\t\t31\n\t],\n\t\"./ion-refresher_2.entry.js\": [\n\t\t148,\n\t\t11\n\t],\n\t\"./ion-reorder_2.entry.js\": [\n\t\t149,\n\t\t16\n\t],\n\t\"./ion-ripple-effect.entry.js\": [\n\t\t150,\n\t\t47\n\t],\n\t\"./ion-route_4.entry.js\": [\n\t\t151,\n\t\t32\n\t],\n\t\"./ion-searchbar.entry.js\": [\n\t\t152,\n\t\t33\n\t],\n\t\"./ion-segment_2.entry.js\": [\n\t\t153,\n\t\t34\n\t],\n\t\"./ion-select_3.entry.js\": [\n\t\t154,\n\t\t35\n\t],\n\t\"./ion-slide_2.entry.js\": [\n\t\t155,\n\t\t48\n\t],\n\t\"./ion-spinner.entry.js\": [\n\t\t156,\n\t\t13\n\t],\n\t\"./ion-split-pane.entry.js\": [\n\t\t157,\n\t\t49\n\t],\n\t\"./ion-tab-bar_2.entry.js\": [\n\t\t158,\n\t\t36\n\t],\n\t\"./ion-tab_2.entry.js\": [\n\t\t159,\n\t\t15\n\t],\n\t\"./ion-text.entry.js\": [\n\t\t160,\n\t\t37\n\t],\n\t\"./ion-textarea.entry.js\": [\n\t\t161,\n\t\t38\n\t],\n\t\"./ion-toast.entry.js\": [\n\t\t162,\n\t\t39\n\t],\n\t\"./ion-toggle.entry.js\": [\n\t\t163,\n\t\t12\n\t],\n\t\"./ion-virtual-scroll.entry.js\": [\n\t\t164,\n\t\t50\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(function() {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn __webpack_require__.e(ids[1]).then(function() {\n\t\treturn __webpack_require__(id);\n\t});\n}\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = 81;\nmodule.exports = webpackAsyncContext;","var map = {\n\t\"./ion-icon.entry.js\": [\n\t\t165,\n\t\t57\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(function() {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn __webpack_require__.e(ids[1]).then(function() {\n\t\treturn __webpack_require__(id);\n\t});\n}\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = 83;\nmodule.exports = webpackAsyncContext;"],"sourceRoot":""}