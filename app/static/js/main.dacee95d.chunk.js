(this["webpackJsonphusker-scope"]=this["webpackJsonphusker-scope"]||[]).push([[1],{101:function(e,t,n){},102:function(e,t,n){},103:function(e,t,n){},104:function(e,t,n){},105:function(e,t,n){},116:function(e,t,n){},117:function(e,t,n){},118:function(e,t,n){"use strict";n.r(t);var s,i=n(1),c=n.n(i),a=n(34),o=n.n(a),r=n(2),l=n(68),u=n(28),d=n(70),b=n(16),j=(n(90),n(0)),h=[{title:"Function Generator",url:"/page/FunctionGenerator",iosIcon:b.h,mdIcon:b.i},{title:"Oscilloscope",url:"/page/OScope",iosIcon:b.l,mdIcon:b.m},{title:"AM/FM",url:"/page/AMFM",iosIcon:b.l,mdIcon:b.l},{title:"Spectrum Analyzer",url:"/page/SpectrumAnalyzer",iosIcon:b.l,mdIcon:b.m},{title:"Logic Analyzer",url:"/page/LogicAnalyzer",iosIcon:b.l,mdIcon:b.m},{title:"Tutorial",url:"/page/Tutorial",iosIcon:b.l,mdIcon:b.l},{title:"About",url:"/page/About",iosIcon:b.l,mdIcon:b.l}],p=function(){var e=Object(u.f)();return Object(j.jsx)(r.m,{contentId:"main",type:"overlay","data-testid":"menu-toggle",children:Object(j.jsx)(r.d,{children:Object(j.jsxs)(r.k,{id:"inbox-list",mode:"ios",children:[Object(j.jsx)(r.l,{children:"Husker Scope"}),h.map((function(t,n){return Object(j.jsx)(r.o,{autoHide:!1,children:Object(j.jsx)(r.i,{className:e.pathname===t.url?"selected":"",routerLink:t.url,routerDirection:"none",lines:"none",detail:!1,children:Object(j.jsx)(r.j,{children:t.title})})},n)})),Object(j.jsx)("div",{className:"the-logo",children:Object(j.jsx)(r.g,{class:"logo-menu",src:"/~jfalkinburg/husker-scope/app/assets/Husker_Scope_Logo_rounded_corners.png"})})]})})})},O=n(8),f=n(5),v=n(19);var m={frequency:440,carrierFrequency:550,messageFrequency:20,amplitude:100,waveform:"sine",phase:180,outputting:!1,modulation:!0},g={channelOne:m,channelTwo:m,currChannel:0,earWarning:!0},x=Object(i.createContext)({}),y=JSON.parse(null!==(s=window.localStorage.persistedState)&&void 0!==s?s:"{}"),w=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.currChannel,s=Object(O.a)({},e),i=0===n?"channelOne":"channelTwo",c=Object(O.a)(Object(O.a)({},e[i]),t);return Object(O.a)(Object(O.a)({},s),{},Object(v.a)({},i,c))},k=function(e,t){switch(t.type){case"acceptWarning":return Object(O.a)(Object(O.a)({},e),{},{earWarning:!1});case"setFrequency":return w(e,{frequency:t.payload});case"setCarrierFrequency":return w(e,{carrierFrequency:t.payload});case"setMessageFrequency":return w(e,{messageFrequency:t.payload});case"setAmplitude":return w(e,{amplitude:t.payload});case"setWaveform":return w(e,{waveform:t.payload});case"setPhase":return w(e,{phase:(n=t.payload,s=0,i=360,Math.min(Math.max(n,s),i))});case"setChannelOutputting":return w(e,{outputting:t.payload},t.channel);case"setCurrChannel":return Object(O.a)(Object(O.a)({},e),{},{currChannel:t.payload});case"setModulationMode":return w(e,{modulation:t.payload})}var n,s,i;return e};function C(e){var t=Object(O.a)(Object(O.a)(Object(O.a)({},g),y),{},{channelOne:Object(O.a)(Object(O.a)({},g.channelOne),y.channelOne),channelTwo:Object(O.a)(Object(O.a)({},g.channelTwo),y.channelTwo)}),n=c.a.useReducer(k,t),s=Object(f.a)(n,2),a=s[0],o=s[1];Object(i.useEffect)((function(){var e=Object(O.a)(Object(O.a)({},a),{},{channelOne:Object(O.a)(Object(O.a)({},a.channelOne),{},{outputting:!1}),channelTwo:Object(O.a)(Object(O.a)({},a.channelTwo),{},{outputting:!1}),currChannel:0});window.localStorage.persistedState=JSON.stringify(e)}),[a]);var r={state:a,dispatch:o};return Object(j.jsx)(x.Provider,{value:r,children:e.children})}x.Consumer;var F=function(e){return{type:"setAmplitude",payload:e}},M=function(e){return{type:"setCurrChannel",payload:e}},N=function(e,t){return{type:"setChannelOutputting",payload:t,channel:e}},P=function(e){return{type:"setModulationMode",payload:e}},q=function(e){return S(e,e.currChannel)},S=function(e,t){return 0===t?e.channelOne:e.channelTwo},A=function(e){return e.frequency},T=function(e){return e.carrierFrequency},D=function(e){return e.messageFrequency},_=function(e){return e.amplitude},H=function(e){return e.waveform},I=function(e){return e.phase},z=function(e){return e.outputting},R=function(e){return e.modulation},W=function(e,t){return 1/e*(t/360+.5)},E=function(e){var t=Object(i.useRef)(null),s=Object(i.useRef)(null),c=Object(i.useRef)(null),a=Object(i.useRef)(null),o=Object(i.useRef)(440),r=Object(i.useRef)(40),l=Object(i.useRef)(100),u=Object(i.useRef)(180),d=Object(i.useRef)(!1),b=48e3,j=2048,h=2048,p=n(66).fft;return Object(i.useEffect)((function(){if(e.audioCtx&&e.active){var n=e.audioCtx.createOscillator();"custom"!=e.waveform&&(n.frequency.value=o.current,n.type=e.waveform);var i=e.audioCtx.createGain();i.gain.value=l.current;var r=e.audioCtx.createStereoPanner(),d=0;switch(e.channel){case"left":d=-1;break;case"right":d=1;break;default:d=0}r.pan.value=d;var b=e.audioCtx.createDelay();return b.delayTime.value=W(o.current,u.current),t.current=n,c.current=i,s.current=r,a.current=b,n.connect(i),i.connect(r),r.connect(b),b.connect(e.audioCtx.destination),e.analyser&&b.connect(e.analyser),e.syncMultiplier?n.start(Math.ceil(e.audioCtx.currentTime+.05)):n.start(),function(){n.stop(),n.disconnect(),i.disconnect(),r.disconnect(),b.disconnect(),e.analyser&&e.analyser.disconnect()}}}),[e.audioCtx,e.waveform,e.channel,e.active,e.analyser,e.syncMultiplier]),Object(i.useEffect)((function(){if(o.current=e.frequency,r.current=e.messageFrequency,l.current=e.amplitude,u.current=e.phase,d.current=e.modulation,e.audioCtx&&e.active)if("custom"==e.waveform){var n=new Float32Array(j),s=new Float32Array(h/2),i=new Float32Array(h/2);if(d.current){t.current.frequency.value=r.current;for(var O=25*o.current/r.current*.94,f=0;f<j;f++)n[f]=Math.sin(2*Math.PI*O*f/b)*Math.sin(2*Math.PI*23.4375*f/b)}else{t.current.frequency.value=r.current;for(var v=25*o.current/r.current*.94,m=.5*o.current/r.current,g=0;g<j;g++)n[g]=Math.sin(2*Math.PI*v*g/b+m*Math.sin(2*Math.PI*23.4375*g/b))}for(var x=p(n),y=0;y<h/2;y++)s[y]=-2*x[y][0]*Math.PI/h,i[y]=-2*x[y][1]*Math.PI/h;var w=e.audioCtx.createPeriodicWave(s,i,{disableNormalization:!0});t.current.setPeriodicWave(w),a.current.delayTime.value=0,c.current.gain.value=.2*l.current}else t.current.frequency.value=o.current,a.current.delayTime.value=W(o.current,u.current),c.current.gain.value=l.current}),[e.audioCtx,e.active,e.frequency,e.messageFrequency,e.amplitude,e.phase,e.modulation]),null};var L,V=n(58),B=function(e){return Object(i.useEffect)((function(){if(e.enabled)return V.a.keepAwake(),function(){V.a.allowSleepAgain()}}),[e.enabled]),null},U=function(e){var t=Object(i.useRef)(null);Object(i.useEffect)((function(){return t.current=new AudioContext,function(){t.current.close()}}),[]);var n,s,c=(n=e.chOne.frequency,s=e.chTwo.frequency,0!==Math.max(n,s)%Math.min(n,s)?0:Math.max(n,s)/Math.min(n,s));return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(B,{enabled:e.chOne.active||e.chTwo.active}),Object(j.jsx)(E,Object(O.a)({channel:"left",syncMultiplier:c,audioCtx:t.current},e.chOne)),Object(j.jsx)(E,Object(O.a)({channel:"right",syncMultiplier:c,audioCtx:t.current},e.chTwo))]})},G=(n(95),n(7)),Y=function(){var e=Object(i.useContext)(x),t=e.state,n=e.dispatch,s=Object(r.G)(),c=Object(f.a)(s,1)[0];Object(i.useEffect)((function(){t.earWarning&&c({cssClass:"alert",header:"Warning",message:"This app can produce loud sounds that can damage sensitive parts of the ear resulting in hearing loss.<br /><br />Use with caution and avoid wearing headphones.",buttons:[{text:"I understand",handler:function(){n({type:"acceptWarning"})}}]})}),[n,c,t.earWarning]),Object(i.useEffect)((function(){return function(){n(N(0,!1)),n(N(1,!1))}}),[n]);var a=q(t),o=S(t,0),l=S(t,1),u=A(a),d=Object(i.useCallback)((function(e){n(function(e){return{type:"setFrequency",payload:e}}(e))}),[n]),b=A(o),h=A(l),p=_(a),v=Object(i.useCallback)((function(e){n(F(Math.max(0,e)))}),[n]),m=_(o),g=_(l),y=H(a),w=Object(i.useCallback)((function(e){n(function(e){return{type:"setWaveform",payload:e}}(e))}),[n]),k=H(o),C=H(l),P=I(a),T=Object(i.useCallback)((function(e){n(function(e){return{type:"setPhase",payload:e}}(e))}),[n]),D=I(o),R=I(l),W=t.currChannel,E=Object(i.useCallback)((function(e){n(M(e))}),[n]),L=z(o),V=z(l),B=Object(i.useCallback)((function(){n(N(0,!L))}),[L,n]),Y=Object(i.useCallback)((function(){n(N(1,!V))}),[V,n]);var K=Object(i.useState)({showPopover:!1,frequency:440}),Q=Object(f.a)(K,2),J=Q[0],X=Q[1],$=Object(i.useState)({showPopover:!1,amplitude:100}),Z=Object(f.a)($,2),ee=Z[0],te=Z[1],ne=Object(i.useState)({showPopover:!1,phase:180}),se=Object(f.a)(ne,2),ie=se[0],ce=se[1];function ae(){d(J.frequency),X({showPopover:!1,frequency:u})}function oe(){v(ee.amplitude),te({showPopover:!1,amplitude:p})}function re(){T(ie.phase),ce({showPopover:!1,phase:P})}function le(e,t){if("Enter"===e.key)switch(t){case"frequency":ae();break;case"amplitude":oe();break;case"phase":re()}}var ue=Object(i.useRef)(null),de=Object(i.useRef)(null),be=Object(i.useRef)(null);var je={active:L,frequency:b,messageFrequency:0,amplitude:m/100,phase:D,waveform:k,modulation:!1},he={active:V,frequency:h,messageFrequency:0,amplitude:g/100,phase:R,waveform:C,modulation:!1};return Object(j.jsxs)(r.p,{children:[Object(j.jsx)(r.e,{children:Object(j.jsxs)(r.w,{mode:"ios",color:"primary",children:[Object(j.jsx)(r.c,{slot:"start",children:Object(j.jsx)(r.n,{})}),Object(j.jsxs)(r.v,{children:[Object(j.jsx)("b",{style:{fontWeight:"bolder"},children:"Husker Scope"}),": Function Generator"]}),Object(j.jsx)(r.g,{slot:"end",class:"logo",src:"/~jfalkinburg/husker-scope/app/assets/Husker_Scope_Logo_circle.png"})]})}),Object(j.jsxs)(r.d,{fullscreen:!0,scrollY:!1,color:"secondary",children:[Object(j.jsx)(U,{chOne:je,chTwo:he}),Object(j.jsxs)("div",{className:"frequency-waveform-channels",children:[Object(j.jsx)("div",{className:"channel-div",children:Object(j.jsx)(r.b,{class:"edit-button-L",mode:"ios",onClick:function(){E(0)},color:0===W?"primary":"light","data-testid":"left-edit",children:Object(j.jsxs)("div",{className:"edit-button-contents",children:["CH1 ",Object(j.jsx)("br",{}),"FQ: ",Math.round(b)," Hz ",Object(j.jsx)("br",{}),"AMP: ",m,"% ",Object(j.jsx)("br",{}),"PH: ",D,"\xb0",Object(j.jsx)("img",{className:"edit-img",src:"/~jfalkinburg/husker-scope/app"+"/assets/".concat(k,"-wave.png"),alt:""})]})})}),Object(j.jsxs)("div",{className:"frequency-and-waveform",children:[Object(j.jsx)("div",{className:"frequency-button-div",children:Object(j.jsxs)(r.b,{class:"frequency-button",mode:"ios",color:"light",onClick:function(){return X({showPopover:!0,frequency:u})},"data-testid":"frequency-button",children:["Frequency: ",Math.round(u)," Hz"]})}),Object(j.jsx)("div",{children:Object(j.jsx)(r.r,{class:"range-frequency",mode:"ios",value:Math.log(u-19),min:0,max:Math.log(19981),step:1e-10,onIonChange:function(e){return function(e){var t=Math.exp(e)+19;d(t)}(e.detail.value)},"data-testid":"frequency-range"})}),Object(j.jsxs)("div",{className:"waveform-buttons",children:[Object(j.jsx)(r.b,{class:"waveform-button",color:"sine"===y?"primary":"light",onClick:function(){w("sine")},mode:"ios","data-testid":"sine-button",children:Object(j.jsx)(r.f,{class:"waveform-icon-1",slot:"icon-only",src:"/~jfalkinburg/husker-scope/app/assets/icon/sine-wave2.svg"})}),Object(j.jsx)(r.b,{class:"waveform-button",color:"triangle"===y?"primary":"light",onClick:function(){w("triangle")},mode:"ios","data-testid":"triangle-button",children:Object(j.jsx)(r.f,{class:"waveform-icon-1",slot:"icon-only",src:"/~jfalkinburg/husker-scope/app/assets/icon/triangle-wave2.svg"})}),Object(j.jsx)(r.b,{class:"waveform-button",color:"square"===y?"primary":"light",onClick:function(){w("square")},mode:"ios","data-testid":"square-button",children:Object(j.jsx)(r.f,{class:"waveform-icon-2",slot:"icon-only",src:"/~jfalkinburg/husker-scope/app/assets/icon/square-wave2.svg"})}),Object(j.jsx)(r.b,{class:"waveform-button",color:"sawtooth"===y?"primary":"light",onClick:function(){w("sawtooth")},mode:"ios","data-testid":"sawtooth-button",children:Object(j.jsx)(r.f,{class:"waveform-icon-2",slot:"icon-only",src:"/~jfalkinburg/husker-scope/app/assets/icon/sawtooth-wave2.svg"})})]})]}),Object(j.jsx)("div",{className:"channel-div",children:Object(j.jsx)(r.b,{class:"edit-button-R",mode:"ios",onClick:function(){E(1)},color:1===W?"primary":"light","data-testid":"right-edit",children:Object(j.jsxs)("div",{className:"edit-button-contents",children:["CH2 ",Object(j.jsx)("br",{}),"FQ: ",Math.round(h)," Hz ",Object(j.jsx)("br",{}),"AMP: ",g,"% ",Object(j.jsx)("br",{}),"PH: ",R,"\xb0",Object(j.jsx)("img",{className:"edit-img",src:"/~jfalkinburg/husker-scope/app"+"/assets/".concat(C,"-wave.png"),alt:""})]})})})]}),Object(j.jsxs)("div",{className:"amplitude-start-phase",children:[Object(j.jsxs)("div",{className:"amplitude-components",children:[Object(j.jsxs)(r.b,{class:"amplitude-button",mode:"ios",color:"light",onClick:function(){return te({showPopover:!0,amplitude:p})},"data-testid":"amplitude-button",children:["Amplitude: ",p,"%"]}),Object(j.jsx)(r.r,{class:"range-amplitude",mode:"ios",value:p,min:0,max:100,step:1,onIonChange:function(e){return v(e.detail.value)},"data-testid":"amplitude-range"})]}),Object(j.jsxs)("div",{className:"start-buttons",children:[Object(j.jsx)(r.b,{class:"hold-button",mode:"ios",onClick:function(){B()},color:L?"primary":"light","data-testid":"left-play",children:Object(j.jsxs)("div",{className:"edit-button-contents",children:["CH1",Object(j.jsx)("img",{className:"play-pause-img",src:"/~jfalkinburg/husker-scope/app"+(L?"/assets/pause.png":"/assets/play.png"),alt:""})]})}),Object(j.jsx)(r.b,{class:"hold-button",mode:"ios",onClick:function(){Y()},color:V?"primary":"light","data-testid":"right-play",children:Object(j.jsxs)("div",{className:"edit-button-contents",children:["CH2",Object(j.jsx)("img",{className:"play-pause-img",src:"/~jfalkinburg/husker-scope/app"+(V?"/assets/pause.png":"/assets/play.png"),alt:""})]})})]}),Object(j.jsxs)("div",{className:"phase-components",children:[Object(j.jsxs)(r.b,{class:"phase-button",mode:"ios",color:"light",onClick:function(){return ce({showPopover:!0,phase:P})},"data-testid":"phase-button",children:["Phase: ",P,"\xb0"]}),Object(j.jsx)(r.r,{class:"range-phase",mode:"ios",value:P,min:0,max:360,step:1,onIonChange:function(e){return T(e.detail.value)},"data-testid":"phase-range"})]})]}),Object(j.jsx)(r.q,{isOpen:J.showPopover,cssClass:Object(G.e)("ios")||Object(G.e)("android")?"input-popover":"input-popover-web",mode:"ios",showBackdrop:!0,onDidPresent:function(){ue.current.setFocus()},onDidDismiss:function(){return X({showPopover:!1,frequency:u})},"data-testid":"frequency-popup",children:Object(j.jsxs)("div",{className:"popover-content",children:[Object(j.jsx)(r.h,{ref:ue,class:"input-popover-text",type:"number",inputmode:"numeric",placeholder:"20 to 20000 Hz",onIonChange:function(e){return X((function(t){return Object(O.a)(Object(O.a)({},t),{},{frequency:parseInt(e.detail.value,10)})}))},onKeyUp:function(e){return le(e,"frequency")}}),Object(j.jsx)(r.b,{onClick:function(e){return ae()},"data-testid":"frequency-confirm",children:"CONFIRM"})]})}),Object(j.jsx)(r.q,{isOpen:ee.showPopover,cssClass:Object(G.e)("ios")||Object(G.e)("android")?"input-popover":"input-popover-web",mode:"ios",showBackdrop:!0,onDidPresent:function(){de.current.setFocus()},onDidDismiss:function(){return te({showPopover:!1,amplitude:u})},"data-testid":"amplitude-popup",children:Object(j.jsxs)("div",{className:"popover-content",children:[Object(j.jsx)(r.h,{ref:de,class:"input-popover-text",type:"number",inputmode:"numeric",placeholder:"0 to 100",onIonChange:function(e){return te((function(t){return Object(O.a)(Object(O.a)({},t),{},{amplitude:parseInt(e.detail.value,10)})}))},onKeyUp:function(e){return le(e,"amplitude")}}),Object(j.jsx)(r.b,{onClick:function(e){return oe()},"data-testid":"amplitude-confirm",children:"CONFIRM"})]})}),Object(j.jsx)(r.q,{isOpen:ie.showPopover,cssClass:Object(G.e)("ios")||Object(G.e)("android")?"input-popover":"input-popover-web",mode:"ios",showBackdrop:!0,onDidPresent:function(){be.current.setFocus()},onDidDismiss:function(){return ce({showPopover:!1,phase:P})},"data-testid":"phase-popup",children:Object(j.jsxs)("div",{className:"popover-content",children:[Object(j.jsx)(r.h,{ref:be,class:"input-popover-text",type:"number",inputmode:"numeric",placeholder:"0\xb0 to 360\xb0",onIonChange:function(e){return ce((function(t){return Object(O.a)(Object(O.a)({},t),{},{phase:parseInt(e.detail.value,10)})}))},onKeyUp:function(e){return le(e,"phase")}}),Object(j.jsx)(r.b,{onClick:function(){return re()},"data-testid":"phase-confirm",children:"CONFIRM"})]})})]})]})},K=(n(96),n(6)),Q=n(17),J=n(3),X=n.n(J),$=function(e){var t=new X.a.Layer,n=function(t,n,s){for(var i=s.width/t,c=s.height/n,a=0;a<=t;a++){var o=s.left+a*i,r=new X.a.Point(o,s.top),l=new X.a.Point(o,s.bottom),u=new X.a.Path.Line(r,l);if(u.strokeColor="black",u.strokeWidth=.6,5===a){u.strokeWidth=1.5;for(var d=s.top,b=d,j=o,h=0;h<40;h++){o=j;var p=s.height*h/40;o*=.988;var O=new X.a.Point(o,p);o*=1.024;var f=new X.a.Point(o,p),v=new X.a.Path.Line(O,f);v.strokeColor="black",v.strokeWidth=.8}}0!==a&&a!==t||(u.strokeWidth=1.5)}var m=e?n:n/2;for(a=0;a<=n;a++){d=s.top+a*c;var g=new X.a.Point(s.left,d),x=new X.a.Point(s.right,d);if((u=new X.a.Path.Line(g,x)).strokeColor="black",u.strokeWidth=.6,a===m){u.strokeWidth=1.5;var y=s.width/40;for(b=d,j=o=s.left,h=1;h<=40;h++)o=j,d=b,o+=h*y,d*=.988,O=new X.a.Point(o,d),d*=1.024,f=new X.a.Point(o,d),(v=new X.a.Path.Line(O,f)).strokeColor="black",v.strokeWidth=.8}0!==a&&a!==n||(u.strokeWidth=2.5)}};n(10,8,X.a.view.bounds),X.a.view.on("resize",(function(e){t.activate(),t.removeChildren(),n(10,8,X.a.view.bounds)}))},Z=n(11),ee=n(12),te=function(e,t,n){return Math.min(Math.max(e,t),n)},ne=function(){function e(t){Object(Z.a)(this,e);this.axis=t,this.basePath=new X.a.Path({segments:[[0,0],[10,10],[20,0]],fillColor:"black",selected:!1,closed:!0,rotation:0===this.axis?0:-90}),this.selecting=!1,this.pos=.5,0===this.axis?(this.basePath.position.x=X.a.view.bounds.width*this.pos,this.basePath.position.y=5):(this.basePath.position.x=5,this.basePath.position.y=X.a.view.bounds.height*(1-this.pos))}return Object(ee.a)(e,[{key:"mousedown",value:function(e){var t=this.basePath.hitTest(e.point,{stroke:!0,fill:!0,tolerance:50});this.selecting=t&&t.item}},{key:"mousedrag",value:function(e){if(this.selecting)return 0===this.axis?(this.pos=te(e.point.x/X.a.view.bounds.width,.01,.99),this.basePath.position.x=X.a.view.bounds.width*this.pos):(this.pos=1-te(e.point.y/X.a.view.bounds.height,.01,.99),this.basePath.position.y=X.a.view.bounds.height*(1-this.pos)),this.pos}},{key:"mouseup",value:function(e){this.selecting=null}},{key:"resize",value:function(e){0===this.axis?this.basePath.position.x=X.a.view.bounds.width*this.pos:this.basePath.position.y=X.a.view.bounds.height*(1-this.pos)}}]),e}(),se=function(e){var t=new X.a.Layer,n=.5,s=.5,i=new ne(0),c=new ne(1);X.a.view.onMouseDown=function(e){i.mousedown(e),c.mousedown(e)},X.a.view.onMouseDrag=function(t){var a,o;n=null!==(a=i.mousedrag(t))&&void 0!==a?a:n,s=null!==(o=c.mousedrag(t))&&void 0!==o?o:s,e(n,2*s-1)},X.a.view.onMouseUp=function(e){i.mouseup(e),c.mouseup(e)},X.a.view.on("resize",(function(e){t.activate(),i.resize(e),c.resize(e)}))},ie=function(e,t,n){return Math.min(Math.max(e,t),n)},ce=!1,ae=function(e){var t=new X.a.Layer,n=.25,s=.75,i=.25,c=.75,a=Math.abs(n-s),o=Math.abs(i-c),r=new X.a.Path({segments:[[X.a.view.bounds.width*n,0],[X.a.view.bounds.width*n,X.a.view.bounds.height]],selected:!1});r.strokeColor="Black",r.strokeWidth=3,r.strokeCap="round",r.dashArray=[10,12];var l=new X.a.Path.Circle({center:X.a.view.center,radius:15,fillColor:"red"}),u=new X.a.Path({segments:[[X.a.view.bounds.width*s,0],[X.a.view.bounds.width*s,X.a.view.bounds.height]],selected:!1});u.strokeColor="Black",u.strokeWidth=3,u.strokeCap="round",u.dashArray=[10,12];var d=new X.a.Path.Circle({center:X.a.view.center,radius:15,fillColor:"red"}),b=new X.a.Path({segments:[[0,X.a.view.bounds.height*(1-i)],[X.a.view.bounds.width,X.a.view.bounds.height*(1-i)]],selected:!1});b.strokeColor="Black",b.strokeWidth=3,b.strokeCap="round",b.dashArray=[10,12];var j=new X.a.Path.Circle({center:X.a.view.center,radius:15,fillColor:"red"}),h=new X.a.Path({segments:[[0,X.a.view.bounds.height*(1-c)],[X.a.view.bounds.width,X.a.view.bounds.height*(1-c)]],selected:!1});h.strokeColor="Black",h.strokeWidth=3,h.strokeCap="round",h.dashArray=[10,12];var p=new X.a.Path.Circle({center:X.a.view.center,radius:15,fillColor:"red"});l.position.x=X.a.view.bounds.width*n,l.position.y=X.a.view.bounds.height,j.position.x=X.a.view.bounds.width,j.position.y=X.a.view.bounds.height*(1-i),d.position.x=X.a.view.bounds.width*s,d.position.y=X.a.view.bounds.height,p.position.x=X.a.view.bounds.width,p.position.y=X.a.view.bounds.height*(1-c),l.visible=ce,d.visible=ce,j.visible=ce,p.visible=ce,r.visible=ce,u.visible=ce,b.visible=ce,h.visible=ce,e(a,o);var O,f,v,m,g={stroke:!0,fill:!0,tolerance:50};X.a.view.on("mousedown",(function(e){var t=l.hitTest(e.point,g);O=t&&t.item;var n=j.hitTest(e.point,g);f=n&&n.item;var s=d.hitTest(e.point,g);v=s&&s.item;var i=p.hitTest(e.point,g);m=i&&i.item})),X.a.view.on("mousedrag",(function(t){O?(n=ie(t.point.x/X.a.view.bounds.width,0,1),O.position.x=X.a.view.bounds.width*n,r.position.x=X.a.view.bounds.width*n):f?(i=ie(1-t.point.y/X.a.view.bounds.height,0,1),f.position.y=X.a.view.bounds.height*(1-i),b.position.y=X.a.view.bounds.height*(1-i),console.log(X.a.view.bounds.height)):v?(s=ie(t.point.x/X.a.view.bounds.width,0,1),v.position.x=X.a.view.bounds.width*s,u.position.x=X.a.view.bounds.width*s):m&&(c=ie(1-t.point.y/X.a.view.bounds.height,0,1),m.position.y=X.a.view.bounds.height*(1-c),h.position.y=X.a.view.bounds.height*(1-c)),a=Math.abs(n-s),o=Math.abs(i-c),e(a,o)})),X.a.view.on("mouseup",(function(e){O=null,f=null,v=null,m=null})),X.a.view.on("resize",(function(e){t.activate(),r.remove(),u.remove(),b.remove(),h.remove(),l.remove(),d.remove(),j.remove(),p.remove(),(r=new X.a.Path({segments:[[n*X.a.view.bounds.width,0],[n*X.a.view.bounds.width,X.a.view.bounds.height]],selected:!1})).strokeColor="Black",r.strokeWidth=3,r.strokeCap="round",r.dashArray=[10,12],l=new X.a.Path.Circle({center:X.a.view.center,radius:15,fillColor:"red"}),(u=new X.a.Path({segments:[[s*X.a.view.bounds.width,0],[s*X.a.view.bounds.width,X.a.view.bounds.height]],selected:!1})).strokeColor="Black",u.strokeWidth=3,u.strokeCap="round",u.dashArray=[10,12],d=new X.a.Path.Circle({center:X.a.view.center,radius:15,fillColor:"red"}),(b=new X.a.Path({segments:[[0,(1-i)*X.a.view.bounds.height],[X.a.view.bounds.width,(1-i)*X.a.view.bounds.height]],selected:!1})).strokeColor="Black",b.strokeWidth=3,b.strokeCap="round",b.dashArray=[10,12],j=new X.a.Path.Circle({center:X.a.view.center,radius:15,fillColor:"red"}),(h=new X.a.Path({segments:[[0,(1-c)*X.a.view.bounds.height],[X.a.view.bounds.width,(1-c)*X.a.view.bounds.height]],selected:!1})).strokeColor="Black",h.strokeWidth=3,h.strokeCap="round",h.dashArray=[10,12],p=new X.a.Path.Circle({center:X.a.view.center,radius:15,fillColor:"red"}),l.position.x=X.a.view.bounds.width*n,l.position.y=X.a.view.bounds.height,j.position.x=X.a.view.bounds.width,j.position.y=X.a.view.bounds.height*(1-i),d.position.x=X.a.view.bounds.width*s,d.position.y=X.a.view.bounds.height,p.position.x=X.a.view.bounds.width,p.position.y=X.a.view.bounds.height*(1-c),l.visible=ce,d.visible=ce,j.visible=ce,p.visible=ce,r.visible=ce,u.visible=ce,b.visible=ce,h.visible=ce})),X.a.view.on("frame",(function(e){l.visible=ce,d.visible=ce,j.visible=ce,p.visible=ce,r.visible=ce,u.visible=ce,b.visible=ce,h.visible=ce}))},oe=function(e){for(var t="Point,Value\n",n=0;n<e.length;n++)t+=n+","+e[n],t+="\n";var s=new Blob([t],{type:"text/csv"}),i=URL.createObjectURL(s),c=document.createElement("a");c.href=i;var a=new Date,o="export data - "+(a.getFullYear()+"-"+(a.getMonth()+1)+"-"+a.getDate())+" at "+(a.getHours()+"_"+a.getMinutes()+"_"+a.getSeconds())+".csv",r=(new File([s],"export.csv",{type:"text/csv"}),{text:t,title:"Wave"});if(Object(G.e)("android")){var l=function(){alert("Save Failed!")};window.resolveLocalFileSystemURL("file:///storage/emulated/0/",(function(e){e.getDirectory("Download",{create:!0,exclusive:!1},(function(e){e.getFile(o,{create:!0,exclusive:!1},(function(e){e.createWriter((function(e){e.onwriteend=function(){alert("File saved to downloads")},e.seek(0),e.write(t)}),l)}),l)}),l)}),l)}else if(Object(G.e)("ios")){navigator.canShare&&navigator.canShare(r)?navigator.share(r).then((function(){return alert("Share was successful.")})).catch((function(e){e&&"AbortError"===(null===e||void 0===e?void 0:e.name)||alert("Sharing failed")})):alert("Sharing unsupported")}else c.download=o,c.click()},re=!1,le=.5,ue=1,de=.5,be=0,je=!1,he=0,pe=0,Oe=8192,fe=44100,ve=n(66).fft,me=n(100),ge="Rectangle",xe=538.33,ye=.45,we=null,ke=null,Ce=!1,Fe=function(e,t){de=e,be=t},Me=function(){var e=Object(Q.a)(Object(K.a)().mark((function e(t,n,s,i,c,a){var o,r,l,u,d,b,j,h,p,O,f,v;return Object(K.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(f=function(){this.amount=200,this.height=10,this.offsetX=0,this.waveSpeed=3,this.selected=!1,this._path=new X.a.Path({fillColor:this.color}),this.init=function(){this._path.strokeColor="#D00100",this._path.selected=this.selected,this._path.segments=[];for(var e=0;e<=this.amount;e++){var t=new X.a.Point(e/this.amount*X.a.view.size.width,.5*X.a.view.size.height);this._path.add(t)}},this.update=function(e){var n=X.a.view.size.height;if(je){var o=Math.min(Math.max(Math.round(5*he)/10,.1),4.9),u=1;if(pe<440){u=Math.round(400/pe/.4536)}je=!1,i(u),c(o),s()}if(Ce&&(oe(r,false),Ce=!1,a()),t)for(var d=fe/Oe,b=Math.floor(xe/d)-100*ue,j=0;j<=this.amount;j++){var h=r[ue*j+b];h=-h/le*ye,this._path.segments[j].point.y=(h+1)*n}else for(var p=0;p<=this.amount;p++){var O=this._path.segments[p],f=l,v=0;null!=we&&(f=we,v=-(de*this.amount*ue|0));var m=r[v+f+p*ue];m=-m/le*ye,O.point.y=(m+1)*(n/2)}re&&(l+=this.amount+1,l%=r.length)}},o=new X.a.Layer,r=new Float32Array(Oe),l=0,u=function(){we=null;for(var e=Math.floor(r.length/2);e<r.length-1;e++){var t=r[e],n=r[e+1];if(!0===ke){if(t<=be*le/ye&&n>be*le/ye){we=e;break}}else if(t>=be*le/ye&&n<be*le/ye){we=e;break}}},d=function(){he=.01;for(var e=0;e<r.length;e++){var t=Math.abs(r[e]);t>he&&(he=t)}},b=function(){for(var e=0,t=-1,s=-1,i=0;i<r.length-1;i++){var c=r[i],a=r[i+1];(0===c||c<0&&a>0||c>0&&a<0)&&(0===e&&(t=i),s=i,e++)}pe=-1===t?0:.5*fe*(e-1)/(s-t),n(Math.round(pe))},j=function(){"Hanning"===ge&&(r=me.hann(r))},!window.audioinput){e.next=13;break}h=function(){window.audioinput.start({streamToWebAudio:!1,bufferSize:Oe})},window.audioinput.checkMicrophonePermission((function(e){e?h():window.audioinput.getMicrophonePermission((function(e,t){e?h():console.log("Failed to obtain capture permission")}))})),e.next=16;break;case 13:return p={audio:{autoGainControl:!1,echoCancellation:!1,noiseSuppression:!1}},e.next=16,navigator.mediaDevices.getUserMedia(p).then((function(e){var n=new AudioContext({sampleRate:44100});fe=n.sampleRate;var s=n.createMediaStreamSource(e),i=n.createAnalyser();i.fftSize=Oe,s.connect(i);var c=n.createOscillator();c.type="sine",c.frequency.value=440,O=setInterval((function(){if(re&&(l=0,i.getFloatTimeDomainData(r),t)){j();for(var e=ve(r),n=0;n<Oe;n++){var s=Math.sqrt(Math.pow(e[n][0],2)+Math.pow(e[n][1],2));r[n]=s}}u(),d(),b()}),20)})).catch((function(e){console.log(e.name+": "+e.message)}));case 16:return 10,8,(v=new f).color="blue",v.height=10,v.init(),X.a.view.on("frame",(function(e){o.activate(),v.update(e)})),X.a.view.on("resize",(function(e){o.activate(),v.init()})),e.abrupt("return",O);case 25:case"end":return e.stop()}}),e)})));return function(t,n,s,i,c,a){return e.apply(this,arguments)}}(),Ne=Me,Pe=function(e){var t=Object(i.useRef)(null),n=Object(i.useRef)(null),s="spectrum-graph"===e.className,c=function(){var i=Object(Q.a)(Object(K.a)().mark((function i(){var a;return Object(K.a)().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(null===t.current||0===t.current.clientWidth){i.next=13;break}return"undefined"!==typeof L&&clearInterval(L),a=t.current,X.a.setup(a),$(s),s||se((function(e,t){return Fe(e,t)})),i.next=8,Ne(s,e.frequencyChangeCallback,e.autosetFinishCallback,e.timeDivChangeCallback,e.voltageDivChangeCallback,e.saveFinishCallback);case 8:L=i.sent,ae(e.cursorChangeCallback),X.a.view.draw(),i.next=14;break;case 13:n.current=requestAnimationFrame(c);case 14:case"end":return i.stop()}}),i)})));return function(){return i.apply(this,arguments)}}();return Object(i.useEffect)((function(){return n.current=requestAnimationFrame(c),function(){cancelAnimationFrame(n.current)}}),[]),Object(i.useEffect)((function(){X.a.view&&(X.a.view.viewSize=Object(r.F)("ios")||Object(r.F)("android")?new X.a.Size(t.current.clientWidth,t.current.clientHeight):new X.a.Size(2*t.current.clientWidth,2*t.current.clientHeight),X.a.view.emit("resize",{}))}),[e.isFullscreen]),Object(i.useEffect)((function(){var t;t=e.playPauseFlag,re=t}),[e.playPauseFlag]),Object(i.useEffect)((function(){var t;t=e.voltageDiv,le=t}),[e.voltageDiv]),Object(i.useEffect)((function(){var t;t=e.timeDiv,ue=t}),[e.timeDiv]),Object(i.useEffect)((function(){var t;t=e.autoset,je=t}),[e.autoset]),Object(i.useEffect)((function(){var t;t=e.triggerFlag,ke=t}),[e.triggerFlag]),Object(i.useEffect)((function(){var t;t=e.cursorFlag,ce=t}),[e.cursorFlag]),Object(i.useEffect)((function(){var t;t=e.saveFlag,Ce=t}),[e.saveFlag]),Object(i.useEffect)((function(){var t;t=e.windowType,ge=t}),[e.windowType]),Object(i.useEffect)((function(){var t;t=e.center,xe=t}),[e.center]),Object(j.jsx)("canvas",{ref:t,className:e.className,resize:"true",id:"canvas"})},qe=function(){var e=.1,t=Object(i.useState)(!0),n=Object(f.a)(t,2),s=n[0],c=n[1],a=Object(i.useState)(!0),o=Object(f.a)(a,2),l=o[0],u=o[1],d=Object(i.useState)(!0),b=Object(f.a)(d,2),h=b[0],p=b[1],O=Object(i.useState)(.5),v=Object(f.a)(O,2),m=v[0],g=v[1],x=Object(i.useState)(1),y=Object(f.a)(x,2),w=y[0],k=y[1],C=Object(i.useState)(440),F=Object(f.a)(C,2),M=F[0],N=F[1],P=Object(i.useState)(!0),q=Object(f.a)(P,2),S=q[0],A=q[1],T=Object(i.useState)(!1),D=Object(f.a)(T,2),_=D[0],H=D[1],I=Object(i.useState)(!1),z=Object(f.a)(I,2),R=z[0],W=z[1],E=Object(i.useState)(0),L=Object(f.a)(E,2),V=L[0],U=L[1],G=Object(i.useState)(0),Y=Object(f.a)(G,2),K=Y[0],Q=Y[1],J=Object(i.useState)(!1),X=Object(f.a)(J,2),$=X[0],Z=X[1];function ee(){u(!l)}var te=Object(i.useState)({showPopover:!1}),ne=Object(f.a)(te,2),se=ne[0],ie=ne[1];function ce(e){ie({showPopover:!1}),0===e?A(!0):1===e&&A(!1)}function ae(){return(.4536*w*10*V).toFixed(4)}function oe(){return(8*m*K).toFixed(1)}function re(){return(.4536*w).toFixed(4)}function le(){return m.toFixed(1)}return Object(j.jsxs)(r.p,{children:[Object(j.jsxs)(r.e,{className:l?"header":"header-full",children:[Object(j.jsx)(r.b,{className:l?"flscrn-button-graph-small":"flscrn-button-hidden",mode:"ios",fill:"clear",onClick:function(){return ee()},children:Object(j.jsx)("img",{className:"fullscreen-img",src:"/~jfalkinburg/husker-scope/app/assets/fullscreenwhite.png",alt:""})}),Object(j.jsxs)(r.w,{mode:"ios",color:"primary",children:[Object(j.jsx)(r.c,{slot:"start",children:Object(j.jsx)(r.n,{})}),Object(j.jsxs)(r.v,{children:[" ",Object(j.jsx)("b",{style:{fontWeight:"bolder"},children:"Husker Scope"}),": Oscilloscope"]})]})]}),Object(j.jsxs)(r.d,{fullscreen:!0,scrollY:!1,color:"secondary",children:[Object(j.jsxs)("div",{className:"full-screen",children:[Object(j.jsx)(r.b,{className:l?"flscrn-button-hidden":"flscrn-button-graph-full",mode:"ios",onClick:function(){return ee()},fill:"clear",children:Object(j.jsx)("img",{className:"fullscreen-img",src:"/~jfalkinburg/husker-scope/app/assets/fullscreen2.png",alt:""})}),Object(j.jsx)(r.b,{className:l?"fullscreen-display-button-hidden":"fullscreen-display-button",onClick:function(){p(!h)},mode:"ios",fill:"clear",children:Object(j.jsx)("img",{className:"display-icon",src:"/~jfalkinburg/husker-scope/app/assets/displayoff.png",alt:""})}),Object(j.jsxs)("label",{className:Object(r.F)("ios")||Object(r.F)("android")?h||l?"display-data-hidden":"display-data-full":h||l?"display-data-hidden":"display-data-full-web",children:[Object(j.jsx)("b",{children:"Frequency"}),": ",M,"Hz ",Object(j.jsx)("br",{}),Object(j.jsx)("b",{children:" Time Division"}),": ",re(),"ms ",Object(j.jsx)("br",{}),Object(j.jsx)("b",{children:" Voltage Division"}),": ",le(),"V ",Object(j.jsx)("br",{}),_?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("b",{children:" Voltage"}),": ",oe(),"V ",Object(j.jsx)("br",{}),Object(j.jsx)("b",{children:" Time"}),": ",ae(),"ms ",Object(j.jsx)("br",{})]}):null]}),Object(j.jsx)(B,{enabled:!0}),Object(j.jsx)("div",{className:Object(r.F)("ios")||Object(r.F)("android")?l?"oscilloscope-div":"oscilloscope-div-full":l?"oscilloscope-div-web":"oscilloscope-div-full-web",children:Object(j.jsx)(Pe,{className:"oscope-graph",isFullscreen:l,playPauseFlag:s,voltageDiv:m,timeDiv:w,cursorChangeCallback:function(e,t){U(e),Q(t)},frequencyChangeCallback:function(e){N(e)},timeDivChangeCallback:function(e){k(e)},voltageDivChangeCallback:function(e){g(e)},autoset:R,autosetFinishCallback:function(){W(!1)},triggerFlag:S,cursorFlag:_,saveFlag:$,saveFinishCallback:function(){Z(!1)}})}),Object(j.jsxs)("div",{className:Object(r.F)("ios")||Object(r.F)("android")?l?"side-data":"side-data-hidden":l?"side-data-web":"side-data-hidden",children:[Object(j.jsxs)("div",{className:"first-row-div",children:[" ",Object(j.jsx)(r.b,{class:"utility-buttons",mode:"ios",onClick:function(){W(!0)},color:R?"primary":"light","data-testid":"autoset-button",children:Object(j.jsx)("div",{children:"Auto"})}),Object(j.jsx)(r.b,{class:"voltage-time-division-button",mode:"ios",onClick:function(){m+e<=5&&g(Math.round(10*(m+e))/10)},color:"tertiary","data-testid":"volt-div-pos-button",children:Object(j.jsxs)("div",{children:["Volt/Div",Object(j.jsxs)("div",{children:["+",e,"V"]})]})}),Object(j.jsx)(r.b,{class:"utility-buttons",mode:"ios",onClick:function(){H(!_)},color:_?"primary":"light","data-testid":"cursor-button",children:Object(j.jsx)("div",{children:"Cursors"})})]}),Object(j.jsxs)("div",{className:"second-row-div",children:[" ",Object(j.jsx)(r.b,{class:"voltage-time-division-button",mode:"ios",onClick:function(){1!==w&&k((function(e){return e-1}))},color:"tertiary","data-testid":"time-div-neg-button",children:Object(j.jsxs)("div",{children:["Time/Div",Object(j.jsxs)("div",{children:["-",453.6,"us"]})]})}),Object(j.jsx)(r.b,{id:"pause-play-button",class:"pause-play-button",mode:"ios",onClick:function(){c(!s)},color:s?"primary":"tertiary","data-testid":"pause-play-button",children:Object(j.jsxs)("div",{children:[Object(j.jsx)("img",{className:"pause-play-img",src:"/~jfalkinburg/husker-scope/app"+(s?"/assets/pause.png":"/assets/playwhite.png"),alt:""}),Object(j.jsx)("div",{children:"Run/Pause"})]})}),Object(j.jsx)(r.b,{class:"voltage-time-division-button",mode:"ios",onClick:function(){80!==w&&k((function(e){return e+1}))},color:"tertiary","data-testid":"time-div-pos-button",children:Object(j.jsxs)("div",{children:["Time/Div",Object(j.jsxs)("div",{children:["+",453.6,"us"]})]})})]}),Object(j.jsxs)("div",{className:"third-row-div",children:[" ",Object(j.jsx)(r.b,{class:"utility-buttons",mode:"ios",onClick:function(){Z(!0)},color:$?"primary":"light","data-testid":"save-button",children:Object(j.jsx)("div",{children:"Save"})}),Object(j.jsx)(r.b,{class:"voltage-time-division-button",mode:"ios",onClick:function(){m-e>=.1&&g(Math.round(10*(m-e))/10)},color:"tertiary","data-testid":"volt-div-neg-button",children:Object(j.jsxs)("div",{children:["Volt/Div",Object(j.jsxs)("div",{children:["-",e,"V"]})]})}),Object(j.jsx)(r.b,{class:"utility-buttons",mode:"ios",color:"light",onClick:function(){return ie({showPopover:!0})},"data-testid":"trigger-button",children:Object(j.jsxs)("div",{children:["Trigger",Object(j.jsx)("br",{}),"Menu"]})})]}),Object(j.jsxs)("div",{className:"display-div",children:[" ",Object(j.jsx)("span",{className:"helper"}),Object(j.jsxs)("label",{className:Object(r.F)("ios")||Object(r.F)("android")?l?"display-data-main":"display-data-hidden":l?"display-data-main-web":"display-data-hidden",children:[Object(j.jsx)("b",{children:"Frequency"}),": ",M,"Hz ",Object(j.jsx)("br",{}),Object(j.jsx)("b",{children:" Time Division"}),": ",re(),"ms ",Object(j.jsx)("br",{}),Object(j.jsx)("b",{children:" Voltage Division"}),": ",le(),"V ",Object(j.jsx)("br",{}),_?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("b",{children:" Voltage"}),": ",oe(),"V ",Object(j.jsx)("br",{}),Object(j.jsx)("b",{children:" Time"}),": ",ae(),"ms ",Object(j.jsx)("br",{})]}):null]})]})]})]}),Object(j.jsx)(r.q,{isOpen:se.showPopover,cssClass:Object(r.F)("ios")||Object(r.F)("android")?"input-popover2":"input-popover2-web",mode:"ios",showBackdrop:!0,onDidDismiss:function(){return ie({showPopover:!1})},"data-testid":"triggerMenu-popup",children:Object(j.jsxs)("div",{className:"popover-content2",children:[Object(j.jsx)(r.b,{class:"trigger-popup-button",onClick:function(e){return ce(0)},"data-testid":"Rising-confirm",children:"Rising"}),Object(j.jsx)(r.b,{class:"trigger-popup-button",onClick:function(e){return ce(1)},"data-testid":"Falling-confirm",children:"Falling"}),Object(j.jsxs)(r.b,{class:"trigger-popup-button",onClick:function(e){return ce(2)},"data-testid":"Auto-confirm",children:["Single-",Object(j.jsx)("br",{}),"Trigger"]})]})})]})]})},Se=(n(101),function(){var e=Object(i.useContext)(x),t=e.state,n=e.dispatch;Object(i.useEffect)((function(){return function(){n(N(0,!1)),n(N(1,!1))}}),[n]);var s=q(t),c=S(t,0),a=S(t,1),o=T(s),l=Object(i.useCallback)((function(e){n(function(e){return{type:"setCarrierFrequency",payload:e}}(e))}),[n]),u=T(c),d=T(a),b=D(s),h=Object(i.useCallback)((function(e){n(function(e){return{type:"setMessageFrequency",payload:e}}(e))}),[n]),p=D(c),v=D(a),m=_(s),g=Object(i.useCallback)((function(e){n(F(Math.max(0,e)))}),[n]),y=_(c),w=_(a),k=t.currChannel,C=Object(i.useCallback)((function(e){n(M(e))}),[n]),A=z(c),H=z(a),I=Object(i.useCallback)((function(){n(N(0,!A))}),[A,n]),W=Object(i.useCallback)((function(){n(N(1,!H))}),[H,n]),E=R(c),L=R(a),V=Object(i.useCallback)((function(){n(P(!0))}),[n]),B=Object(i.useCallback)((function(){n(P(!1))}),[n]),G=Object(i.useCallback)((function(){n(P(!0))}),[n]),Y=Object(i.useCallback)((function(){n(P(!1))}),[n]),K=Object(i.useState)({showPopover:!1,frequency:440}),Q=Object(f.a)(K,2),J=Q[0],X=Q[1],$=Object(i.useState)({showPopover:!1,messageFrequency:40}),Z=Object(f.a)($,2),ee=Z[0],te=Z[1],ne=Object(i.useState)({showPopover:!1,amplitude:100}),se=Object(f.a)(ne,2),ie=se[0],ce=se[1];function ae(){l(J.frequency),X({showPopover:!1,frequency:o})}function oe(){h(ee.messageFrequency),te({showPopover:!1,messageFrequency:b})}function re(){g(ie.amplitude),ce({showPopover:!1,amplitude:m})}function le(e,t){if("Enter"===e.key)switch(t){case"cfrequency":ae();break;case"mfrequency":oe();break;case"amplitude":re()}}var ue=Object(i.useRef)(null),de=Object(i.useRef)(null),be=Object(i.useRef)(null);var je={active:A,frequency:u,messageFrequency:p,amplitude:y/100,phase:0,waveform:"custom",modulation:E},he={active:H,frequency:d,messageFrequency:v,amplitude:w/100,phase:0,waveform:"custom",modulation:L};return Object(j.jsxs)(r.p,{children:[Object(j.jsx)(r.e,{children:Object(j.jsxs)(r.w,{mode:"ios",color:"primary",children:[Object(j.jsx)(r.c,{slot:"start",children:Object(j.jsx)(r.n,{})}),Object(j.jsxs)(r.v,{children:[Object(j.jsx)("b",{style:{fontWeight:"bolder"},children:"Husker Scope"}),": Amplitude Modulation/Frequency Modulation"]}),Object(j.jsx)(r.g,{slot:"end",class:"logo",src:"/~jfalkinburg/husker-scope/app/assets/Husker_Scope_Logo_circle.png"})]})}),Object(j.jsxs)(r.d,{fullscreen:!0,scrollY:!1,color:"secondary",children:[Object(j.jsx)(U,{chOne:je,chTwo:he}),Object(j.jsxs)("div",{className:"frequency-waveform-channels-AMFM",children:[Object(j.jsx)("div",{className:"channel-div-AMFM",children:Object(j.jsx)(r.b,{class:"edit-button-L-AMFM",mode:"ios",onClick:function(){C(0)},color:0===k?"primary":"light","data-testid":"left-edit",children:Object(j.jsxs)("div",{className:"edit-button-contents-AMFM",children:["CH1 ",Object(j.jsx)("br",{}),"C-FQ: ",Math.round(u)," Hz ",Object(j.jsx)("br",{}),"M-FQ: ",Math.round(p)," Hz",Object(j.jsx)("br",{}),"AMP: ",y,"% ",Object(j.jsx)("br",{}),"MODE: ",E?"AM":"FM"," ",Object(j.jsx)("br",{})]})})}),Object(j.jsxs)("div",{className:"frequency-and-waveform-AMFM",children:[Object(j.jsx)("div",{className:"frequency-button-div-AMFM",children:Object(j.jsxs)(r.b,{class:"frequency-button-AMFM",mode:"ios",color:"light",onClick:function(){return X({showPopover:!0,frequency:o})},"data-testid":"frequency-button",children:["Carrier Frequency: ",Math.round(o)," Hz"]})}),Object(j.jsx)("div",{children:Object(j.jsx)(r.r,{class:"range-frequency-AMFM",mode:"ios",value:Math.log(o-549),min:0,max:Math.log(19451),step:1e-10,onIonChange:function(e){return l(Math.exp(e.detail.value)+549)},"data-testid":"frequency-range"})}),Object(j.jsx)("div",{className:"message-frequency-button-div-AMFM",children:Object(j.jsxs)(r.b,{class:"message-frequency-button-AMFM",mode:"ios",color:"light",onClick:function(){return te({showPopover:!0,messageFrequency:b})},"data-testid":"message-frequency-button",children:["Message Frequency: ",Math.round(b)," Hz"]})}),Object(j.jsx)("div",{children:Object(j.jsx)(r.r,{class:"range-message-frequency-AMFM",mode:"ios",value:b,min:1,max:o/10,step:1e-10,onIonChange:function(e){return h(e.detail.value)},"data-testid":"message-frequency-range"})})]}),Object(j.jsx)("div",{className:"channel-div-AMFM",children:Object(j.jsx)(r.b,{class:"edit-button-R-AMFM",mode:"ios",onClick:function(){C(1)},color:1===k?"primary":"light","data-testid":"right-edit",children:Object(j.jsxs)("div",{className:"edit-button-contents-AMFM",children:["CH2 ",Object(j.jsx)("br",{}),"C-FQ: ",Math.round(d)," Hz ",Object(j.jsx)("br",{}),"M-FQ: ",Math.round(v)," Hz",Object(j.jsx)("br",{}),"AMP: ",w,"% ",Object(j.jsx)("br",{}),"MODE: ",L?"AM":"FM"," ",Object(j.jsx)("br",{})]})})})]}),Object(j.jsxs)("div",{className:"amplitude-start-phase-AMFM",children:[Object(j.jsxs)("div",{className:"amplitude-components2-AMFM",children:[Object(j.jsxs)(r.b,{class:"amplitude-button-AMFM",mode:"ios",color:"light",onClick:function(){return ce({showPopover:!0,amplitude:m})},"data-testid":"amplitude-button",children:["Amplitude: ",m,"%"]}),Object(j.jsx)(r.r,{class:"range-amplitude-AMFM",mode:"ios",value:m,min:0,max:100,step:1,onIonChange:function(e){return g(e.detail.value)},"data-testid":"amplitude-range"})]}),Object(j.jsxs)("div",{className:"start-buttons-AMFM",children:[Object(j.jsx)(r.b,{class:"hold-button-AMFM",mode:"ios",onClick:function(){I()},color:A?"primary":"light","data-testid":"left-play",children:Object(j.jsxs)("div",{className:"edit-button-contents-AMFM",children:["CH1",Object(j.jsx)("img",{className:"play-pause-img-AMFM",src:"/~jfalkinburg/husker-scope/app"+(A?"/assets/pause.png":"/assets/play.png"),alt:""})]})}),Object(j.jsx)(r.b,{class:"hold-button-AMFM",mode:"ios",onClick:function(){W()},color:H?"primary":"light","data-testid":"right-play",children:Object(j.jsxs)("div",{className:"edit-button-contents-AMFM",children:["CH2",Object(j.jsx)("img",{className:"play-pause-img-AMFM",src:"/~jfalkinburg/husker-scope/app"+(H?"/assets/pause.png":"/assets/play.png"),alt:""})]})})]}),Object(j.jsxs)("div",{className:"AMFM-toggle-div",children:[Object(j.jsx)(r.b,{class:"modulation-button-AMFM",mode:"ios",onClick:function(){k?G():V()},color:k?L?"primary":"light":E?"primary":"light","data-testid":"modulation-button",children:Object(j.jsx)("div",{className:"edit-button-contents-AMFM",children:"AM"})}),Object(j.jsx)(r.b,{class:"modulation-button-AMFM",mode:"ios",onClick:function(){k?Y():B()},color:k?L?"light":"primary":E?"light":"primary","data-testid":"modulation-button2",children:Object(j.jsx)("div",{className:"edit-button-contents-AMFM",children:"FM"})})]})]}),Object(j.jsx)(r.q,{isOpen:J.showPopover,cssClass:Object(r.F)("android")||Object(r.F)("ios")?"input-popover-AMFM":"input-popover-AMFM-web",mode:"ios",showBackdrop:!0,onDidPresent:function(){ue.current.setFocus()},onDidDismiss:function(){return X({showPopover:!1,frequency:o})},"data-testid":"frequency-popup",children:Object(j.jsxs)("div",{className:"popover-div-AMFM",children:[Object(j.jsx)(r.h,{ref:ue,class:"input-popover-text-AMFM",type:"number",inputmode:"numeric",placeholder:"550 to 20000 Hz",onIonChange:function(e){return X((function(t){return Object(O.a)(Object(O.a)({},t),{},{frequency:parseInt(e.detail.value,10)})}))},onKeyUp:function(e){return le(e,"cfrequency")}}),Object(j.jsx)(r.b,{onClick:function(e){return ae()},"data-testid":"frequency-confirm",children:"CONFIRM"})]})}),Object(j.jsx)(r.q,{isOpen:ee.showPopover,cssClass:Object(r.F)("android")||Object(r.F)("ios")?"input-popover-AMFM":"input-popover-AMFM-web",mode:"ios",showBackdrop:!0,onDidPresent:function(){de.current.setFocus()},onDidDismiss:function(){return te({showPopover:!1,messageFrequency:b})},"data-testid":"message-frequency-popup",children:Object(j.jsxs)("div",{className:"popover-div-AMFM",children:[Object(j.jsx)(r.h,{ref:de,class:"input-popover-text-AMFM",type:"number",inputmode:"numeric",placeholder:"1 to "+Math.round(o/10)+" Hz",onIonChange:function(e){return te((function(t){return Object(O.a)(Object(O.a)({},t),{},{messageFrequency:parseInt(e.detail.value,10)})}))},onKeyUp:function(e){return le(e,"mfrequency")}}),Object(j.jsx)(r.b,{onClick:function(e){return oe()},"data-testid":"message-frequency-confirm",children:"CONFIRM"})]})}),Object(j.jsx)(r.q,{isOpen:ie.showPopover,cssClass:Object(r.F)("android")||Object(r.F)("ios")?"input-popover-AMFM":"input-popover-AMFM-web",mode:"ios",showBackdrop:!0,onDidPresent:function(){be.current.setFocus()},onDidDismiss:function(){return ce({showPopover:!1,amplitude:o})},"data-testid":"amplitude-popup",children:Object(j.jsxs)("div",{className:"popover-div-AMFM",children:[Object(j.jsx)(r.h,{ref:be,class:"input-popover-text-AMFM",type:"number",inputmode:"numeric",placeholder:"0 to 100",onIonChange:function(e){return ce((function(t){return Object(O.a)(Object(O.a)({},t),{},{amplitude:parseInt(e.detail.value,10)})}))},onKeyUp:function(e){return le(e,"amplitude")}}),Object(j.jsx)(r.b,{onClick:function(e){return re()},"data-testid":"amplitude-confirm",children:"CONFIRM"})]})})]})]})}),Ae=(n(102),function(){var e=107.666015625,t=Object(i.useState)(!0),n=Object(f.a)(t,2),s=n[0],c=n[1],a=Object(i.useState)(!0),o=Object(f.a)(a,2),l=o[0],u=o[1],d=Object(i.useState)(!0),b=Object(f.a)(d,2),h=b[0],p=b[1],v=Object(i.useState)(5),m=Object(f.a)(v,2),g=m[0],x=m[1],y=Object(i.useState)(1),w=Object(f.a)(y,2),k=w[0],C=w[1],F=Object(i.useState)(440),M=Object(f.a)(F,2),N=(M[0],M[1]),P=Object(i.useState)(8192),q=Object(f.a)(P,2),S=q[0],A=q[1],T=Object(i.useState)(5*e),D=Object(f.a)(T,2),_=D[0],H=D[1],I=Object(i.useState)("Rectangle"),z=Object(f.a)(I,2),R=z[0],W=z[1],E=Object(i.useState)(!1),L=Object(f.a)(E,2),V=L[0],U=L[1],G=Object(i.useState)(!1),Y=Object(f.a)(G,2),K=Y[0],Q=Y[1],J=Object(i.useState)(0),X=Object(f.a)(J,2),$=X[0],Z=X[1],ee=Object(i.useState)(0),te=Object(f.a)(ee,2),ne=te[0],se=te[1],ie=Object(i.useState)(!1),ce=Object(f.a)(ie,2),ae=ce[0],oe=ce[1];var re=Object(i.useState)({showPopover:!1}),le=Object(f.a)(re,2),ue=le[0],de=le[1],be=Object(i.useState)({showPopover:!1,center:0}),je=Object(f.a)(be,2),he=je[0],pe=je[1],Oe=Object(i.useState)({showPopover:!1,windowType:R}),fe=Object(f.a)(Oe,2),ve=fe[0],me=fe[1];function ge(){H(he.center),console.log("Center has been set to: "+he.center+"hz"),pe({showPopover:!1,center:_})}function xe(e){de({showPopover:!1}),A(e),console.log("FFT Size has been set to: "+e)}function ye(e){me({showPopover:!1,windowType:e}),W(e),console.log("Window type has been set to: "+e)}var we=Object(i.useRef)(null);function ke(){return(8*g*ne).toFixed(1)}function Ce(){return(k*e*10*$).toFixed(3)}function Fe(){return(k*e).toFixed(3)}function Me(){return g.toFixed(1)}return Object(j.jsxs)(r.p,{children:[Object(j.jsx)(r.e,{className:l?"header":"header-full",children:Object(j.jsxs)(r.w,{mode:"ios",color:"primary",children:[Object(j.jsx)(r.c,{slot:"start",children:Object(j.jsx)(r.n,{})}),Object(j.jsxs)(r.v,{children:[" ",Object(j.jsx)("b",{style:{fontWeight:"bolder"},children:"Husker Scope"}),": Spectrum Analyzer"]}),Object(j.jsx)(r.g,{slot:"end",class:"logo",src:"/~jfalkinburg/husker-scope/app/assets/Husker_Scope_Logo_circle.png"})]})}),Object(j.jsxs)(r.d,{fullscreen:!0,scrollY:!1,color:"secondary",children:[Object(j.jsxs)("div",{className:"full-screen",children:[Object(j.jsx)(r.b,{className:l?"flscrn-button-hidden":"flscrn-button-graph-full",mode:"ios",onClick:function(){u(!l)},fill:"clear",children:Object(j.jsx)("img",{className:"fullscreen-img",src:"/~jfalkinburg/husker-scope/app/assets/fullscreen2.png",alt:""})}),Object(j.jsx)(r.b,{className:l?"fullscreen-display-button-hidden":"fullscreen-display-button",onClick:function(){p(!h)},mode:"ios",fill:"clear",children:Object(j.jsx)("img",{className:"display-icon",src:"/~jfalkinburg/husker-scope/app/assets/displayoff.png",alt:""})}),Object(j.jsxs)("label",{className:Object(r.F)("ios")||Object(r.F)("android")?h||l?"display-data-hidden":"display-data-full":h||l?"display-data-hidden":"display-data-full-web",children:[Object(j.jsx)("b",{children:" Freq Division"}),": ",Fe(),"Hz ",Object(j.jsx)("br",{}),Object(j.jsx)("b",{children:" Amplitude Division"}),": ",Me(),"V ",Object(j.jsx)("br",{}),Object(j.jsx)("b",{children:" Center"}),": ",_.toFixed(3),"Hz ",Object(j.jsx)("br",{}),Object(j.jsx)("b",{children:" Window"}),": ",R," ",Object(j.jsx)("br",{}),Object(j.jsx)("b",{children:" FFT Size"}),": ",S," ",Object(j.jsx)("br",{}),V?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("b",{children:" Amplitude"}),": ",ke(),"V ",Object(j.jsx)("br",{}),Object(j.jsx)("b",{children:" Frequency"}),": ",Ce(),"Hz ",Object(j.jsx)("br",{})]}):null]}),Object(j.jsx)(B,{enabled:!0}),Object(j.jsx)("div",{className:Object(r.F)("ios")||Object(r.F)("android")?l?"oscilloscope-div":"oscilloscope-div-full":l?"oscilloscope-div-web":"oscilloscope-div-full-web",children:Object(j.jsx)(Pe,{className:"spectrum-graph",isFullscreen:l,playPauseFlag:s,voltageDiv:g,timeDiv:k,cursorChangeCallback:function(e,t){Z(e),se(t)},frequencyChangeCallback:function(e){N(e)},timeDivChangeCallback:function(e){C(e)},voltageDivChangeCallback:function(e){x(e)},autoset:K,autosetFinishCallback:function(){Q(!1)},cursorFlag:V,saveFlag:ae,saveFinishCallback:function(){oe(!1)},windowType:R,center:_})}),Object(j.jsxs)("div",{className:Object(r.F)("ios")||Object(r.F)("android")?l?"side-data":"side-data-hidden":l?"side-data-web":"side-data-hidden",children:[Object(j.jsxs)("div",{className:"first-row-div",children:[" ",Object(j.jsx)(r.b,{class:"utility-buttons",mode:"ios",onClick:function(){Q(!0)},color:K?"primary":"light","data-testid":"autoset-button",children:Object(j.jsx)("div",{children:"Auto"})}),Object(j.jsx)(r.b,{class:"voltage-time-division-button",mode:"ios",onClick:function(){return de({showPopover:!0})},color:"tertiary","data-testid":"FFT-size-button",children:Object(j.jsx)("div",{children:"FFT Size"})}),Object(j.jsx)(r.b,{class:"utility-buttons",mode:"ios",onClick:function(){U(!V)},color:V?"primary":"light","data-testid":"cursor-button",children:Object(j.jsx)("div",{children:"Cursors"})})]}),Object(j.jsxs)("div",{className:"second-row-div",children:[" ",Object(j.jsx)(r.b,{class:"voltage-time-division-button",mode:"ios",onClick:function(){k>1&&C((function(e){return e-1}))},color:"tertiary","data-testid":"time-div-neg-button",children:Object(j.jsxs)("div",{children:["Freq/Div",Object(j.jsxs)("div",{children:["-",e.toFixed(3),"Hz"]})]})}),Object(j.jsx)(r.b,{id:"pause-play-button",class:"pause-play-button",mode:"ios",onClick:function(){c(!s)},color:s?"primary":"tertiary","data-testid":"pause-play-button",children:Object(j.jsxs)("div",{children:[Object(j.jsx)("img",{className:"pause-play-img",src:"/~jfalkinburg/husker-scope/app"+(s?"/assets/pause.png":"/assets/playwhite.png"),alt:""}),Object(j.jsx)("div",{children:"Run/Pause"})]})}),Object(j.jsx)(r.b,{class:"voltage-time-division-button",mode:"ios",onClick:function(){k<20&&C((function(e){return e+1}))},color:"tertiary","data-testid":"time-div-pos-button",children:Object(j.jsxs)("div",{children:["Freq/Div",Object(j.jsxs)("div",{children:["+",e.toFixed(3),"Hz"]})]})})]}),Object(j.jsxs)("div",{className:"third-row-div",children:[" ",Object(j.jsx)(r.b,{class:"utility-buttons",mode:"ios",onClick:function(){oe(!0)},color:ae?"primary":"light","data-testid":"save-button",children:Object(j.jsx)("div",{children:"Save"})}),Object(j.jsx)(r.b,{class:"voltage-time-division-button",mode:"ios",onClick:function(){return pe({showPopover:!0,center:_})},color:"tertiary","data-testid":"center-button",children:Object(j.jsx)("div",{children:"Center"})}),Object(j.jsx)(r.b,{class:"utility-buttons",mode:"ios",onClick:function(){return me({showPopover:!0,windowType:R})},color:"light","data-testid":"window-button",children:Object(j.jsx)("div",{children:"Window"})})]}),Object(j.jsxs)("div",{className:"display-div",children:[" ",Object(j.jsx)("span",{className:"helper"}),Object(j.jsxs)("label",{className:Object(r.F)("ios")||Object(r.F)("android")?l?"display-data-main":"display-data-hidden":l?"display-data-main-web":"display-data-hidden",children:[Object(j.jsx)("b",{children:" Freq Division"}),": ",Fe(),"Hz ",Object(j.jsx)("br",{}),Object(j.jsx)("b",{children:" Amplitude Division"}),": ",Me(),"V ",Object(j.jsx)("br",{}),Object(j.jsx)("b",{children:" Center"}),": ",_.toFixed(3),"Hz ",Object(j.jsx)("br",{}),Object(j.jsx)("b",{children:" Window"}),": ",R," ",Object(j.jsx)("br",{}),Object(j.jsx)("b",{children:" FFT Size"}),": ",S," ",Object(j.jsx)("br",{}),V?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("b",{children:" Amplitude"}),": ",ke(),"V ",Object(j.jsx)("br",{}),Object(j.jsx)("b",{children:" Frequency"}),": ",Ce(),"Hz ",Object(j.jsx)("br",{})]}):null]})]})]})]}),Object(j.jsx)(r.q,{isOpen:he.showPopover,cssClass:Object(r.F)("ios")||Object(r.F)("android")?"input-popover":"input-popover-web",mode:"ios",showBackdrop:!0,onDidPresent:function(){we.current.setFocus()},onDidDismiss:function(){return pe({showPopover:!1,center:_})},"data-testid":"center-popup",children:Object(j.jsxs)("div",{className:"popover-content",children:[Object(j.jsx)(r.h,{ref:we,class:"input-popover-text",type:"number",inputmode:"numeric",placeholder:"0 to 20000 Hz",onIonChange:function(e){return pe((function(t){return Object(O.a)(Object(O.a)({},t),{},{center:parseInt(e.detail.value,10)})}))},onKeyUp:function(e){return t="center",void("Enter"===e.key&&"center"===t&&ge());var t}}),Object(j.jsx)(r.b,{onClick:function(e){return ge()},"data-testid":"center-confirm",children:"CONFIRM"})]})}),Object(j.jsxs)(r.q,{isOpen:ue.showPopover,cssClass:Object(r.F)("ios")||Object(r.F)("android")?"input-popover2":"input-popover2-web",mode:"ios",showBackdrop:!0,onDidDismiss:function(){return de({showPopover:!1})},"data-testid":"triggerMenu-popup",children:[Object(j.jsxs)("div",{className:"popover-content2",style:{marginBottom:"0px"},children:[Object(j.jsx)(r.b,{class:"trigger-popup-button",onClick:function(e){return xe(512)},"data-testid":"Rising-confirm",children:"512"}),Object(j.jsx)(r.b,{class:"trigger-popup-button",onClick:function(e){return xe(1024)},"data-testid":"Falling-confirm",children:"1024"}),Object(j.jsx)(r.b,{class:"trigger-popup-button",onClick:function(e){return xe(2048)},"data-testid":"Auto-confirm",children:"2048"})]}),Object(j.jsxs)("div",{className:"popover-content2",style:{marginTop:"0px"},children:[Object(j.jsx)(r.b,{class:"trigger-popup-button",onClick:function(e){return xe(4096)},"data-testid":"Auto-confirm",children:"4096"}),Object(j.jsx)(r.b,{class:"trigger-popup-button",onClick:function(e){return xe(8192)},"data-testid":"Auto-confirm",children:"8192"}),Object(j.jsx)(r.b,{class:"trigger-popup-button",onClick:function(e){return xe(16384)},"data-testid":"Auto-confirm",children:"16384"})]})]}),Object(j.jsx)(r.q,{isOpen:ve.showPopover,cssClass:Object(r.F)("ios")||Object(r.F)("android")?"input-popover2":"input-popover2-web",mode:"ios",showBackdrop:!0,onDidDismiss:function(){return me({showPopover:!1,windowType:R})},"data-testid":"triggerMenu-popup",children:Object(j.jsxs)("div",{className:"popover-content2",children:[Object(j.jsx)(r.b,{class:"trigger-popup-button",onClick:function(e){return ye("Rectangle")},"data-testid":"rectangle-confirm",children:"Rectangle"}),Object(j.jsx)(r.b,{class:"trigger-popup-button",onClick:function(e){return ye("Hanning")},"data-testid":"hanning-confirm",children:"Hanning"})]})})]})]})}),Te=(n(103),function(){var e=.1,t=Object(i.useState)(!0),n=Object(f.a)(t,2),s=n[0],c=n[1],a=Object(i.useState)(!0),o=Object(f.a)(a,2),l=o[0],u=o[1],d=Object(i.useState)(!0),b=Object(f.a)(d,2),h=b[0],p=b[1],O=Object(i.useState)(.5),v=Object(f.a)(O,2),m=v[0],g=v[1],x=Object(i.useState)(1),y=Object(f.a)(x,2),w=y[0],k=y[1],C=Object(i.useState)(440),F=Object(f.a)(C,2),M=F[0],N=F[1],P=Object(i.useState)(!0),q=Object(f.a)(P,2),S=q[0],A=q[1],T=Object(i.useState)(!1),D=Object(f.a)(T,2),_=D[0],H=D[1],I=Object(i.useState)(!1),z=Object(f.a)(I,2),R=z[0],W=z[1],E=Object(i.useState)(0),L=Object(f.a)(E,2),V=L[0],U=L[1],G=Object(i.useState)(0),Y=Object(f.a)(G,2),K=Y[0],Q=Y[1],J=Object(i.useState)(!1),X=Object(f.a)(J,2),$=X[0],Z=X[1];var ee=Object(i.useState)({showPopover:!1}),te=Object(f.a)(ee,2),ne=te[0],se=te[1];function ie(e){se({showPopover:!1}),0===e?A(!0):1===e&&A(!1)}return Object(j.jsxs)(r.p,{children:[Object(j.jsx)(r.e,{className:l?"header":"header-full",children:Object(j.jsxs)(r.w,{mode:"ios",color:"primary",children:[Object(j.jsx)(r.c,{slot:"start",children:Object(j.jsx)(r.n,{})}),Object(j.jsxs)(r.v,{children:[" ",Object(j.jsx)("b",{style:{fontWeight:"bolder"},children:"Husker Scope"}),": Logic Analyzer"]}),Object(j.jsx)(r.g,{slot:"end",class:"logo",src:"/~jfalkinburg/husker-scope/app/assets/Husker_Scope_Logo_circle.png"})]})}),Object(j.jsxs)(r.d,{fullscreen:!0,scrollY:!1,color:"secondary",children:[Object(j.jsxs)("div",{className:"full-screen",children:[Object(j.jsx)(r.b,{className:l?"flscrn-button-hidden":"flscrn-button-graph-full",mode:"ios",onClick:function(){u(!l)},fill:"clear",children:Object(j.jsx)("img",{className:"fullscreen-img",src:"/~jfalkinburg/husker-scope/app/assets/fullscreen2.png",alt:""})}),Object(j.jsx)(r.b,{className:l?"fullscreen-display-button-hidden":"fullscreen-display-button",onClick:function(){p(!h)},mode:"ios",fill:"clear",children:Object(j.jsx)("img",{className:"display-icon",src:"/~jfalkinburg/husker-scope/app/assets/displayoff.png",alt:""})}),Object(j.jsxs)("label",{className:Object(r.F)("ios")||Object(r.F)("android")?h||l?"display-data-hidden":"display-data-full":h||l?"display-data-hidden":"display-data-full-web",children:[Object(j.jsx)("b",{children:"Frequency"}),": ",M,"Hz ",Object(j.jsx)("br",{}),Object(j.jsx)("b",{children:" Time Division"}),": ",(.4536*w).toFixed(4),"ms ",Object(j.jsx)("br",{}),Object(j.jsx)("b",{children:" Voltage Division"}),": ",m.toFixed(1),"V ",Object(j.jsx)("br",{}),_?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("b",{children:" Voltage"}),": ",(8*m*K).toFixed(1),"V ",Object(j.jsx)("br",{}),Object(j.jsx)("b",{children:" Time"}),": ",(.4536*w*10*V).toFixed(4),"ms ",Object(j.jsx)("br",{})]}):null]}),Object(j.jsx)(B,{enabled:!0}),Object(j.jsx)("div",{className:Object(r.F)("ios")||Object(r.F)("android")?l?"oscilloscope-div":"oscilloscope-div-full":l?"oscilloscope-div-web":"oscilloscope-div-full-web",children:Object(j.jsx)(Pe,{className:"oscope-graph",isFullscreen:l,playPauseFlag:s,voltageDiv:m,timeDiv:w,cursorChangeCallback:function(e,t){U(e),Q(t)},frequencyChangeCallback:function(e){N(e)},timeDivChangeCallback:function(e){k(e)},voltageDivChangeCallback:function(e){g(e)},autoset:R,autosetFinishCallback:function(){W(!1)},triggerFlag:S,cursorFlag:_,saveFlag:$,saveFinishCallback:function(){Z(!1)}})}),Object(j.jsxs)("div",{className:Object(r.F)("ios")||Object(r.F)("android")?l?"side-data":"side-data-hidden":l?"side-data-web":"side-data-hidden",children:[Object(j.jsxs)("div",{className:"first-row-div",children:[" ",Object(j.jsx)(r.b,{class:"utility-buttons",mode:"ios",onClick:function(){W(!0)},color:R?"primary":"light","data-testid":"util-1-button",children:Object(j.jsx)("div",{children:"Auto"})}),Object(j.jsx)(r.b,{class:"voltage-time-division-button",mode:"ios",onClick:function(){m+e<=5&&g(Math.round(10*(m+e))/10)},color:"tertiary","data-testid":"volt-div-pos-button",children:Object(j.jsxs)("div",{children:["Volt/Div",Object(j.jsxs)("div",{children:["+",e,"V"]})]})}),Object(j.jsx)(r.b,{class:"utility-buttons",mode:"ios",onClick:function(){H(!_)},color:_?"primary":"light","data-testid":"util-2-button",children:Object(j.jsx)("div",{children:"Cursors"})})]}),Object(j.jsxs)("div",{className:"second-row-div",children:[" ",Object(j.jsx)(r.b,{class:"voltage-time-division-button",mode:"ios",onClick:function(){1!==w&&k((function(e){return e-1}))},color:"tertiary","data-testid":"time-div-neg-button",children:Object(j.jsxs)("div",{children:["Time/Div",Object(j.jsxs)("div",{children:["-",453.6,"us"]})]})}),Object(j.jsx)(r.b,{id:"pause-play-button",class:"pause-play-button",mode:"ios",onClick:function(){c(!s)},color:s?"primary":"tertiary","data-testid":"pause-play-button",children:Object(j.jsxs)("div",{children:[Object(j.jsx)("img",{className:"pause-play-img",src:"/~jfalkinburg/husker-scope/app"+(s?"/assets/pause.png":"/assets/playwhite.png"),alt:""}),Object(j.jsx)("div",{children:"Run/Pause"})]})}),Object(j.jsx)(r.b,{class:"voltage-time-division-button",mode:"ios",onClick:function(){80!==w&&k((function(e){return e+1}))},color:"tertiary","data-testid":"time-div-pos-button",children:Object(j.jsxs)("div",{children:["Time/Div",Object(j.jsxs)("div",{children:["+",453.6,"us"]})]})})]}),Object(j.jsxs)("div",{className:"third-row-div",children:[" ",Object(j.jsx)(r.b,{class:"utility-buttons",mode:"ios",onClick:function(){Z(!0)},color:$?"primary":"light","data-testid":"util-4-button",children:Object(j.jsx)("div",{children:"Save"})}),Object(j.jsx)(r.b,{class:"voltage-time-division-button",mode:"ios",onClick:function(){m-e>=.1&&g(Math.round(10*(m-e))/10)},color:"tertiary","data-testid":"volt-div-neg-button",children:Object(j.jsxs)("div",{children:["Volt/Div",Object(j.jsxs)("div",{children:["-",e,"V"]})]})}),Object(j.jsx)(r.b,{class:"utility-buttons",mode:"ios",color:"light",onClick:function(){return se({showPopover:!0})},"data-testid":"util-6-button",children:Object(j.jsxs)("div",{children:["Trigger",Object(j.jsx)("br",{}),"Menu"]})})]}),Object(j.jsxs)("div",{className:"display-div",children:[" ",Object(j.jsx)("span",{className:"helper"}),Object(j.jsxs)("label",{className:Object(r.F)("ios")||Object(r.F)("android")?l?"display-data-main":"display-data-hidden":l?"display-data-main-web":"display-data-hidden",children:[Object(j.jsx)("b",{children:"Frequency"}),": ",M,"Hz ",Object(j.jsx)("br",{}),Object(j.jsx)("b",{children:" Time Division"}),": ",(.4536*w).toFixed(4),"ms ",Object(j.jsx)("br",{}),Object(j.jsx)("b",{children:" Voltage Division"}),": ",m.toFixed(1),"V ",Object(j.jsx)("br",{}),_?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("b",{children:" Voltage"}),": ",(8*m*K).toFixed(1),"V ",Object(j.jsx)("br",{}),Object(j.jsx)("b",{children:" Time"}),": ",(.4536*w*10*V).toFixed(4),"ms ",Object(j.jsx)("br",{})]}):null]})]})]})]}),Object(j.jsx)(r.q,{isOpen:ne.showPopover,cssClass:Object(r.F)("ios")||Object(r.F)("android")?"input-popover2":"input-popover2-web",mode:"ios",showBackdrop:!0,onDidDismiss:function(){return se({showPopover:!1})},"data-testid":"triggerMenu-popup",children:Object(j.jsxs)("div",{className:"popover-content2",children:[Object(j.jsx)(r.b,{class:"trigger-popup-button",onClick:function(e){return ie(0)},"data-testid":"Rising-confirm",children:"Rising"}),Object(j.jsx)(r.b,{class:"trigger-popup-button",onClick:function(e){return ie(1)},"data-testid":"Falling-confirm",children:"Falling"}),Object(j.jsxs)(r.b,{class:"trigger-popup-button",onClick:function(e){return ie(2)},"data-testid":"Auto-confirm",children:["Single-",Object(j.jsx)("br",{}),"Trigger"]})]})})]})]})}),De=(n(104),function(){return Object(j.jsxs)(r.p,{children:[Object(j.jsx)(r.e,{children:Object(j.jsxs)(r.w,{mode:"ios",color:"primary",children:[Object(j.jsx)(r.c,{slot:"start",children:Object(j.jsx)(r.n,{})}),Object(j.jsxs)(r.v,{children:[" ",Object(j.jsx)("b",{style:{fontWeight:"bolder"},children:"Husker Scope"}),": Tutorial"]}),Object(j.jsx)(r.g,{slot:"end",class:"nebraska-n",src:"/~jfalkinburg/husker-scope/app/assets/Husker_Scope_Logo_circle.png"})]})}),Object(j.jsx)(r.d,{fullscreen:!0,scrollY:!0,color:"secondary",children:Object(j.jsx)("div",{className:"tutorial-page",children:Object(j.jsxs)("div",{className:"main-div",children:[Object(j.jsx)("div",{className:"intro-div",children:Object(j.jsx)("p",{children:" \u2003This page serves as a tutorial for what all the buttons on the Function Generator and Oscilloscope do. First will be an image of the Function Generator with what all the buttons on the UI do. Following that, there will be a picture of the Oscilloscope with information on what the buttons do. We hope it's of help!"})}),Object(j.jsxs)("div",{children:[Object(j.jsx)("div",{className:"fg-tutorial-img-div",children:Object(j.jsx)(r.g,{className:"fg-tutorial-img",src:"/~jfalkinburg/husker-scope/app/assets/function_generator_tutorial.png"})}),Object(j.jsxs)("ol",{children:[Object(j.jsx)("li",{children:"These buttons are to select which channel the user wants to edit."}),Object(j.jsx)("li",{children:"This button serves the purpose of displaying the frequency of the channel and if it is pressed, a popup is displayed that allows for an exact frequency to be entered using the keyboard."}),Object(j.jsx)("li",{children:"This button serves the purpose of displaying the amplitude of the channel and if it is pressed, a popup is displayed that allows for an exact amplitude to be entered using the keyboard."}),Object(j.jsxs)("li",{children:["This button serves the purpose of displaying the phase of the channel and if it is pressed, a popup is displayed that allows for an exact phase to be entered using the keyboard. ",Object(j.jsx)("br",{})," Note: The sliders underneath the previous 3 buttons are for changing the values of frequency, amplitude, and phase respectively."]}),Object(j.jsx)("li",{children:"The four waveform buttons are used for setting the waveform for the currently selected channel."}),Object(j.jsx)("li",{children:"These two buttons are for playing and pause the output on the respective channels."})]}),Object(j.jsx)("div",{className:"os-tutorial-img-div",children:Object(j.jsx)(r.g,{className:"os-tutorial-img",src:"/~jfalkinburg/husker-scope/app/assets/oscope_tutorial.png"})}),Object(j.jsxs)("ol",{children:[Object(j.jsx)("li",{children:"This is the oscilloscope graph, which is where the wave is displayed."}),Object(j.jsx)("li",{children:"The small triangles on the top and left of the graph are the oscilloscope's triggers."}),Object(j.jsx)("li",{children:"The red half-circles on the sides of the graph are the oscilloscope's cursors."}),Object(j.jsx)("li",{children:"This is a data display which is used for displaying the frequency, time division, volt division, and if the cursors are enabled it also displays the voltage and time measures."}),Object(j.jsx)("li",{children:"This button and the one below the run/pause button are used for increasing and decreasing the voltage division."}),Object(j.jsx)("li",{children:"This button and the one to the right of the run/pause button are used for decreasing and increasing the time division."}),Object(j.jsx)("li",{children:"This is the run/pause button. If the button is red, the graph will update. If it is white, the graph will be paused."}),Object(j.jsx)("li",{children:"This button is used for autosetting the graph."}),Object(j.jsx)("li",{children:"This button enables and disables the cursors on the graph. If the button is red, the cursors are enabled. If the button is white, the cursors are diabled."}),Object(j.jsx)("li",{children:"Save button: In progress"}),Object(j.jsx)("li",{children:"This button displays a Trigger Menu that has the options for changing between rising and falling edge and single trigger."}),Object(j.jsxs)("li",{children:["This button changes the graph to fullscreen. After the graph is in fullscreen, there is a button in the same location that disables the fullscreen. ",Object(j.jsx)("br",{}),"Note: When the graph is in fullscreen, the button below the fullscreen button enables and disables the data display."]})]}),Object(j.jsx)("div",{className:"os-tutorial-img-div",children:Object(j.jsx)(r.g,{className:"os-tutorial-img",src:"/~jfalkinburg/husker-scope/app/assets/am.png"})}),Object(j.jsxs)("ol",{children:[Object(j.jsx)("li",{children:"These buttons are to select which channel the user wants to edit."}),Object(j.jsx)("li",{children:"This button defines the carrier frequency for the current channel."})," ",Object(j.jsx)("li",{children:"This buttons defines the message frequency for the current channel."})," ",Object(j.jsx)("li",{children:"This button serves the purpose of displaying the amplitude of the channel and if it is pressed, a popup is displayed that allows for an exact amplitude to be entered using the keyboard."}),Object(j.jsx)("li",{children:"This button switches the modulation mode, from amplitude modulation to frequency modulation."})," ",Object(j.jsx)("li",{children:"These two buttons are for playing and pause the output on the respective channels."})]}),Object(j.jsx)("div",{className:"os-tutorial-img-div",children:Object(j.jsx)(r.g,{className:"os-tutorial-img",src:"/~jfalkinburg/husker-scope/app/assets/circuit_diagram_rotated.png"})}),Object(j.jsxs)("ul",{children:[Object(j.jsx)("li",{children:"10k is a 10 kilo ohm resistor"}),Object(j.jsx)("li",{children:"2k is a 2 kilo ohm resistor"}),Object(j.jsx)("li",{children:"RL is a switch. This will switch between left and right channel"}),Object(j.jsx)("li",{children:"S, R2, R1, T, are all breakout pins for verifying correct input"})]})]})]})})})]})}),_e=(n(105),function(){return Object(j.jsxs)(r.p,{children:[Object(j.jsx)(r.e,{children:Object(j.jsxs)(r.w,{mode:"ios",color:"primary",children:[Object(j.jsx)(r.c,{slot:"start",children:Object(j.jsx)(r.n,{})}),Object(j.jsxs)(r.v,{children:[" ",Object(j.jsx)("b",{style:{fontWeight:"bolder"},children:"Husker Scope"}),": About"]}),Object(j.jsx)(r.g,{slot:"end",class:"nebraska-n",src:"/~jfalkinburg/husker-scope/app/assets/Husker_Scope_Logo_circle.png"})]})}),Object(j.jsxs)(r.d,{fullscreen:!0,scrollY:!0,color:"secondary",children:[Object(j.jsxs)("div",{className:"content",children:[Object(j.jsx)("div",{className:"overview",children:"Project Overview"}),Object(j.jsx)("div",{className:"project-vision",children:"Project Vision"}),Object(j.jsx)("div",{className:"project-justification",children:"Project Justification"})]}),Object(j.jsxs)("div",{className:"content",children:[Object(j.jsx)("div",{className:"overview-text",children:"Husker Scope is an iOS and Android application that serves as a dual channel function generator and single channel oscilloscope. The dual channel function generator is able to output sine, square, sawtooth and triangle waveforms with a range of 20 to 20,000 Hz. The phase, amplitude and frequency are able to be adjusted within the application. The oscilloscope will show time and volts per division as well as cursors for signal measurement, pause and image export, and triggering."}),Object(j.jsxs)("div",{className:"outer",children:[Object(j.jsx)("div",{className:"project-vision-text",children:"To provide a free and cross-platform application containing a function generator and oscilloscope that will be available to UNL students and Engineering students across the globe."}),Object(j.jsx)(r.g,{slot:"end",class:"logo-about",src:"/~jfalkinburg/husker-scope/app/assets/Husker_Scope_Logo_rounded_corners.png"})]}),Object(j.jsx)("div",{className:"project-justification-text",children:"There are a variety of Function Generators and Oscilloscopes on both the iOS and Google Play store, but most of the iOS applications need to be purchased and Husker Scope is a one stop shop for all function generator and oscilloscope needs on both the iOS and Google Play store. Additionally, most applications require additional hardware to be purchased for proper functionality, but the Husker O-Scope will function through the use of a standard 3.5mm audio jack."})]}),Object(j.jsxs)("div",{className:"link-text",children:["More information about the app and project can be found at ",Object(j.jsx)("a",{href:"https://www.huskerscope.com",target:"_blank",rel:"noreferrer",children:"huskerscope.com"})]})]})]})}),He=(n(106),n(107),n(108),n(109),n(110),n(111),n(112),n(113),n(114),n(115),n(116),n(117),function(){return Object(i.useEffect)((function(){var e=function(e){e.detail.register(-1,(function(){d.a.App.exitApp()}))};return document.addEventListener("ionBackButton",e),function(){document.removeEventListener("ionBackButton",e)}}),[]),Object(j.jsx)(C,{children:Object(j.jsx)(r.a,{className:Object(G.e)("android")||Object(G.e)("ios")?"":"web-zoom",children:Object(j.jsx)(l.a,{basename:"/~jfalkinburg/husker-scope/app",children:Object(j.jsxs)(r.u,{contentId:"main",disabled:!0,children:[Object(j.jsx)(p,{}),Object(j.jsx)(r.t,{mode:"md",id:"main",children:Object(j.jsxs)(u.d,{children:[Object(j.jsx)(u.b,{path:"/",exact:!0,children:Object(j.jsx)(u.a,{to:"/page/FunctionGenerator"})}),Object(j.jsx)(u.b,{path:"/page/FunctionGenerator",exact:!0,children:Object(j.jsx)(Y,{})}),Object(j.jsx)(u.b,{path:"/page/OScope",exact:!0,children:Object(j.jsx)(qe,{})}),Object(j.jsx)(u.b,{path:"/page/AMFM",exact:!0,children:Object(j.jsx)(Se,{})}),Object(j.jsx)(u.b,{path:"/page/SpectrumAnalyzer",exact:!0,children:Object(j.jsx)(Ae,{})}),Object(j.jsx)(u.b,{path:"/page/LogicAnalyzer",exact:!0,children:Object(j.jsx)(Te,{})}),Object(j.jsx)(u.b,{path:"/page/Tutorial",exact:!0,children:Object(j.jsx)(De,{})}),Object(j.jsx)(u.b,{path:"/page/About",exact:!0,children:Object(j.jsx)(_e,{})})]})})]})})})})});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Ie=function(e){e&&e instanceof Function&&n.e(58).then(n.bind(null,181)).then((function(t){var n=t.getCLS,s=t.getFID,i=t.getFCP,c=t.getLCP,a=t.getTTFB;n(e),s(e),i(e),c(e),a(e)}))};o.a.render(Object(j.jsx)(c.a.StrictMode,{children:Object(j.jsx)(He,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)})),Ie()},80:function(e,t,n){var s={"./ion-action-sheet.entry.js":[121,5],"./ion-alert.entry.js":[122,6],"./ion-app_8.entry.js":[123,7],"./ion-avatar_3.entry.js":[124,17],"./ion-back-button.entry.js":[125,18],"./ion-backdrop.entry.js":[126,43],"./ion-button_2.entry.js":[127,19],"./ion-card_5.entry.js":[128,20],"./ion-checkbox.entry.js":[129,21],"./ion-chip.entry.js":[130,22],"./ion-col_3.entry.js":[131,44],"./ion-datetime_3.entry.js":[132,10],"./ion-fab_3.entry.js":[133,23],"./ion-img.entry.js":[134,45],"./ion-infinite-scroll_2.entry.js":[135,46],"./ion-input.entry.js":[136,24],"./ion-item-option_3.entry.js":[137,25],"./ion-item_8.entry.js":[138,26],"./ion-loading.entry.js":[139,27],"./ion-menu_3.entry.js":[140,28],"./ion-modal.entry.js":[141,8],"./ion-nav_2.entry.js":[142,14],"./ion-popover.entry.js":[143,9],"./ion-progress-bar.entry.js":[144,29],"./ion-radio_2.entry.js":[145,30],"./ion-range.entry.js":[146,31],"./ion-refresher_2.entry.js":[147,11],"./ion-reorder_2.entry.js":[148,16],"./ion-ripple-effect.entry.js":[149,47],"./ion-route_4.entry.js":[150,32],"./ion-searchbar.entry.js":[151,33],"./ion-segment_2.entry.js":[152,34],"./ion-select_3.entry.js":[153,35],"./ion-slide_2.entry.js":[154,48],"./ion-spinner.entry.js":[155,13],"./ion-split-pane.entry.js":[156,49],"./ion-tab-bar_2.entry.js":[157,36],"./ion-tab_2.entry.js":[158,15],"./ion-text.entry.js":[159,37],"./ion-textarea.entry.js":[160,38],"./ion-toast.entry.js":[161,39],"./ion-toggle.entry.js":[162,12],"./ion-virtual-scroll.entry.js":[163,50]};function i(e){if(!n.o(s,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=s[e],i=t[0];return n.e(t[1]).then((function(){return n(i)}))}i.keys=function(){return Object.keys(s)},i.id=80,e.exports=i},82:function(e,t,n){var s={"./ion-icon.entry.js":[164,57]};function i(e){if(!n.o(s,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=s[e],i=t[0];return n.e(t[1]).then((function(){return n(i)}))}i.keys=function(){return Object.keys(s)},i.id=82,e.exports=i},90:function(e,t,n){},95:function(e,t,n){},96:function(e,t,n){},97:function(e,t){},99:function(e,t){}},[[118,3,4]]]);
//# sourceMappingURL=main.dacee95d.chunk.js.map